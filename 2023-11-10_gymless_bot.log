2023-11-10 00:08:55,405 - INFO - Новый пользователь с user_id: 940032081, добавляем его в базу данных и начинаем диалог
2023-11-10 00:08:55,626 - INFO - Для пользователя user_id: 940032081 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 00:08:55,627 - INFO - Задаем system на промпт 1
2023-11-10 00:09:04,135 - INFO - Получаем упраженения из бд для пользователя 802693897
2023-11-10 00:09:04,136 - INFO - Получили упражнения пользователя, из количество - 3, упражнения - [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:09:07,188 - INFO - Я выполнил упражнение
2023-11-10 00:09:08,524 - INFO - Пропустить отдых, 1, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:09:12,242 - INFO - Я выполнил упражнение
2023-11-10 00:09:13,516 - INFO - Пропустить отдых, 2, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:09:14,931 - INFO - Я выполнил упражнение
2023-11-10 00:09:16,462 - INFO - Пропустить отдых, 3, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:09:24,709 - ERROR - Infinity polling: polling exited
2023-11-10 00:09:24,709 - ERROR - Break infinity polling
2023-11-10 00:13:24,014 - INFO - Получаем упраженения из бд для пользователя 802693897
2023-11-10 00:13:24,016 - INFO - Получили упражнения пользователя, из количество - 3, упражнения - [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:22:43,618 - ERROR - Infinity polling: polling exited
2023-11-10 00:22:43,618 - ERROR - Break infinity polling
2023-11-10 00:22:49,130 - INFO - Получаем упраженения из бд для пользователя 802693897
2023-11-10 00:22:49,131 - INFO - Получили упражнения пользователя, из количество - 3, упражнения - [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:23:01,062 - ERROR - Infinity polling: polling exited
2023-11-10 00:23:01,062 - ERROR - Break infinity polling
2023-11-10 00:23:04,754 - INFO - Получаем упраженения из бд для пользователя 802693897
2023-11-10 00:23:04,755 - INFO - Получили упражнения пользователя, из количество - 4, упражнения - ['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой']
2023-11-10 00:23:26,932 - INFO - Я выполнил упражнение
2023-11-10 00:23:28,911 - INFO - Пропустить отдых, 1, ['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой']
2023-11-10 00:23:30,644 - INFO - Я выполнил упражнение
2023-11-10 00:23:31,547 - INFO - Пропустить отдых, 2, ['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой']
2023-11-10 00:23:32,854 - INFO - Я выполнил упражнение
2023-11-10 00:23:33,790 - INFO - Пропустить отдых, 3, ['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой']
2023-11-10 00:24:13,741 - INFO - Я выполнил упражнение
2023-11-10 00:24:14,718 - INFO - Пропустить отдых, 4, ['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой']
2023-11-10 00:26:16,438 - ERROR - Infinity polling: polling exited
2023-11-10 00:26:16,438 - ERROR - Break infinity polling
2023-11-10 00:27:58,820 - ERROR - Infinity polling: polling exited
2023-11-10 00:27:58,820 - ERROR - Break infinity polling
2023-11-10 00:28:07,063 - INFO - Получаем упраженения из бд для пользователя 802693897
2023-11-10 00:28:07,064 - INFO - Получили упражнения пользователя, из количество - 4, упражнения - ['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой']
2023-11-10 00:28:08,718 - INFO - Я выполнил упражнение
2023-11-10 00:28:09,761 - INFO - Пропустить отдых, 1, ['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой']
2023-11-10 00:28:09,763 - ERROR - Infinity polling exception: len() takes exactly one argument (0 given)
2023-11-10 00:28:09,771 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 379, in next_exercise
    if n == len():
TypeError: len() takes exactly one argument (0 given)

2023-11-10 00:28:19,344 - ERROR - Infinity polling: polling exited
2023-11-10 00:28:19,344 - ERROR - Break infinity polling
2023-11-10 00:28:35,439 - ERROR - Infinity polling: polling exited
2023-11-10 00:28:35,439 - ERROR - Break infinity polling
2023-11-10 00:28:37,974 - INFO - Получаем упраженения из бд для пользователя 802693897
2023-11-10 00:28:37,974 - INFO - Получили упражнения пользователя, из количество - 4, упражнения - ['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой']
2023-11-10 00:28:38,766 - INFO - Я выполнил упражнение
2023-11-10 00:28:39,649 - INFO - Пропустить отдых, 1, ['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой']
2023-11-10 00:28:40,512 - INFO - Я выполнил упражнение
2023-11-10 00:28:41,218 - INFO - Пропустить отдых, 2, ['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой']
2023-11-10 00:28:41,889 - INFO - Я выполнил упражнение
2023-11-10 00:28:42,631 - INFO - Пропустить отдых, 3, ['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой']
2023-11-10 00:28:43,578 - INFO - Я выполнил упражнение
2023-11-10 00:28:44,549 - INFO - Пропустить отдых, 4, ['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой']
2023-11-10 00:28:44,550 - ERROR - Infinity polling exception: list index out of range
2023-11-10 00:28:44,553 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 384, in next_exercise
    next = bot.send_message(message.chat.id, f"Упражнение {exercises[n]}", reply_markup=markup_keyboard_exercises)
IndexError: list index out of range

2023-11-10 00:29:23,032 - ERROR - Infinity polling: polling exited
2023-11-10 00:29:23,033 - ERROR - Break infinity polling
2023-11-10 00:29:32,424 - INFO - Получаем упраженения из бд для пользователя 802693897
2023-11-10 00:29:32,425 - INFO - Получили упражнения пользователя, из количество - 4, упражнения - ['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой']
2023-11-10 00:29:33,314 - INFO - Я выполнил упражнение
2023-11-10 00:29:34,964 - INFO - Пропустить отдых, 1, ['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой']
2023-11-10 00:29:35,697 - INFO - Я выполнил упражнение
2023-11-10 00:29:36,291 - INFO - Пропустить отдых, 2, ['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой']
2023-11-10 00:29:36,927 - INFO - Я выполнил упражнение
2023-11-10 00:29:37,639 - INFO - Пропустить отдых, 3, ['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой']
2023-11-10 00:29:38,407 - INFO - Я выполнил упражнение
2023-11-10 00:29:39,111 - INFO - Пропустить отдых, 4, ['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой']
2023-11-10 00:29:39,114 - ERROR - Infinity polling exception: list index out of range
2023-11-10 00:29:39,118 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 385, in next_exercise
    next = bot.send_message(message.chat.id, f"Упражнение {exercises[n]}", reply_markup=markup_keyboard_exercises)
IndexError: list index out of range

2023-11-10 00:45:11,523 - ERROR - Infinity polling: polling exited
2023-11-10 00:45:11,523 - ERROR - Break infinity polling
2023-11-10 00:45:19,576 - INFO - Получаем упраженения из бд для пользователя 802693897
2023-11-10 00:45:19,576 - INFO - Получили упражнения пользователя, из количество - 3, упражнения - [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:45:24,485 - INFO - Я выполнил упражнение
2023-11-10 00:46:43,504 - INFO - Пропустить отдых, 1, 0, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:46:44,941 - ERROR - Infinity polling exception: check_ex() missing 1 required positional argument: 'n2'
2023-11-10 00:46:44,946 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
TypeError: check_ex() missing 1 required positional argument: 'n2'

2023-11-10 00:47:05,929 - ERROR - Infinity polling: polling exited
2023-11-10 00:47:05,929 - ERROR - Break infinity polling
2023-11-10 00:47:08,970 - INFO - Получаем упраженения из бд для пользователя 802693897
2023-11-10 00:47:08,971 - INFO - Получили упражнения пользователя, из количество - 3, упражнения - [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:47:10,231 - INFO - Я выполнил упражнение
2023-11-10 00:47:11,358 - INFO - Пропустить отдых, 1, 0, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:47:13,816 - INFO - Я выполнил упражнение
2023-11-10 00:47:16,238 - INFO - Пропустить отдых, 2, 0, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:47:17,401 - INFO - Я выполнил упражнение
2023-11-10 00:47:18,628 - INFO - Пропустить отдых, 3, 0, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:47:24,363 - INFO - Я выполнил упражнение
2023-11-10 00:47:26,400 - INFO - Пропустить отдых, 4, 1, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:47:26,404 - ERROR - Infinity polling exception: list index out of range
2023-11-10 00:47:26,408 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 386, in next_exercise
    next = bot.send_message(message.chat.id, f"Упражнение {exercises[n2][n]}", reply_markup=markup_keyboard_exercises)
IndexError: list index out of range

2023-11-10 00:47:44,517 - ERROR - Infinity polling: polling exited
2023-11-10 00:47:44,517 - ERROR - Break infinity polling
2023-11-10 00:47:47,087 - INFO - Получаем упраженения из бд для пользователя 802693897
2023-11-10 00:47:47,088 - INFO - Получили упражнения пользователя, из количество - 3, упражнения - [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:47:47,836 - INFO - Я выполнил упражнение
2023-11-10 00:47:48,584 - INFO - Пропустить отдых, 1, 0, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:47:49,206 - INFO - Я выполнил упражнение
2023-11-10 00:47:49,869 - INFO - Пропустить отдых, 2, 0, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:47:50,695 - INFO - Я выполнил упражнение
2023-11-10 00:47:51,474 - INFO - Пропустить отдых, 3, 0, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:47:52,286 - INFO - Я выполнил упражнение
2023-11-10 00:47:53,177 - INFO - Пропустить отдых, 0, 1, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:47:59,201 - INFO - Я выполнил упражнение
2023-11-10 00:48:00,003 - INFO - Пропустить отдых, 1, 1, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:48:01,327 - INFO - Я выполнил упражнение
2023-11-10 00:48:02,342 - INFO - Пропустить отдых, 2, 1, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:48:04,232 - INFO - Я выполнил упражнение
2023-11-10 00:48:08,405 - INFO - Пропустить отдых, 3, 1, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:48:09,380 - INFO - Я выполнил упражнение
2023-11-10 00:48:10,445 - INFO - Пропустить отдых, 0, 2, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:48:11,375 - INFO - Я выполнил упражнение
2023-11-10 00:48:12,323 - INFO - Пропустить отдых, 1, 2, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:48:13,570 - INFO - Я выполнил упражнение
2023-11-10 00:48:18,138 - INFO - Пропустить отдых, 2, 2, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:48:18,925 - INFO - Я выполнил упражнение
2023-11-10 00:48:19,661 - INFO - Пропустить отдых, 3, 2, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:48:20,463 - INFO - Я выполнил упражнение
2023-11-10 00:48:21,333 - INFO - Пропустить отдых, 0, 3, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений', ' Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений'], ['Растяжка квадрицепсов - по 1 минуте на каждую ногу', ' Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка трицепсов - по 30 секунд на каждую руку', ' Дыхательные упражнения - 3 минуты']]
2023-11-10 00:48:40,930 - ERROR - Infinity polling: polling exited
2023-11-10 00:48:40,930 - ERROR - Break infinity polling
2023-11-10 00:49:56,796 - INFO - Новый пользователь с user_id: 940032081, добавляем его в базу данных и начинаем диалог
2023-11-10 00:49:57,015 - INFO - Для пользователя user_id: 940032081 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 00:49:57,015 - INFO - Задаем system на промпт 1
2023-11-10 00:50:12,589 - INFO - Пользователь отправил голосовое сообщение. Вызываем whisper и конвертируем в текст
2023-11-10 00:50:12,862 - INFO - Получили голосовое сообщение от пользователя (user_id: 940032081),  file_info: {'file_id': 'AwACAgIAAxkBAAIO42VNVBSZYIpxzQJHRZfDmhD1N8a_AAJMQAACW5poSunmu4G3v_FuMwQ', 'file_unique_id': 'AgADTEAAAluaaEo', 'file_size': 38641, 'file_path': 'voice/file_136.oga'}, передаем полученный файл в whisper
2023-11-10 00:50:12,864 - INFO - Записваем полученное голосовое сообщение
2023-11-10 00:50:12,864 - INFO - Голосовое успешно записано
2023-11-10 00:50:14,222 - INFO - Получили распознанный текст из голосового сообщения пользователя с user_id: 940032081, сообщение: Привет, меня зовут Геннадий, мне 65 лет, у меня есть турник, у меня есть собака и у меня даже есть коврик для йоги.
2023-11-10 00:50:14,222 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 940032081)
2023-11-10 00:50:18,239 - INFO - Получили ответ от GPT. Ответ: Привет, Геннадий! Спасибо за заполнение анкеты. Какой уровень физической подготовки у тебя? Какая продолжительность одного занятия для тебя оптимальна? Есть ли у тебя какие-либо физические ограничения? И есть ли у тебя какие-либо пожелания по упражнениям?
2023-11-10 00:50:18,239 - INFO - Cчитаем токены для пользователя (user_id: 940032081), итого prompt_1 = 641
2023-11-10 00:50:18,239 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-10 00:51:19,712 - ERROR - Infinity polling: polling exited
2023-11-10 00:51:19,713 - ERROR - Break infinity polling
2023-11-10 00:52:12,545 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-10 00:52:12,761 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 00:52:12,761 - INFO - Задаем system на промпт 1
2023-11-10 00:52:17,591 - INFO - Пользователь отправил текстоовое сообщение
2023-11-10 00:52:17,725 - INFO - Сообщение пользователя (user_id: 802693897): егор мне 17
2023-11-10 00:52:17,725 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-10 00:52:19,595 - INFO - Получили ответ GPT. Ответ: Привет, Егор! Какой уровень физической подготовки у тебя? И какая продолжительность одного занятия для тебя оптимальна?
2023-11-10 00:52:19,595 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 522
2023-11-10 00:52:19,595 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-10 00:52:28,265 - INFO - Ответ пользователя (check_form): 10, 40 минут
2023-11-10 00:52:28,274 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 00:52:29,882 - INFO - Ответ от GPT получен. Ответ: Отлично, Егор! Есть ли у тебя какие-либо физические ограничения? И какие у тебя пожелания по упражнениям?
2023-11-10 00:52:29,891 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 1111
2023-11-10 00:52:29,891 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 00:52:29,891 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 00:52:32,498 - ERROR - Infinity polling: polling exited
2023-11-10 00:52:32,498 - ERROR - Break infinity polling
2023-11-10 01:03:18,259 - ERROR - Infinity polling: polling exited
2023-11-10 01:03:18,259 - ERROR - Break infinity polling
2023-11-10 01:03:31,170 - INFO - Новый пользователь с user_id: 940032081, добавляем его в базу данных и начинаем диалог
2023-11-10 01:03:31,373 - INFO - Для пользователя user_id: 940032081 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 01:03:31,374 - INFO - Задаем system на промпт 1
2023-11-10 01:03:39,175 - INFO - Пользователь отправил голосовое сообщение. Вызываем whisper и конвертируем в текст
2023-11-10 01:03:39,581 - INFO - Получили голосовое сообщение от пользователя (user_id: 940032081),  file_info: {'file_id': 'AwACAgIAAxkBAAIO72VNVzspK4eOjqeEynvRnnw4_LIDAAJMQAACW5poSunmu4G3v_FuMwQ', 'file_unique_id': 'AgADTEAAAluaaEo', 'file_size': 38641, 'file_path': 'voice/file_136.oga'}, передаем полученный файл в whisper
2023-11-10 01:03:39,583 - INFO - Записваем полученное голосовое сообщение
2023-11-10 01:03:39,583 - INFO - Голосовое успешно записано
2023-11-10 01:03:40,796 - INFO - Получили распознанный текст из голосового сообщения пользователя с user_id: 940032081, сообщение: Привет, меня зовут Геннадий, мне 65 лет, у меня есть турник, у меня есть собака и у меня даже есть коврик для йоги.
2023-11-10 01:03:40,796 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 940032081)
2023-11-10 01:06:24,084 - ERROR - Infinity polling: polling exited
2023-11-10 01:06:24,084 - ERROR - Break infinity polling
2023-11-10 01:06:42,561 - INFO - Новый пользователь с user_id: 940032081, добавляем его в базу данных и начинаем диалог
2023-11-10 01:06:42,762 - INFO - Для пользователя user_id: 940032081 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 01:06:42,762 - INFO - Задаем system на промпт 1
2023-11-10 01:06:48,299 - INFO - Пользователь отправил голосовое сообщение. Вызываем whisper и конвертируем в текст
2023-11-10 01:06:48,565 - INFO - Получили голосовое сообщение от пользователя (user_id: 940032081),  file_info: {'file_id': 'AwACAgIAAxkBAAIO82VNV_gg2E1lja8iAAEEiqEf_6lpSgACTEAAAluaaErp5ruBt7_xbjME', 'file_unique_id': 'AgADTEAAAluaaEo', 'file_size': 38641, 'file_path': 'voice/file_136.oga'}, передаем полученный файл в whisper
2023-11-10 01:06:48,566 - INFO - Записваем полученное голосовое сообщение
2023-11-10 01:06:48,566 - INFO - Голосовое успешно записано
2023-11-10 01:06:49,936 - INFO - Получили распознанный текст из голосового сообщения пользователя с user_id: 940032081, сообщение: Привет, меня зовут Геннадий, мне 65 лет, у меня есть турник, у меня есть собака и у меня даже есть коврик для йоги.
2023-11-10 01:06:49,936 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 940032081)
2023-11-10 01:06:51,539 - INFO - Получили ответ от GPT. Ответ: Привет, Геннадий! Спасибо за информацию. Какой уровень физической подготовки у тебя? И какая продолжительность одного занятия для тебя оптимальна?
2023-11-10 01:06:51,540 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 520, prompt_1_output = 65
2023-11-10 01:06:51,543 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-10 01:07:47,402 - INFO - Ответ пользователя (check_form): Средний уровень, 45 минут
2023-11-10 01:07:47,402 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 01:07:49,023 - INFO - Ответ от GPT получен. Ответ: Спасибо за ответы, Геннадий. У тебя есть какие-либо физические ограничения? И есть ли у тебя какие-либо пожелания по упражнениям?
2023-11-10 01:07:49,023 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 1125, prompt_1_output = 130
2023-11-10 01:07:49,023 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 01:07:49,024 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 01:08:08,410 - INFO - Ответ пользователя (check_form): Правое колено, больше приседаний
2023-11-10 01:08:08,410 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 01:08:10,012 - INFO - Ответ от GPT получен. Ответ: Спасибо за информацию, Геннадий. Учту твои ограничения. А какие у тебя пожелания по упражнениям?
2023-11-10 01:08:10,013 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 1747, prompt_1_output = 181
2023-11-10 01:08:10,013 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 01:08:10,013 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 01:08:56,159 - INFO - Ответ пользователя (check_form): Больше приседаний
2023-11-10 01:08:56,160 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 01:09:01,161 - INFO - Ответ от GPT получен. Ответ: Спасибо за информацию, Геннадий. Теперь у меня есть все необходимые данные для составления анкеты. Пожалуйста, проверь ее:

Имя: Геннадий
Пол: Мужской
Возраст: 65 лет
Уровень физической подготовки: Средний (5 из 10)
Продолжительность занятия: 45 минут
Физические ограничения: Боль в правом колене
Наличие спортивного инвентаря: Турник, коврик для йоги
Пожелания по упражнениям: Больше приседаний

Если все верно, напиши "Все верно". Если есть какие-то исправления или дополнения, пожалуйста, укажи их.
2023-11-10 01:09:01,162 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 2381, prompt_1_output = 416
2023-11-10 01:09:01,162 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 01:09:01,162 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 01:09:29,363 - INFO - Ответ пользователя (check_form): Все верно
2023-11-10 01:09:29,364 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 01:09:33,677 - INFO - Ответ от GPT получен. Ответ: Твоя анкета:
Имя: Геннадий
Пол: Мужской
Возраст: 65 лет
Уровень физической подготовки: Средний (5 из 10)
Продолжительность занятия: 45 минут
Физические ограничения: Боль в правом колене
Наличие спортивного инвентаря: Турник, коврик для йоги
Пожелания по упражнениям: Больше приседаний

Проверь, пожалуйста, все ли верно в анкете. Если есть что-то, что нужно исправить или добавить, напиши об этом.
2023-11-10 01:09:33,678 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 3024, prompt_1_output = 608
2023-11-10 01:09:33,678 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 01:09:33,678 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-10 01:11:49,394 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-10 01:11:49,395 - INFO - Пользователь (user_id: 940032081) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-10 01:11:49,559 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-10 01:11:51,955 - INFO - json form {'profile': {'name': 'Геннадий', 'sex': 'мужской', 'age': 65, 'level': 5, 'duration': 45, 'issues': 'правое колено', 'equipment': 'турник, коврик для йоги', 'wishes': 'больше приседаний'}}
2023-11-10 01:11:51,958 - INFO - Получили форму пользователя (user_id: 940032081), форма: {
  "profile": {
    "name": "Геннадий",
    "sex": "мужской",
    "age": 65,
    "level": 5,
    "duration": 45,
    "issues": "правое колено",
    "equipment": "турник, коврик для йоги",
    "wishes": "больше приседаний"
  }
}, передаем ее во 2 промпт
2023-11-10 01:11:51,959 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 3734, prompt_1_output = 703
2023-11-10 01:11:51,959 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-10 01:12:08,333 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки:

**Разминка (10 минут):**
1. Ходьба на месте - 3 минуты
2. Круговые движения плечами - 2 подхода по 10 повторений
3. Наклоны туловища в стороны - 2 подхода по 10 повторений
4. Вращение коленей (аккуратно, учитывая проблемы с правым коленом) - 2 подхода по 8 повторений

**Основная часть (30 минут):**
1. Приседания без отягощения (избегай глубоких приседаний, чтобы не нагружать колено) - 3 подхода по 12 повторений
2. Отжимания от стены - 3 подхода по 10 повторений
3. Подтягивания на турнике (если нет проблем с коленом при подтягивании) - 2 подхода по 5 повторений
4. Планка на предплечьях - 3 подхода по 30 секунд
5. Подъемы туловища с положения лежа на спине (аккуратно, контролируя нагрузку на колено) - 3 подхода по 12 повторений

**Заминка (5 минут):**
1. Потягивания стоя - 2 подхода по 30 секунд
2. Растяжка икроножных мышц - 2 подхода по 30 секунд на каждую ногу
3. Медленные наклоны головы вперед и назад - 2 подхода по 8 повторений
4. Глубокое диафрагмальное дыхание - 3 минуты

Подходит ли тебе эта программа или есть что-то, что ты бы хотел изменить?
2023-11-10 01:12:08,337 - ERROR - Infinity polling exception: unsupported operand type(s) for +=: 'dict' and 'int'
2023-11-10 01:12:08,340 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 242, in final_check_form
    tokens[message.from_user.id]["prompt_2"] += int(pre_program.usage.total_tokens)
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

2023-11-10 01:13:49,340 - ERROR - Infinity polling: polling exited
2023-11-10 01:13:49,340 - ERROR - Break infinity polling
2023-11-10 01:14:49,596 - INFO - Новый пользователь с user_id: 940032081, добавляем его в базу данных и начинаем диалог
2023-11-10 01:14:50,448 - INFO - Для пользователя user_id: 940032081 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 01:14:50,449 - INFO - Задаем system на промпт 1
2023-11-10 01:14:59,524 - INFO - Пользователь отправил голосовое сообщение. Вызываем whisper и конвертируем в текст
2023-11-10 01:14:59,873 - INFO - Получили голосовое сообщение от пользователя (user_id: 940032081),  file_info: {'file_id': 'AwACAgIAAxkBAAIPAmVNWeOSoK43VaGL3gPWK9Hk5blLAAJMQAACW5poSunmu4G3v_FuMwQ', 'file_unique_id': 'AgADTEAAAluaaEo', 'file_size': 38641, 'file_path': 'voice/file_136.oga'}, передаем полученный файл в whisper
2023-11-10 01:14:59,875 - INFO - Записваем полученное голосовое сообщение
2023-11-10 01:14:59,876 - INFO - Голосовое успешно записано
2023-11-10 01:15:01,373 - INFO - Получили распознанный текст из голосового сообщения пользователя с user_id: 940032081, сообщение: Привет, меня зовут Геннадий, мне 65 лет, у меня есть турник, у меня есть собака и у меня даже есть коврик для йоги.
2023-11-10 01:15:01,374 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 940032081)
2023-11-10 01:15:04,652 - INFO - Получили ответ от GPT. Ответ: Привет, Геннадий! Спасибо за ответы. Какой уровень физической подготовки у тебя? Какая продолжительность одного занятия для тебя оптимальна? Есть ли у тебя какие-либо физические ограничения? И какие у тебя пожелания по упражнениям?
2023-11-10 01:15:04,653 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 520, prompt_1_output = 109
2023-11-10 01:15:04,653 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-10 01:16:12,466 - INFO - Ответ пользователя (check_form): Отличный, 50 минут, нету, нету
2023-11-10 01:16:12,467 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 01:16:17,254 - INFO - Ответ от GPT получен. Ответ: Спасибо за ответы, Геннадий! Вот твоя анкета:

Имя: Геннадий
Пол: Мужской
Возраст: 65 лет
Уровень физической подготовки: 10
Продолжительность занятия: 50 минут
Физические ограничения: Отсутствуют
Наличие спортивного инвентаря: Турник, коврик для йоги
Пожелания по упражнениям: Нету

Проверь, пожалуйста, все ли верно в анкете. Если есть какие-то исправления или дополнения, напиши их.
2023-11-10 01:16:17,254 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 1171, prompt_1_output = 304
2023-11-10 01:16:17,255 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 01:16:17,255 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-10 01:17:10,701 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-10 01:17:10,702 - INFO - Пользователь (user_id: 940032081) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-10 01:17:10,778 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-10 01:17:13,691 - INFO - json form {'profile': {'name': 'Геннадий', 'sex': 'мужской', 'age': 65, 'level': 1, 'duration': 50, 'issues': 'нету', 'equipment': 'турник, коврик для йоги', 'wishes': 'нету'}}
2023-11-10 01:17:13,695 - INFO - Получили форму пользователя (user_id: 940032081), форма: {
  "profile": {
    "name": "Геннадий",
    "sex": "мужской",
    "age": 65,
    "level": 1,
    "duration": 50,
    "issues": "нету",
    "equipment": "турник, коврик для йоги",
    "wishes": "нету"
  }
}, передаем ее во 2 промпт
2023-11-10 01:17:13,695 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 1889, prompt_1_output = 393
2023-11-10 01:17:13,695 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-10 01:17:28,328 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки включает в себя разминку, основную часть и заминку. Учитывая твой уровень подготовки и возраст, я сделал акцент на безопасности и постепенном увеличении нагрузки.

**Разминка (5-10 минут):**
1. Ходьба на месте – 2 минуты.
2. Подъемы рук вверх с глубоким дыханием – 10 повторений.
3. Повороты корпуса – 10 повторений в каждую сторону.
4. Наклоны вперед, руки к полу (не стараться касаться пола, если есть дискомфорт) – 10 повторений.

**Основная часть:**
1. Приседания без веса, удерживая равновесие – 2 подхода по 5 повторений.
2. Отжимания от стены – 2 подхода по 5 повторений.
3. Подтягивания на турнике с помощью (если самостоятельно тяжело) – 1 подход по 2-3 повторения.
4. Планка на предплечьях – 1 подход на 10 секунд.

**Заминка (5-10 минут):**
1. Растяжка икр – по 20 секунд на каждую ногу.
2. Растяжка бедер – по 20 секунд на каждую ногу.
3. Глубокое дыхание в позе "бабочка" (сидя, стопы вместе, колени разведены) – 1 минута.
4. Релаксация в положении лежа на спине, руки и ноги расслаблены – 2 минуты.

Подходит ли тебе такая программа или есть пункты, которые ты бы хотел изменить?
2023-11-10 01:17:28,328 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_2_input = 558, prompt_2_output = 529
2023-11-10 01:18:21,505 - INFO - from check_program Не навижу приседания
2023-11-10 01:18:31,267 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_2_input = 1130, prompt_2_output = 974
2023-11-10 01:19:12,393 - INFO - from check_program Да
2023-11-10 01:19:12,495 - INFO - Сохраняем программу для пользователя 940032081
2023-11-10 01:19:21,216 - INFO - json prog: {
  "training": {
    "Разминка": [
      "Ходьба на месте - 2 минуты",
      "Подъемы рук вверх с глубоким дыханием - 10 повторений",
      "Повороты корпуса - 10 повторений в каждую сторону",
      "Наклоны вперед, руки к полу - 10 повторений"
    ],
    "Основная часть": [
      "Приседания без веса, удерживая равновесие - 2 подхода по 5 повторений",
      "Отжимания от стены - 2 подхода по 5 повторений",
      "Подтягивания на турнике с помощью (если самостоятельно тяжело) - 1 подход по 2-3 повторения",
      "Планка на предплечьях - 1 подход на 10 секунд"
    ],
    "Заминка": [
      "Растяжка икр - по 20 секунд на каждую ногу",
      "Растяжка бедер - по 20 секунд на каждую ногу",
      "Глубокое дыхание в позе 'бабочка' (сидя, стопы вместе, колени разведены) - 1 минута",
      "Релаксация в положении лежа на спине, руки и ноги расслаблены - 2 минуты"
    ]
  }
}
2023-11-10 01:22:43,363 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "Понедельник",
      "time": "18:00"
    },
    {
      "dayOfWeek": "Среда",
      "time": "15:00"
    },
    {
      "dayOfWeek": "Суббота",
      "time": "15:00"
    }
  ]
}
2023-11-10 01:28:42,527 - ERROR - Infinity polling: polling exited
2023-11-10 01:28:42,527 - ERROR - Break infinity polling
2023-11-10 01:29:10,791 - INFO - Новый пользователь с user_id: 940032081, добавляем его в базу данных и начинаем диалог
2023-11-10 01:29:11,024 - INFO - Для пользователя user_id: 940032081 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 01:29:11,024 - INFO - Задаем system на промпт 1
2023-11-10 01:29:29,948 - INFO - Пользователь отправил голосовое сообщение. Вызываем whisper и конвертируем в текст
2023-11-10 01:29:30,368 - INFO - Получили голосовое сообщение от пользователя (user_id: 940032081),  file_info: {'file_id': 'AwACAgIAAxkBAAIPFmVNXUmxpZSZxZxbeYd7-_YidvuIAAJVQAACW5poSg3wNAKrTvKEMwQ', 'file_unique_id': 'AgADVUAAAluaaEo', 'file_size': 48720, 'file_path': 'voice/file_137.oga'}, передаем полученный файл в whisper
2023-11-10 01:29:30,369 - INFO - Записваем полученное голосовое сообщение
2023-11-10 01:29:30,369 - INFO - Голосовое успешно записано
2023-11-10 01:29:32,121 - INFO - Получили распознанный текст из голосового сообщения пользователя с user_id: 940032081, сообщение: Диктуй быстренько. Привет, я Николай, учусь заниматься спортом, мне 17 лет, из спортивных возможностей у меня всё отлично, ничего не болит, есть турник и валик для йоги.
2023-11-10 01:29:32,121 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 940032081)
2023-11-10 01:29:33,909 - INFO - Получили ответ от GPT. Ответ: Как ты оцениваешь свой уровень физической подготовки от 1 до 10? Какая продолжительность одного занятия для тебя оптимальна?
2023-11-10 01:29:33,909 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 543, prompt_1_output = 55
2023-11-10 01:29:33,909 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-10 01:33:11,165 - INFO - Ответ пользователя (check_form): /start
2023-11-10 01:33:11,167 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 01:33:12,592 - INFO - Ответ от GPT получен. Ответ: Привет! Для составления анкеты мне нужно задать несколько вопросов. Готов ответить на них?
2023-11-10 01:33:12,593 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 1150, prompt_1_output = 92
2023-11-10 01:33:12,593 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 01:33:12,593 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 01:33:24,540 - ERROR - Infinity polling: polling exited
2023-11-10 01:33:24,540 - ERROR - Break infinity polling
2023-11-10 01:33:37,894 - INFO - Новый пользователь с user_id: 940032081, добавляем его в базу данных и начинаем диалог
2023-11-10 01:33:38,113 - INFO - Для пользователя user_id: 940032081 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 01:33:38,113 - INFO - Задаем system на промпт 1
2023-11-10 01:34:32,915 - INFO - Пользователь отправил текстоовое сообщение
2023-11-10 01:34:33,005 - INFO - Сообщение пользователя (user_id: 940032081): Меня зовут Гоша, мне 18, есть футбольный мяч и бутсы
2023-11-10 01:34:33,005 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 940032081)
2023-11-10 01:34:35,246 - INFO - Получили ответ GPT. Ответ: Как ты оцениваешь свой уровень физической подготовки по шкале от 1 до 10? Какая продолжительность одного занятия для тебя оптимальна?
2023-11-10 01:34:35,246 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 493, prompt_1_output = 60
2023-11-10 01:34:35,247 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-10 01:34:56,847 - INFO - Ответ пользователя (check_form): Ну где то средне 5, минут 30-35
2023-11-10 01:34:56,849 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 01:34:58,537 - INFO - Ответ от GPT получен. Ответ: Есть ли у тебя какие-либо физические ограничения? Какие упражнения ты бы хотел включить в свою тренировку?
2023-11-10 01:34:58,537 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 1071, prompt_1_output = 112
2023-11-10 01:34:58,537 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 01:34:58,538 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 01:35:14,563 - INFO - Ответ пользователя (check_form): Нету, в целом нет
2023-11-10 01:35:14,564 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 01:35:17,330 - INFO - Ответ от GPT получен. Ответ: Есть ли у тебя какие-либо физические ограничения? Какие упражнения ты бы хотел включить в свою тренировку?
2023-11-10 01:35:17,330 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 1662, prompt_1_output = 164
2023-11-10 01:35:17,331 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 01:35:17,331 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 01:35:47,493 - INFO - Ответ пользователя (check_form): Нет, в целом нет
2023-11-10 01:35:47,495 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 01:35:49,485 - INFO - Ответ от GPT получен. Ответ: Есть ли у тебя какие-либо физические ограничения? И какие у тебя пожелания по упражнениям?
2023-11-10 01:35:49,486 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 2265, prompt_1_output = 209
2023-11-10 01:35:49,486 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 01:35:49,486 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 01:36:33,314 - ERROR - Infinity polling: polling exited
2023-11-10 01:36:33,315 - ERROR - Break infinity polling
2023-11-10 01:37:16,873 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-10 01:37:17,076 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 01:37:17,076 - INFO - Задаем system на промпт 1
2023-11-10 01:37:22,848 - INFO - Пользователь отправил текстоовое сообщение
2023-11-10 01:37:22,927 - INFO - Сообщение пользователя (user_id: 802693897): егор мне 17
2023-11-10 01:37:22,927 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-10 01:37:24,724 - INFO - Получили ответ GPT. Ответ: Как ты оцениваешь свой уровень физической подготовки по шкале от 1 до 10? Какая продолжительность одного занятия для тебя оптимальна?
2023-11-10 01:37:24,725 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 470, prompt_1_output = 60
2023-11-10 01:37:24,725 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-10 01:37:34,969 - INFO - Ответ пользователя (check_form): 5, 50 минут
2023-11-10 01:37:34,970 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 01:37:44,800 - INFO - Ответ от GPT получен. Ответ: Есть ли у тебя какие-либо физические ограничения? Какой у тебя спортивный инвентарь?
2023-11-10 01:37:44,800 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 1014, prompt_1_output = 102
2023-11-10 01:37:44,800 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 01:37:44,800 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 01:37:51,278 - INFO - Ответ пользователя (check_form): нет, есть турник
2023-11-10 01:37:51,279 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 01:37:53,957 - INFO - Ответ от GPT получен. Ответ: Есть ли у тебя какие-либо физические ограничения? Какие упражнения ты бы хотел включить в свою тренировку?
2023-11-10 01:37:53,957 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 1569, prompt_1_output = 154
2023-11-10 01:37:53,958 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 01:37:53,958 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 01:38:13,079 - INFO - Ответ пользователя (check_form): нет, отжимания
2023-11-10 01:38:13,079 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 01:38:15,513 - INFO - Ответ от GPT получен. Ответ: Есть ли у тебя физические ограничения? Какие упражнения ты бы хотел включить в свою программу тренировок?
2023-11-10 01:38:15,513 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 2135, prompt_1_output = 202
2023-11-10 01:38:15,513 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 01:38:15,514 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 01:38:44,568 - ERROR - Infinity polling: polling exited
2023-11-10 01:38:44,569 - ERROR - Break infinity polling
2023-11-10 01:38:47,764 - INFO - Пользователь с user_id: 802693897 уже существует
2023-11-10 01:38:56,526 - ERROR - Infinity polling: polling exited
2023-11-10 01:38:56,526 - ERROR - Break infinity polling
2023-11-10 01:39:02,352 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-10 01:39:02,543 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 01:39:02,543 - INFO - Задаем system на промпт 1
2023-11-10 01:39:06,209 - INFO - Пользователь отправил текстоовое сообщение
2023-11-10 01:39:06,464 - INFO - Сообщение пользователя (user_id: 802693897): егор мне 17
2023-11-10 01:39:06,464 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-10 01:39:09,416 - INFO - Получили ответ GPT. Ответ: Как ты оцениваешь свой уровень физической подготовки по шкале от 1 до 10? Какая продолжительность одного занятия для тебя оптимальна?
2023-11-10 01:39:09,416 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 470, prompt_1_output = 60
2023-11-10 01:39:09,417 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-10 01:39:17,225 - INFO - Ответ пользователя (check_form): 10, 50 минут
2023-11-10 01:39:17,225 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 01:39:18,850 - INFO - Ответ от GPT получен. Ответ: Есть ли у тебя какие-либо физические ограничения или противопоказания для занятий спортом? И какие у тебя пожелания по упражнениям?
2023-11-10 01:39:18,850 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 1014, prompt_1_output = 121
2023-11-10 01:39:18,850 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 01:39:18,850 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 01:39:30,664 - INFO - Ответ пользователя (check_form): нет, хочу отжимания
2023-11-10 01:39:30,664 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 01:39:33,878 - INFO - Ответ от GPT получен. Ответ: Твоя анкета:
Имя: Егор
Пол: Мужской
Возраст: 17 лет
Уровень физической подготовки: 10/10
Продолжительность занятия: 50 минут
Физические ограничения: Нет
Наличие спортивного инвентаря: Да
Пожелания по упражнениям: Хочу делать отжимания.

Все верно? Если что-то нужно изменить, напиши, что именно.
2023-11-10 01:39:33,878 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 1572, prompt_1_output = 270
2023-11-10 01:39:33,878 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 01:39:33,879 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-10 01:39:39,234 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-10 01:39:39,235 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-10 01:39:39,400 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-10 01:39:41,630 - INFO - json form {'profile': {'name': 'Егор', 'sex': 'мужской', 'age': 17, 'level': 10, 'duration': '50 минут', 'issues': '', 'equipment': 'есть', 'wishes': 'отжимания'}}
2023-11-10 01:39:41,633 - INFO - Получили форму пользователя (user_id: 802693897), форма: {
  "profile": {
    "name": "Егор",
    "sex": "мужской",
    "age": 17,
    "level": 10,
    "duration": "50 минут",
    "issues": "",
    "equipment": "есть",
    "wishes": "отжимания"
  }
}, передаем ее во 2 промпт
2023-11-10 01:39:41,634 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 2197, prompt_1_output = 345
2023-11-10 01:39:41,634 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-10 01:39:51,938 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки:

**Разминка (10 минут):**
1. Пробежка на месте - 3 минуты.
2. Вращение плечами - 15 повторений в каждую сторону.
3. Махи руками - 20 повторений вперед и назад.
4. Наклоны туловища - 20 повторений в каждую сторону.

**Основная часть (35 минут):**
1. Отжимания - 5 подходов по 20 повторений.
2. Приседания с прыжком - 4 подхода по 15 повторений.
3. Подтягивания (если есть турник) - 4 подхода по 12 повторений.
4. Планка - 4 подхода по 1 минуте.
5. Берпи - 4 подхода по 15 повторений.

**Заминка (5 минут):**
1. Растяжка грудных мышц - 30 секунд на каждую сторону.
2. Растяжка бицепсов и предплечий - 30 секунд на каждую руку.
3. Растяжка квадрицепсов - 30 секунд на каждую ногу.
4. Поза ребенка - 1 минута.

Подходит ли тебе эта программа или есть что-то, что ты хотел бы изменить?
2023-11-10 01:39:51,938 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_2_input = 544, prompt_2_output = 386
2023-11-10 01:39:55,263 - INFO - from check_program Да
2023-11-10 01:39:55,368 - INFO - Сохраняем программу для пользователя 802693897
2023-11-10 01:40:01,702 - INFO - json prog: {
  "training": [
    {
      "Разминка": [
        "Пробежка на месте - 3 минуты",
        "Вращение плечами - 15 повторений в каждую сторону",
        "Махи руками - 20 повторений вперед и назад",
        "Наклоны туловища - 20 повторений в каждую сторону"
      ]
    },
    {
      "Основная часть": [
        "Отжимания - 5 подходов по 20 повторений",
        "Приседания с прыжком - 4 подхода по 15 повторений",
        "Подтягивания (если есть турник) - 4 подхода по 12 повторений",
        "Планка - 4 подхода по 1 минуте",
        "Берпи - 4 подхода по 15 повторений"
      ]
    },
    {
      "Заминка": [
        "Растяжка грудных мышц - 30 секунд на каждую сторону",
        "Растяжка бицепсов и предплечий - 30 секунд на каждую руку",
        "Растяжка квадрицепсов - 30 секунд на каждую ногу",
        "Поза ребенка - 1 минута"
      ]
    }
  ]
}
2023-11-10 01:40:01,705 - ERROR - Infinity polling exception: 'list' object has no attribute 'items'
2023-11-10 01:40:01,707 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 289, in check_program
    BotDatabase.insert_user_program(message.from_user.id, json_program_ready)
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 53, in insert_user_program
    for key, val in program['training'].items():
AttributeError: 'list' object has no attribute 'items'

2023-11-10 01:49:05,072 - ERROR - Infinity polling: polling exited
2023-11-10 01:49:05,075 - ERROR - Break infinity polling
2023-11-10 01:52:03,341 - INFO - Новый пользователь с user_id: 940032081, добавляем его в базу данных и начинаем диалог
2023-11-10 01:52:03,531 - INFO - Для пользователя user_id: 940032081 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 01:52:03,532 - INFO - Задаем system на промпт 1
2023-11-10 01:52:11,414 - INFO - Пользователь отправил текстоовое сообщение
2023-11-10 01:52:11,496 - INFO - Сообщение пользователя (user_id: 940032081): Меня зовут Гоша, мне 18, есть футбольный мяч и бутсы
2023-11-10 01:52:11,497 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 940032081)
2023-11-10 01:52:13,470 - INFO - Получили ответ GPT. Ответ: Какой уровень физической подготовки у тебя? Какая продолжительность одного занятия для тебя оптимальна? Есть ли у тебя физические ограничения?
2023-11-10 01:52:13,471 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 493, prompt_1_output = 63
2023-11-10 01:52:13,471 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-10 01:52:50,341 - INFO - Ответ пользователя (check_form): Средний, 30-40 минут, нету
2023-11-10 01:52:50,342 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 01:52:54,029 - INFO - Ответ от GPT получен. Ответ: Твоя анкета:
Имя: Гоша
Пол: Мужской
Возраст: 18 лет
Уровень физической подготовки: Средний (5 из 10)
Продолжительность занятия: 30-40 минут
Физические ограничения: Отсутствуют
Наличие спортивного инвентаря: Футбольный мяч и бутсы
Пожелания по упражнениям: Не указаны

Все верно? Если есть что-то, что нужно исправить, пожалуйста, напиши.
2023-11-10 01:52:54,030 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 1071, prompt_1_output = 236
2023-11-10 01:52:54,030 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 01:52:54,030 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-10 01:53:07,340 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-10 01:53:07,341 - INFO - Пользователь (user_id: 940032081) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-10 01:53:07,414 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-10 01:53:12,359 - INFO - json form {'profile': {'name': 'Гоша', 'sex': 'мужской', 'age': 18, 'level': 5, 'duration': '30-40 минут', 'issues': 'нету', 'equipment': 'футбольный мяч и бутсы', 'wishes': ''}}
2023-11-10 01:53:12,362 - INFO - Получили форму пользователя (user_id: 940032081), форма: {
  "profile": {
    "name": "Гоша",
    "sex": "мужской",
    "age": 18,
    "level": 5,
    "duration": "30-40 минут",
    "issues": "нету",
    "equipment": "футбольный мяч и бутсы",
    "wishes": ""
  }
}, передаем ее во 2 промпт
2023-11-10 01:53:12,363 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 1716, prompt_1_output = 323
2023-11-10 01:53:12,363 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-10 01:53:25,056 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки включает в себя следующие этапы:

Разминка (5-10 минут):
1. Бег на месте – 2 минуты.
2. Высокие подъемы коленей – 2 подхода по 30 секунд.
3. Вращение руками – 2 подхода по 30 секунд в каждую сторону.
4. Растяжка – наклоны в стороны, вперед, вращение тазом – по 30 секунд каждое упражнение.

Основная часть (20-25 минут):
1. Приседания с мячом – 3 подхода по 15 повторений.
2. Отжимания – 3 подхода по 10 повторений.
3. Подъемы на носки, держась за мяч – 3 подхода по 20 повторений.
4. Планка с передачей мяча из рук в руки – 3 подхода по 30 секунд.

Заминка (5 минут):
1. Растяжка – поза "бабочка" – 1 подход на 1 минуту.
2. Растяжка икр – 2 подхода по 30 секунд на каждую ногу.
3. Повороты туловища – 2 подхода по 30 секунд.
4. Глубокое дыхание – 1-2 минуты, сосредоточься на расслаблении мышц.

Подходит ли тебе такая программа или есть пожелания/изменения?
2023-11-10 01:53:25,056 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_2_input = 556, prompt_2_output = 434
2023-11-10 01:54:23,544 - INFO - from check_program Да
2023-11-10 01:54:23,628 - INFO - Сохраняем программу для пользователя 940032081
2023-11-10 01:54:32,095 - INFO - json prog: {
  "training": {
    "Разминка": [
      "1. Бег на месте – 2 минуты.",
      "2. Высокие подъемы коленей – 2 подхода по 30 секунд.",
      "3. Вращение руками – 2 подхода по 30 секунд в каждую сторону.",
      "4. Растяжка – наклоны в стороны, вперед, вращение тазом – по 30 секунд каждое упражнение."
    ],
    "Основная часть": [
      "1. Приседания с мячом – 3 подхода по 15 повторений.",
      "2. Отжимания – 3 подхода по 10 повторений.",
      "3. Подъемы на носки, держась за мяч – 3 подхода по 20 повторений.",
      "4. Планка с передачей мяча из рук в руки – 3 подхода по 30 секунд."
    ],
    "Заминка": [
      "1. Растяжка – поза \"бабочка\" – 1 подход на 1 минуту.",
      "2. Растяжка икр – 2 подхода по 30 секунд на каждую ногу.",
      "3. Повороты туловища – 2 подхода по 30 секунд.",
      "4. Глубокое дыхание – 1-2 минуты, сосредоточься на расслаблении мышц."
    ]
  }
}
2023-11-10 01:55:10,745 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "Понедельник",
      "time": "18:00"
    },
    {
      "dayOfWeek": "Среда",
      "time": "19:00"
    },
    {
      "dayOfWeek": "Суббота",
      "time": "15:00"
    }
  ]
}
2023-11-10 01:59:57,800 - ERROR - Infinity polling: polling exited
2023-11-10 01:59:57,800 - ERROR - Break infinity polling
2023-11-10 02:03:04,635 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-10 02:03:04,856 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 02:03:04,857 - INFO - Задаем system на промпт 1
2023-11-10 02:03:19,203 - INFO - Пользователь отправил текстоовое сообщение
2023-11-10 02:03:19,317 - INFO - Сообщение пользователя (user_id: 802693897): меня зовут егор, мне 17, хочу отжимания, есть турник
2023-11-10 02:03:19,317 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-10 02:03:21,320 - INFO - Получили ответ GPT. Ответ: Какой уровень физической подготовки у тебя? Какая продолжительность одного занятия для тебя оптимальна? Есть ли у тебя какие-либо физические ограничения?
2023-11-10 02:03:21,321 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 490, prompt_1_output = 69
2023-11-10 02:03:21,321 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-10 02:03:31,673 - INFO - Ответ пользователя (check_form): 5, 50 минут, болит левое колено
2023-11-10 02:03:31,674 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 02:03:35,413 - INFO - Ответ от GPT получен. Ответ: Твоя анкета:
Имя: Егор
Пол: Мужской
Возраст: 17 лет
Уровень физической подготовки: 5/10
Продолжительность занятия: 50 минут
Физические ограничения: Болит левое колено
Наличие спортивного инвентаря: Есть турник
Пожелания по упражнениям: Хочу заниматься отжиманиями

Все верно? Если есть что-то, что нужно исправить или добавить, пожалуйста, напиши.
2023-11-10 02:03:35,413 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 1072, prompt_1_output = 239
2023-11-10 02:03:35,413 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 02:03:35,413 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-10 02:03:37,985 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-10 02:03:37,985 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-10 02:03:38,081 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-10 02:03:40,332 - INFO - json form {'profile': {'name': 'Егор', 'sex': 'мужской', 'age': 17, 'level': 5, 'duration': '50 минут', 'issues': 'болит левое колено', 'equipment': 'турник', 'wishes': 'отжимания'}}
2023-11-10 02:03:40,335 - INFO - Получили форму пользователя (user_id: 802693897), форма: {
  "profile": {
    "name": "Егор",
    "sex": "мужской",
    "age": 17,
    "level": 5,
    "duration": "50 минут",
    "issues": "болит левое колено",
    "equipment": "турник",
    "wishes": "отжимания"
  }
}, передаем ее во 2 промпт
2023-11-10 02:03:40,336 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 1721, prompt_1_output = 324
2023-11-10 02:03:40,336 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-10 02:03:51,255 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки:

**Разминка (10 минут)**:
1. Ходьба на месте - 2 минуты.
2. Вращение руками - 1 минута (30 секунд вперед, 30 секунд назад).
3. Наклоны туловища в стороны - 2 подхода по 10 повторений.
4. Легкие приседания (без глубокого приседа, чтобы не нагружать колено) - 2 подхода по 8 повторений.

**Основная часть (35 минут)**:
1. Отжимания от пола - 3 подхода по 10 повторений.
2. Подтягивания на турнике (если нет боли в колене) - 3 подхода по 6 повторений.
3. Планка - 3 подхода по 30 секунд.
4. Берпи (без прыжка в конце, чтобы снизить нагрузку на колено) - 3 подхода по 8 повторений.

**Заминка (5 минут)**:
1. Растяжка грудных мышц - 2 подхода по 30 секунд.
2. Растяжка бицепсов и предплечий - 2 подхода по 30 секунд на каждую руку.
3. Растяжка квадрицепсов стоя (держать баланс, не нагружая левое колено) - 2 подхода по 30 секунд на каждую ногу.

Если какое-то упражнение вызывает дискомфорт в колене, его следует исключить или заменить. Подходит ли тебе предложенная программа или есть пожелания по изменениям?
2023-11-10 02:03:51,257 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_2_input = 554, prompt_2_output = 494
2023-11-10 02:03:52,996 - INFO - from check_program Да
2023-11-10 02:03:53,200 - INFO - Сохраняем программу для пользователя 802693897
2023-11-10 02:04:00,717 - INFO - json prog: {
  "training": {
    "Разминка": [
      "Ходьба на месте - 2 минуты",
      "Вращение руками - 1 минута (30 секунд вперед, 30 секунд назад)",
      "Наклоны туловища в стороны - 2 подхода по 10 повторений",
      "Легкие приседания - 2 подхода по 8 повторений"
    ],
    "Основная часть": [
      "Отжимания от пола - 3 подхода по 10 повторений",
      "Подтягивания на турнике - 3 подхода по 6 повторений",
      "Планка - 3 подхода по 30 секунд",
      "Берпи - 3 подхода по 8 повторений"
    ],
    "Заминка": [
      "Растяжка грудных мышц - 2 подхода по 30 секунд",
      "Растяжка бицепсов и предплечий - 2 подхода по 30 секунд на каждую руку",
      "Растяжка квадрицепсов стоя - 2 подхода по 30 секунд на каждую ногу"
    ]
  }
}
2023-11-10 02:04:19,005 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "понедельник",
      "time": "15:00"
    },
    {
      "dayOfWeek": "среда",
      "time": "19:00"
    }
  ]
}
2023-11-10 02:04:37,608 - ERROR - Infinity polling: polling exited
2023-11-10 02:04:37,608 - ERROR - Break infinity polling
2023-11-10 02:25:07,686 - ERROR - Infinity polling: polling exited
2023-11-10 02:25:07,687 - ERROR - Break infinity polling
2023-11-10 02:25:14,273 - ERROR - Infinity polling: polling exited
2023-11-10 02:25:14,273 - ERROR - Break infinity polling
2023-11-10 02:25:22,320 - ERROR - Infinity polling: polling exited
2023-11-10 02:25:22,321 - ERROR - Break infinity polling
2023-11-10 02:32:07,177 - ERROR - Infinity polling: polling exited
2023-11-10 02:32:07,178 - ERROR - Break infinity polling
2023-11-10 02:32:24,363 - ERROR - Infinity polling exception: 802693897
2023-11-10 02:32:24,367 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 362, in set_user_schedule
    context_messages_schedule[message.from_user.id].append({"role": "user", "content": user_answer})
KeyError: 802693897

2023-11-10 02:40:23,824 - ERROR - Infinity polling: polling exited
2023-11-10 02:40:23,825 - ERROR - Break infinity polling
2023-11-10 02:46:44,954 - ERROR - Infinity polling: polling exited
2023-11-10 02:46:44,955 - ERROR - Break infinity polling
2023-11-10 02:49:20,602 - ERROR - Infinity polling: polling exited
2023-11-10 02:49:20,602 - ERROR - Break infinity polling
2023-11-10 02:50:06,107 - ERROR - Infinity polling: polling exited
2023-11-10 02:50:06,107 - ERROR - Break infinity polling
2023-11-10 02:50:54,054 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "пятница",
      "time": "15:00"
    }
  ]
}
2023-11-10 02:51:19,758 - ERROR - Infinity polling: polling exited
2023-11-10 02:51:19,759 - ERROR - Break infinity polling
2023-11-10 02:51:23,034 - INFO - Пользователь с user_id: 802693897 уже существует
2023-11-10 02:51:32,468 - ERROR - Infinity polling exception: 802693897
2023-11-10 02:51:32,471 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 362, in set_user_schedule
    context_messages_schedule[message.from_user.id].append({"role": "user", "content": user_answer})
KeyError: 802693897

2023-11-10 02:52:01,745 - ERROR - Infinity polling: polling exited
2023-11-10 02:52:01,745 - ERROR - Break infinity polling
2023-11-10 02:52:09,440 - INFO - Пользователь с user_id: 802693897 уже существует
2023-11-10 02:52:31,962 - ERROR - Infinity polling: polling exited
2023-11-10 02:52:31,963 - ERROR - Break infinity polling
2023-11-10 02:53:37,834 - ERROR - Infinity polling: polling exited
2023-11-10 02:53:37,834 - ERROR - Break infinity polling
2023-11-10 02:53:59,785 - ERROR - Infinity polling: polling exited
2023-11-10 02:53:59,785 - ERROR - Break infinity polling
2023-11-10 02:54:21,862 - ERROR - Infinity polling exception: 802693897
2023-11-10 02:54:21,867 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 369, in set_user_schedule
    context_messages_schedule[message.from_user.id].append({"role": "user", "content": user_answer})
KeyError: 802693897

2023-11-10 02:55:53,684 - ERROR - Infinity polling: polling exited
2023-11-10 02:55:53,684 - ERROR - Break infinity polling
2023-11-10 02:56:44,214 - ERROR - Infinity polling: polling exited
2023-11-10 02:56:44,214 - ERROR - Break infinity polling
2023-11-10 02:57:07,247 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "Понедельник",
      "time": "10:00"
    }
  ]
}
2023-11-10 02:57:26,458 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "Пятница",
      "time": "15:00"
    }
  ]
}
2023-11-10 02:58:22,898 - ERROR - Infinity polling: polling exited
2023-11-10 02:58:22,899 - ERROR - Break infinity polling
2023-11-10 02:59:07,250 - ERROR - Infinity polling: polling exited
2023-11-10 02:59:07,250 - ERROR - Break infinity polling
2023-11-10 02:59:33,557 - ERROR - Infinity polling: polling exited
2023-11-10 02:59:33,557 - ERROR - Break infinity polling
2023-11-10 02:59:49,013 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "Среда",
      "time": "10:00"
    }
  ]
}
2023-11-10 03:00:25,329 - ERROR - Infinity polling: polling exited
2023-11-10 03:00:25,330 - ERROR - Break infinity polling
2023-11-10 03:00:46,250 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "Понедельник",
      "time": "10:00"
    }
  ]
}
2023-11-10 03:01:59,136 - ERROR - Infinity polling: polling exited
2023-11-10 03:01:59,136 - ERROR - Break infinity polling
2023-11-10 03:05:18,913 - ERROR - Infinity polling: polling exited
2023-11-10 03:05:18,914 - ERROR - Break infinity polling
2023-11-10 03:05:37,855 - ERROR - Infinity polling: polling exited
2023-11-10 03:05:37,855 - ERROR - Break infinity polling
2023-11-10 03:15:03,417 - ERROR - Infinity polling: polling exited
2023-11-10 03:15:03,418 - ERROR - Break infinity polling
2023-11-10 03:15:12,371 - ERROR - Infinity polling: polling exited
2023-11-10 03:15:12,371 - ERROR - Break infinity polling
2023-11-10 03:15:27,490 - ERROR - Infinity polling: polling exited
2023-11-10 03:15:27,491 - ERROR - Break infinity polling
2023-11-10 03:16:11,648 - ERROR - Infinity polling: polling exited
2023-11-10 03:16:11,648 - ERROR - Break infinity polling
2023-11-10 03:16:19,926 - ERROR - Infinity polling: polling exited
2023-11-10 03:16:19,926 - ERROR - Break infinity polling
2023-11-10 03:16:28,880 - ERROR - Infinity polling: polling exited
2023-11-10 03:16:28,880 - ERROR - Break infinity polling
2023-11-10 03:16:38,450 - ERROR - Infinity polling: polling exited
2023-11-10 03:16:38,450 - ERROR - Break infinity polling
2023-11-10 03:16:47,956 - ERROR - Infinity polling: polling exited
2023-11-10 03:16:47,956 - ERROR - Break infinity polling
2023-11-10 03:17:19,998 - ERROR - Infinity polling: polling exited
2023-11-10 03:17:19,999 - ERROR - Break infinity polling
2023-11-10 03:18:42,940 - ERROR - Infinity polling: polling exited
2023-11-10 03:18:42,940 - ERROR - Break infinity polling
2023-11-10 03:19:12,759 - ERROR - Infinity polling: polling exited
2023-11-10 03:19:12,759 - ERROR - Break infinity polling
2023-11-10 03:21:08,874 - ERROR - Infinity polling: polling exited
2023-11-10 03:21:08,875 - ERROR - Break infinity polling
2023-11-10 03:21:11,377 - INFO - [['Ходьба на месте - 2 минуты', ' Вращение руками - 1 минута (30 секунд вперед', ' 30 секунд назад)', ' Наклоны туловища в стороны - 2 подхода по 10 повторений', ' Легкие приседания - 2 подхода по 8 повторений'], ['Отжимания от пола - 3 подхода по 10 повторений', ' Подтягивания на турнике - 3 подхода по 6 повторений', ' Планка - 3 подхода по 30 секунд', ' Берпи - 3 подхода по 8 повторений'], ['Растяжка грудных мышц - 2 подхода по 30 секунд', ' Растяжка бицепсов и предплечий - 2 подхода по 30 секунд на каждую руку', ' Растяжка квадрицепсов стоя - 2 подхода по 30 секунд на каждую ногу']]
2023-11-10 03:21:26,330 - ERROR - Infinity polling: polling exited
2023-11-10 03:21:26,331 - ERROR - Break infinity polling
2023-11-10 03:22:11,709 - ERROR - Infinity polling: polling exited
2023-11-10 03:22:11,709 - ERROR - Break infinity polling
2023-11-10 03:22:17,084 - ERROR - Infinity polling: polling exited
2023-11-10 03:22:17,084 - ERROR - Break infinity polling
2023-11-10 03:28:21,875 - ERROR - Infinity polling: polling exited
2023-11-10 03:28:21,875 - ERROR - Break infinity polling
2023-11-10 03:28:46,721 - ERROR - Infinity polling: polling exited
2023-11-10 03:28:46,721 - ERROR - Break infinity polling
2023-11-10 03:29:10,635 - ERROR - Infinity polling: polling exited
2023-11-10 03:29:10,636 - ERROR - Break infinity polling
2023-11-10 03:29:20,209 - ERROR - Infinity polling: polling exited
2023-11-10 03:29:20,210 - ERROR - Break infinity polling
2023-11-10 03:29:45,661 - ERROR - Infinity polling: polling exited
2023-11-10 03:29:45,661 - ERROR - Break infinity polling
2023-11-10 03:29:58,570 - ERROR - Infinity polling: polling exited
2023-11-10 03:29:58,570 - ERROR - Break infinity polling
2023-11-10 03:30:42,701 - ERROR - Infinity polling: polling exited
2023-11-10 03:30:42,701 - ERROR - Break infinity polling
2023-11-10 03:32:01,680 - ERROR - Infinity polling: polling exited
2023-11-10 03:32:01,681 - ERROR - Break infinity polling
2023-11-10 03:32:05,559 - ERROR - Infinity polling: polling exited
2023-11-10 03:32:05,560 - ERROR - Break infinity polling
2023-11-10 03:32:24,830 - ERROR - Infinity polling: polling exited
2023-11-10 03:32:24,831 - ERROR - Break infinity polling
2023-11-10 03:32:46,681 - ERROR - Infinity polling: polling exited
2023-11-10 03:32:46,681 - ERROR - Break infinity polling
2023-11-10 03:33:39,929 - ERROR - Infinity polling: polling exited
2023-11-10 03:33:39,929 - ERROR - Break infinity polling
2023-11-10 03:33:50,940 - ERROR - Infinity polling: polling exited
2023-11-10 03:33:50,940 - ERROR - Break infinity polling
2023-11-10 03:33:57,094 - ERROR - Infinity polling: polling exited
2023-11-10 03:33:57,094 - ERROR - Break infinity polling
2023-11-10 03:34:08,269 - ERROR - Infinity polling: polling exited
2023-11-10 03:34:08,269 - ERROR - Break infinity polling
2023-11-10 03:34:18,996 - ERROR - Infinity polling: polling exited
2023-11-10 03:34:18,996 - ERROR - Break infinity polling
2023-11-10 03:38:01,919 - ERROR - Infinity polling: polling exited
2023-11-10 03:38:01,919 - ERROR - Break infinity polling
2023-11-10 03:38:25,201 - ERROR - Infinity polling: polling exited
2023-11-10 03:38:25,202 - ERROR - Break infinity polling
2023-11-10 03:38:47,624 - ERROR - Infinity polling: polling exited
2023-11-10 03:38:47,624 - ERROR - Break infinity polling
2023-11-10 03:38:54,166 - ERROR - Infinity polling: polling exited
2023-11-10 03:38:54,166 - ERROR - Break infinity polling
2023-11-10 03:39:31,379 - ERROR - Infinity polling: polling exited
2023-11-10 03:39:31,379 - ERROR - Break infinity polling
2023-11-10 03:39:58,273 - ERROR - Infinity polling: polling exited
2023-11-10 03:39:58,273 - ERROR - Break infinity polling
2023-11-10 03:40:25,774 - ERROR - Infinity polling: polling exited
2023-11-10 03:40:25,774 - ERROR - Break infinity polling
2023-11-10 03:40:36,735 - ERROR - Infinity polling: polling exited
2023-11-10 03:40:36,735 - ERROR - Break infinity polling
2023-11-10 03:41:40,031 - ERROR - Infinity polling: polling exited
2023-11-10 03:41:40,031 - ERROR - Break infinity polling
2023-11-10 03:41:57,852 - ERROR - Infinity polling: polling exited
2023-11-10 03:41:57,852 - ERROR - Break infinity polling
2023-11-10 03:42:08,829 - ERROR - Infinity polling: polling exited
2023-11-10 03:42:08,830 - ERROR - Break infinity polling
2023-11-10 03:42:59,618 - ERROR - Infinity polling: polling exited
2023-11-10 03:42:59,618 - ERROR - Break infinity polling
2023-11-10 03:43:32,710 - ERROR - Infinity polling: polling exited
2023-11-10 03:43:32,710 - ERROR - Break infinity polling
2023-11-10 03:44:48,685 - ERROR - Infinity polling: polling exited
2023-11-10 03:44:48,686 - ERROR - Break infinity polling
2023-11-10 03:45:07,379 - ERROR - Infinity polling: polling exited
2023-11-10 03:45:07,379 - ERROR - Break infinity polling
2023-11-10 03:45:26,721 - ERROR - Infinity polling: polling exited
2023-11-10 03:45:26,721 - ERROR - Break infinity polling
2023-11-10 03:45:35,352 - ERROR - Infinity polling: polling exited
2023-11-10 03:45:35,352 - ERROR - Break infinity polling
2023-11-10 03:45:49,532 - ERROR - Infinity polling: polling exited
2023-11-10 03:45:49,532 - ERROR - Break infinity polling
2023-11-10 03:46:05,039 - ERROR - Infinity polling: polling exited
2023-11-10 03:46:05,039 - ERROR - Break infinity polling
2023-11-10 03:46:07,226 - ERROR - Infinity polling: polling exited
2023-11-10 03:46:07,227 - ERROR - Break infinity polling
2023-11-10 03:47:12,403 - ERROR - Infinity polling: polling exited
2023-11-10 03:47:12,403 - ERROR - Break infinity polling
2023-11-10 03:47:47,062 - ERROR - Infinity polling: polling exited
2023-11-10 03:47:47,062 - ERROR - Break infinity polling
2023-11-10 03:48:03,609 - ERROR - Infinity polling: polling exited
2023-11-10 03:48:03,609 - ERROR - Break infinity polling
2023-11-10 03:48:24,690 - ERROR - Infinity polling: polling exited
2023-11-10 03:48:24,691 - ERROR - Break infinity polling
2023-11-10 04:03:01,886 - ERROR - Infinity polling: polling exited
2023-11-10 04:03:01,887 - ERROR - Break infinity polling
2023-11-10 04:03:30,628 - ERROR - Infinity polling: polling exited
2023-11-10 04:03:30,628 - ERROR - Break infinity polling
2023-11-10 04:09:16,517 - ERROR - Infinity polling: polling exited
2023-11-10 04:09:16,518 - ERROR - Break infinity polling
2023-11-10 04:18:20,485 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-10 04:18:20,488 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-10 04:18:20,574 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-10 04:18:20,578 - ERROR - Infinity polling exception: 802693897
2023-11-10 04:18:20,581 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 216, in final_check_form
    context_messages[message.from_user.id].append({"role": "assistant", "content": 'Переделай этот текст в json формат, где "profile" - массив внутри которого есть "name", "sex", "age","level","duration","issues","equipment", "wishes" . Не давай никаких комментариев.'})
KeyError: 802693897

2023-11-10 04:18:46,432 - ERROR - Infinity polling: polling exited
2023-11-10 04:18:46,432 - ERROR - Break infinity polling
2023-11-10 04:18:54,360 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-10 04:18:54,360 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-10 04:18:54,437 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-10 04:18:57,175 - INFO - json form {'profile': {'name': 'John', 'sex': 'male', 'age': 30, 'level': 'advanced', 'duration': '1 hour', 'issues': ['back pain', 'knee injury'], 'equipment': ['dumbbells', 'resistance bands'], 'wishes': ['improve flexibility', 'build muscle']}}
2023-11-10 04:18:57,178 - ERROR - Infinity polling exception: Error binding parameter 0 - probably unsupported type.
2023-11-10 04:18:57,180 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 228, in final_check_form
    BotDatabase.insert_user_form(message.from_user.id, json_form)
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 49, in insert_user_form
    self.cur.execute(f"UPDATE users SET `{key}` = ? WHERE user_id = ?", (val, user_id))
sqlite3.InterfaceError: Error binding parameter 0 - probably unsupported type.

2023-11-10 04:23:57,998 - ERROR - Infinity polling: polling exited
2023-11-10 04:23:57,998 - ERROR - Break infinity polling
2023-11-10 04:27:52,799 - ERROR - Infinity polling exception: near "часть": syntax error
2023-11-10 04:27:52,802 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 532, in re_call_prompt
    BotDatabase.drop_user_program()
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 89, in drop_user_program
    self.cur.execute(f'ALTER TABLE users DROP COLUMN {state}')
sqlite3.OperationalError: near "часть": syntax error

2023-11-10 04:29:14,997 - ERROR - Infinity polling: polling exited
2023-11-10 04:29:14,998 - ERROR - Break infinity polling
2023-11-10 04:29:19,298 - ERROR - Infinity polling exception: no such column: Разминка
2023-11-10 04:29:19,299 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 6801, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 507, in edit_prog
    program = BotDatabase.get_user_program(message.from_user.id)
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 65, in get_user_program
    result = self.cur.execute(f"SELECT `{state}` FROM `users` WHERE `user_id` = ?", (user_id,))
sqlite3.OperationalError: no such column: Разминка

2023-11-10 04:31:06,466 - ERROR - Infinity polling: polling exited
2023-11-10 04:31:06,466 - ERROR - Break infinity polling
2023-11-10 04:31:10,112 - ERROR - Infinity polling exception: near "часть": syntax error
2023-11-10 04:31:10,115 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 532, in re_call_prompt
    BotDatabase.drop_user_program()
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 89, in drop_user_program
    self.cur.execute(f'ALTER TABLE users DROP COLUMN {state}')
sqlite3.OperationalError: near "часть": syntax error

2023-11-10 04:32:02,410 - ERROR - Infinity polling: polling exited
2023-11-10 04:32:02,410 - ERROR - Break infinity polling
2023-11-10 04:32:07,614 - ERROR - Infinity polling exception: no such column: Разминка
2023-11-10 04:32:07,615 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 6801, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 507, in edit_prog
    program = BotDatabase.get_user_program(message.from_user.id)
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 65, in get_user_program
    result = self.cur.execute(f"SELECT `{state}` FROM `users` WHERE `user_id` = ?", (user_id,))
sqlite3.OperationalError: no such column: Разминка

2023-11-10 04:32:31,663 - ERROR - Infinity polling: polling exited
2023-11-10 04:32:31,663 - ERROR - Break infinity polling
2023-11-10 04:33:42,480 - ERROR - Infinity polling: polling exited
2023-11-10 04:33:42,480 - ERROR - Break infinity polling
2023-11-10 04:34:37,584 - INFO - error_code=None error_message='{\'802693897\': [{\'role\': \'system\', \'content\': "Ты - тренер по фитнесу, который составляет индивидуальную программу спортивных занятий дома. Не здоровайся с пользователем. Общайся с пользователем на «ты». У тебя есть анкета которую ты получаешь от пользователя. Сделай логичную программу с учётом анкеты пользователя. Рядом с каждым упражнением подпиши: количество подходов, количество повторений/времени в позиции. Подстраивай количество подходов и повторений в зависимости от уровня физической подготовки пользователя (от 1 до 10). Давай точное количество повторений/время. Помни, тренировка начинается с разминки, далее основная часть (силовая), а в конце заминка. Предлагай не более 4-5 на каждый этап тренировки. Ты должен иметь в виду все данные предоставленные в анкете. Начинай своё сообщение только с \'Твоя программа тренировки\', когда отдаёшь программу полностью. Сделай предупреждение, если упражнение затрагивает физическое ограничение. После создания программы спроси у пользователя подходит ли ему программа. Если нет, то что можно изменить. При внесении изменений в программу, выводи только измененное упражнение/упражнения. Повтори программу полностью, только после одобрительного ответа пользователя. Не прощайся с пользователем. "}, {\'role\': \'user\', \'content\': \'Твоя программа\\n\\n*Разминка*\\n Приседания без веса - 3 подхода по 15 повторений\\n Бег на месте - 3 минуты\\n Прыжки на месте - 3 подхода по 30 секунд\\n Размахивание руками - 3 подхода по 20 раз каждой рукой\\n\\n*Основная часть*\\n Отжимания - 5 подходов по 20 повторений\\n Планка - 4 подхода по 1 минуте\\n Берпи - 4 подхода по 15 повторений\\n Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений\\n\\n*Заминка*\\n Растяжка квадрицепсов - по 1 минуте на каждую ногу\\n Растяжка грудных мышц - 2 подхода по 30 секунд\\n Растяжка трицепсов - по 30 секунд на каждую руку\\n Дыхательные упражнения - 3 минуты\'}, {\'role\': \'user\', \'content\': {\'name\': \'Егор\', \'sex\': \'мужской\', \'age\': \'17\', \'level\': \'5\', \'duration\': \'50 минут\', \'issues\': \'болит левое колено\', \'equipment\': \'турник\', \'wishes\': \'отжимания\'}}, {\'role\': \'user\', \'content\': \'Я хочу больше упор на ноги\'}]} is not of type \'array\' - \'messages\'' error_param=None error_type=invalid_request_error message='OpenAI API error received' stream_error=False
2023-11-10 04:34:37,589 - ERROR - Infinity polling exception: {'802693897': [{'role': 'system', 'content': "Ты - тренер по фитнесу, который составляет индивидуальную программу спортивных занятий дома. Не здоровайся с пользователем. Общайся с пользователем на «ты». У тебя есть анкета которую ты получаешь от пользователя. Сделай логичную программу с учётом анкеты пользователя. Рядом с каждым упражнением подпиши: количество подходов, количество повторений/времени в позиции. Подстраивай количество подходов и повторений в зависимости от уровня физической подготовки пользователя (от 1 до 10). Давай точное количество повторений/время. Помни, тренировка начинается с разминки, далее основная часть (силовая), а в конце заминка. Предлагай не более 4-5 на каждый этап тренировки. Ты должен иметь в виду все данные предоставленные в анкете. Начинай своё сообщение только с 'Твоя программа тренировки', когда отдаёшь программу полностью. Сделай предупреждение, если упражнение затрагивает физическое ограничение. После создания программы спроси у пользователя подходит ли ему программа. Если нет, то что можно изменить. При внесении изменений в программу, выводи только измененное упражнение/упражнения. Повтори программу полностью, только после одобрительного ответа пользователя. Не прощайся с пользователем. "}, {'role': 'user', 'content': 'Твоя программа\n\n*Разминка*\n Приседания без веса - 3 подхода по 15 повторений\n Бег на месте - 3 минуты\n Прыжки на месте - 3 подхода по 30 секунд\n Размахивание руками - 3 подхода по 20 раз каждой рукой\n\n*Основная часть*\n Отжимания - 5 подходов по 20 повторений\n Планка - 4 подхода по 1 минуте\n Берпи - 4 подхода по 15 повторений\n Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений\n\n*Заминка*\n Растяжка квадрицепсов - по 1 минуте на каждую ногу\n Растяжка грудных мышц - 2 подхода по 30 секунд\n Растяжка трицепсов - по 30 секунд на каждую руку\n Дыхательные упражнения - 3 минуты'}, {'role': 'user', 'content': {'name': 'Егор', 'sex': 'мужской', 'age': '17', 'level': '5', 'duration': '50 минут', 'issues': 'болит левое колено', 'equipment': 'турник', 'wishes': 'отжимания'}}, {'role': 'user', 'content': 'Я хочу больше упор на ноги'}]} is not of type 'array' - 'messages'
2023-11-10 04:34:37,591 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 543, in remake_prog
    remake_program = openai.ChatCompletion.create(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/chat_completion.py", line 25, in create
    return super().create(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/abstract/engine_api_resource.py", line 155, in create
    response, _, api_key = requestor.request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 299, in request
    resp, got_stream = self._interpret_response(result, stream)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 710, in _interpret_response
    self._interpret_response_line(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 775, in _interpret_response_line
    raise self.handle_error_response(
openai.error.InvalidRequestError: {'802693897': [{'role': 'system', 'content': "Ты - тренер по фитнесу, который составляет индивидуальную программу спортивных занятий дома. Не здоровайся с пользователем. Общайся с пользователем на «ты». У тебя есть анкета которую ты получаешь от пользователя. Сделай логичную программу с учётом анкеты пользователя. Рядом с каждым упражнением подпиши: количество подходов, количество повторений/времени в позиции. Подстраивай количество подходов и повторений в зависимости от уровня физической подготовки пользователя (от 1 до 10). Давай точное количество повторений/время. Помни, тренировка начинается с разминки, далее основная часть (силовая), а в конце заминка. Предлагай не более 4-5 на каждый этап тренировки. Ты должен иметь в виду все данные предоставленные в анкете. Начинай своё сообщение только с 'Твоя программа тренировки', когда отдаёшь программу полностью. Сделай предупреждение, если упражнение затрагивает физическое ограничение. После создания программы спроси у пользователя подходит ли ему программа. Если нет, то что можно изменить. При внесении изменений в программу, выводи только измененное упражнение/упражнения. Повтори программу полностью, только после одобрительного ответа пользователя. Не прощайся с пользователем. "}, {'role': 'user', 'content': 'Твоя программа\n\n*Разминка*\n Приседания без веса - 3 подхода по 15 повторений\n Бег на месте - 3 минуты\n Прыжки на месте - 3 подхода по 30 секунд\n Размахивание руками - 3 подхода по 20 раз каждой рукой\n\n*Основная часть*\n Отжимания - 5 подходов по 20 повторений\n Планка - 4 подхода по 1 минуте\n Берпи - 4 подхода по 15 повторений\n Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений\n\n*Заминка*\n Растяжка квадрицепсов - по 1 минуте на каждую ногу\n Растяжка грудных мышц - 2 подхода по 30 секунд\n Растяжка трицепсов - по 30 секунд на каждую руку\n Дыхательные упражнения - 3 минуты'}, {'role': 'user', 'content': {'name': 'Егор', 'sex': 'мужской', 'age': '17', 'level': '5', 'duration': '50 минут', 'issues': 'болит левое колено', 'equipment': 'турник', 'wishes': 'отжимания'}}, {'role': 'user', 'content': 'Я хочу больше упор на ноги'}]} is not of type 'array' - 'messages'

2023-11-10 04:35:00,048 - ERROR - Infinity polling: polling exited
2023-11-10 04:35:00,048 - ERROR - Break infinity polling
2023-11-10 04:35:03,223 - ERROR - Infinity polling exception: no such column: Разминка
2023-11-10 04:35:03,223 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 6801, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 507, in edit_prog
    program = BotDatabase.get_user_program(message.from_user.id)
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 65, in get_user_program
    result = self.cur.execute(f"SELECT `{state}` FROM `users` WHERE `user_id` = ?", (user_id,))
sqlite3.OperationalError: no such column: Разминка

2023-11-10 04:35:07,465 - ERROR - Infinity polling: polling exited
2023-11-10 04:35:07,465 - ERROR - Break infinity polling
2023-11-10 04:35:42,061 - INFO - error_code=None error_message="'$.messages[2].content' is invalid. Please check the API reference: https://platform.openai.com/docs/api-reference." error_param=None error_type=invalid_request_error message='OpenAI API error received' stream_error=False
2023-11-10 04:35:42,067 - ERROR - Infinity polling exception: '$.messages[2].content' is invalid. Please check the API reference: https://platform.openai.com/docs/api-reference.
2023-11-10 04:35:42,070 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 543, in remake_prog
    remake_program = openai.ChatCompletion.create(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/chat_completion.py", line 25, in create
    return super().create(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/abstract/engine_api_resource.py", line 155, in create
    response, _, api_key = requestor.request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 299, in request
    resp, got_stream = self._interpret_response(result, stream)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 710, in _interpret_response
    self._interpret_response_line(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 775, in _interpret_response_line
    raise self.handle_error_response(
openai.error.InvalidRequestError: '$.messages[2].content' is invalid. Please check the API reference: https://platform.openai.com/docs/api-reference.

2023-11-10 04:36:46,945 - ERROR - Infinity polling: polling exited
2023-11-10 04:36:46,947 - ERROR - Break infinity polling
2023-11-10 04:36:50,232 - ERROR - Infinity polling: polling exited
2023-11-10 04:36:50,232 - ERROR - Break infinity polling
2023-11-10 04:37:11,498 - INFO - error_code=None error_message="'$.messages[2].content' is invalid. Please check the API reference: https://platform.openai.com/docs/api-reference." error_param=None error_type=invalid_request_error message='OpenAI API error received' stream_error=False
2023-11-10 04:37:11,503 - ERROR - Infinity polling exception: '$.messages[2].content' is invalid. Please check the API reference: https://platform.openai.com/docs/api-reference.
2023-11-10 04:37:11,506 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 543, in remake_prog
    remake_program = openai.ChatCompletion.create(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/chat_completion.py", line 25, in create
    return super().create(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/abstract/engine_api_resource.py", line 155, in create
    response, _, api_key = requestor.request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 299, in request
    resp, got_stream = self._interpret_response(result, stream)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 710, in _interpret_response
    self._interpret_response_line(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 775, in _interpret_response_line
    raise self.handle_error_response(
openai.error.InvalidRequestError: '$.messages[2].content' is invalid. Please check the API reference: https://platform.openai.com/docs/api-reference.

2023-11-10 04:37:51,421 - ERROR - Infinity polling: polling exited
2023-11-10 04:37:51,422 - ERROR - Break infinity polling
2023-11-10 04:38:40,809 - INFO - error_code=None error_message='Unrecognized request argument supplied: tempreture' error_param=None error_type=invalid_request_error message='OpenAI API error received' stream_error=False
2023-11-10 04:38:40,814 - ERROR - Infinity polling exception: Unrecognized request argument supplied: tempreture
2023-11-10 04:38:40,817 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 543, in remake_prog
    remake_program = openai.ChatCompletion.create(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/chat_completion.py", line 25, in create
    return super().create(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/abstract/engine_api_resource.py", line 155, in create
    response, _, api_key = requestor.request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 299, in request
    resp, got_stream = self._interpret_response(result, stream)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 710, in _interpret_response
    self._interpret_response_line(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 775, in _interpret_response_line
    raise self.handle_error_response(
openai.error.InvalidRequestError: Unrecognized request argument supplied: tempreture

2023-11-10 04:38:57,124 - ERROR - Infinity polling: polling exited
2023-11-10 04:38:57,124 - ERROR - Break infinity polling
2023-11-10 04:38:58,863 - ERROR - Infinity polling: polling exited
2023-11-10 04:38:58,863 - ERROR - Break infinity polling
2023-11-10 04:39:37,313 - ERROR - Infinity polling exception: 802693897
2023-11-10 04:39:37,316 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 548, in remake_prog
    context_messages_remake_program_json[message.from_user.id].append({"role": "assistant", "content": remake_program.choices[0].message.content})
KeyError: 802693897

2023-11-10 04:40:12,289 - ERROR - Infinity polling: polling exited
2023-11-10 04:40:12,289 - ERROR - Break infinity polling
2023-11-10 04:41:02,516 - INFO - json prog: {
  "training": {
    "Разминка": [
      "Ходьба на месте: 3 минуты",
      "Размахивание руками в стороны и вперед-назад: 3 подхода по 15 раз каждым направлением",
      "Круговые движения плечами: 2 подхода по 10 раз в каждую сторону",
      "Растяжка запястьй: по 30 секунд на каждую руку"
    ],
    "Основная часть": [
      "Отжимания от пола: 4 подхода по 12 повторений",
      "Подтягивания на турнике (широким хватом): 4 подхода по 8 повторений",
      "Отжимания от стены (для снижения нагрузки на колено): 4 подхода по 15 повторений",
      "Планка на предплечьях: 3 подхода по 45 секунд",
      "Французский жим лежа (можно использовать подручные предметы, например, бутылку с водой): 4 подхода по 15 повторений",
      "Подтягивания на турнике (обратным хватом): 3 подхода по 6 повторений"
    ],
    "Заминка": [
      "Растяжка бицепсов: по 30 секунд на каждую руку",
      "Растяжка трицепсов: по 30 секунд на каждую руку",
      "Растяжка предплечий: по 30 секунд на каждую руку",
      "Дыхательные упражнения: 3 минуты"
    ]
  }
}
2023-11-10 04:41:32,932 - ERROR - Infinity polling: polling exited
2023-11-10 04:41:32,932 - ERROR - Break infinity polling
2023-11-10 09:36:56,002 - ERROR - Infinity polling: polling exited
2023-11-10 09:36:56,003 - ERROR - Break infinity polling
2023-11-10 09:37:13,458 - INFO - Новый пользователь с user_id: 940032081, добавляем его в базу данных и начинаем диалог
2023-11-10 09:37:13,671 - INFO - Для пользователя user_id: 940032081 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 09:37:13,671 - INFO - Задаем system на промпт 1
2023-11-10 09:37:29,124 - INFO - Пользователь отправил голосовое сообщение. Вызываем whisper и конвертируем в текст
2023-11-10 09:37:29,509 - INFO - Получили голосовое сообщение от пользователя (user_id: 940032081),  file_info: {'file_id': 'AwACAgIAAxkBAAIQsGVNz6mSq_z_ZWZaqGD7ZE_Wh6E_AAKDOQACj2BxSg4oSeeZ4CeJMwQ', 'file_unique_id': 'AgADgzkAAo9gcUo', 'file_size': 17013, 'file_path': 'voice/file_138.oga'}, передаем полученный файл в whisper
2023-11-10 09:37:29,512 - INFO - Записваем полученное голосовое сообщение
2023-11-10 09:37:29,512 - INFO - Голосовое успешно записано
2023-11-10 09:37:30,503 - INFO - Получили распознанный текст из голосового сообщения пользователя с user_id: 940032081, сообщение: Привет, меня зовут Артём, мне 17 лет, у меня есть турник и календарь.
2023-11-10 09:37:30,504 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 940032081)
2023-11-10 09:37:33,769 - INFO - Получили ответ от GPT. Ответ: Привет, Артём! Спасибо за ответы. Какой уровень физической подготовки у тебя? Какая продолжительность одного занятия для тебя оптимальна? Есть ли у тебя какие-либо физические ограничения? И какие у тебя пожелания по упражнениям?
2023-11-10 09:37:33,769 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 501, prompt_1_output = 109
2023-11-10 09:37:33,769 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-10 09:37:45,419 - INFO - Ответ пользователя (check_form): None
2023-11-10 09:37:45,420 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 09:37:47,662 - INFO - Ответ от GPT получен. Ответ: Извини, но я не могу продолжить анкету, так как не получил достаточно информации. Если у тебя возникли какие-либо проблемы или вопросы, пожалуйста, дай мне знать.
2023-11-10 09:37:47,663 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 1120, prompt_1_output = 182
2023-11-10 09:37:47,663 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 09:37:47,663 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 09:38:24,474 - ERROR - Infinity polling: polling exited
2023-11-10 09:38:24,474 - ERROR - Break infinity polling
2023-11-10 09:38:39,376 - INFO - Новый пользователь с user_id: 940032081, добавляем его в базу данных и начинаем диалог
2023-11-10 09:38:39,569 - INFO - Для пользователя user_id: 940032081 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 09:38:39,569 - INFO - Задаем system на промпт 1
2023-11-10 09:38:54,397 - INFO - Пользователь отправил голосовое сообщение. Вызываем whisper и конвертируем в текст
2023-11-10 09:38:54,803 - INFO - Получили голосовое сообщение от пользователя (user_id: 940032081),  file_info: {'file_id': 'AwACAgIAAxkBAAIQt2VNz_5n5UWsjy0BoVK1sy4svt2JAAKDOQACj2BxSg4oSeeZ4CeJMwQ', 'file_unique_id': 'AgADgzkAAo9gcUo', 'file_size': 17013, 'file_path': 'voice/file_138.oga'}, передаем полученный файл в whisper
2023-11-10 09:38:54,804 - INFO - Записваем полученное голосовое сообщение
2023-11-10 09:38:54,805 - INFO - Голосовое успешно записано
2023-11-10 09:38:56,060 - INFO - Получили распознанный текст из голосового сообщения пользователя с user_id: 940032081, сообщение: Привет, меня зовут Артём, мне 17 лет, у меня есть турник и календарь.
2023-11-10 09:38:56,060 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 940032081)
2023-11-10 09:38:58,218 - INFO - Получили ответ от GPT. Ответ: Привет, Артём! Спасибо за информацию. Какой уровень физической подготовки у тебя от 1 до 10? И какая продолжительность одного занятия для тебя оптимальна?
2023-11-10 09:38:58,219 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 501, prompt_1_output = 71
2023-11-10 09:38:58,219 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-10 09:39:13,190 - INFO - Ответ пользователя (check_form): 7, 30 минуток
2023-11-10 09:39:13,192 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 09:39:15,485 - INFO - Ответ от GPT получен. Ответ: Отлично, Артём! У тебя есть какие-либо физические ограничения? И есть ли у тебя какие-то пожелания по упражнениям?
2023-11-10 09:39:15,485 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 1088, prompt_1_output = 128
2023-11-10 09:39:15,486 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 09:39:15,486 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 09:39:55,988 - INFO - Ответ пользователя (check_form): Правое колено, Неа особо
2023-11-10 09:39:55,989 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 09:39:57,702 - INFO - Ответ от GPT получен. Ответ: Спасибо за ответы, Артём! И последний вопрос: есть ли у тебя какие-либо пожелания по упражнениям?
2023-11-10 09:39:57,702 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 1691, prompt_1_output = 177
2023-11-10 09:39:57,702 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 09:39:57,702 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 09:40:01,682 - INFO - Ответ пользователя (check_form): Нет
2023-11-10 09:40:01,683 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 09:40:06,502 - INFO - Ответ от GPT получен. Ответ: Твоя анкета:
Имя: Артём
Пол: Мужской
Возраст: 17 лет
Уровень физической подготовки: 7/10
Продолжительность занятия: 30 минут
Физические ограничения: Нет
Наличие спортивного инвентаря: Турник, календарь
Пожелания по упражнениям: Не указано

Все верно? Если есть что-то, что нужно исправить или добавить, пожалуйста, напиши.
2023-11-10 09:40:06,503 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 2300, prompt_1_output = 340
2023-11-10 09:40:06,503 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 09:40:06,503 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-10 09:40:49,160 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-10 09:40:49,160 - INFO - Пользователь (user_id: 940032081) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-10 09:40:49,379 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-10 09:40:52,993 - INFO - json form {'profile': {'name': 'Артём', 'sex': 'мужской', 'age': 17, 'level': 7, 'duration': '30 минут', 'issues': 'Правое колено', 'equipment': 'Турник, календарь', 'wishes': ''}}
2023-11-10 09:40:52,996 - INFO - Получили форму пользователя (user_id: 940032081), форма: {
  "profile": {
    "name": "Артём",
    "sex": "мужской",
    "age": 17,
    "level": 7,
    "duration": "30 минут",
    "issues": "Правое колено",
    "equipment": "Турник, календарь",
    "wishes": ""
  }
}, передаем ее во 2 промпт
2023-11-10 09:40:52,996 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 2976, prompt_1_output = 426
2023-11-10 09:40:52,996 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-10 09:41:03,937 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки:

**Разминка (5-7 минут):**
1. Ходьба на месте – 2 минуты.
2. Размахивание руками (вперед-назад) – 1 минута.
3. Повороты корпуса – 20 поворотов (по 10 в каждую сторону).
4. Растяжка икры – 30 секунд на каждую ногу.

**Основная часть (20 минут):**
1. Подтягивания на турнике – 4 подхода по 8 повторений.
2. Отжимания от пола – 4 подхода по 15 повторений.
3. Планка – 3 подхода по 1 минуте в позиции.
4. Приседания (без нагрузки на правое колено, акцент на технике) – 3 подхода по 12 повторений. *Будь осторожен с коленом, не делай резких движений.*

**Заминка (3-5 минут):**
1. Растяжка квадрицепсов (аккуратно, избегая давления на правое колено) – 30 секунд на каждую ногу.
2. Растяжка грудных мышц – 30 секунд.
3. Растяжка спины – 1 минута.
4. Дыхательные упражнения – 1 минута.

Подходит ли тебе эта программа или есть что-то, что ты хотел бы изменить?
2023-11-10 09:41:03,938 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_2_input = 555, prompt_2_output = 427
2023-11-10 09:41:21,265 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-10 09:41:21,371 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 09:41:21,372 - INFO - Задаем system на промпт 1
2023-11-10 09:41:37,179 - INFO - from check_program Да
2023-11-10 09:41:37,436 - INFO - Сохраняем программу для пользователя 940032081
2023-11-10 09:41:37,859 - INFO - Пользователь отправил текстоовое сообщение
2023-11-10 09:41:37,945 - INFO - Сообщение пользователя (user_id: 802693897): Меня зовут Егор, мне 17, есть турник
2023-11-10 09:41:37,945 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-10 09:41:40,170 - INFO - Получили ответ GPT. Ответ: Какой уровень физической подготовки у тебя? Какая продолжительность одного занятия для тебя оптимальна? Есть ли у тебя физические ограничения?
2023-11-10 09:41:40,171 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 483, prompt_1_output = 63
2023-11-10 09:41:40,171 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-10 09:41:46,462 - INFO - json prog: {
  "training": {
    "Разминка": [
      "Ходьба на месте – 2 минуты",
      "Размахивание руками (вперед-назад) – 1 минута",
      "Повороты корпуса – 20 поворотов (по 10 в каждую сторону)",
      "Растяжка икры – 30 секунд на каждую ногу"
    ],
    "Основная часть": [
      "Подтягивания на турнике – 4 подхода по 8 повторений",
      "Отжимания от пола – 4 подхода по 15 повторений",
      "Планка – 3 подхода по 1 минуте в позиции",
      "Приседания (без нагрузки на правое колено, акцент на технике) – 3 подхода по 12 повторений"
    ],
    "Заминка": [
      "Растяжка квадрицепсов (аккуратно, избегая давления на правое колено) – 30 секунд на каждую ногу",
      "Растяжка грудных мышц – 30 секунд",
      "Растяжка спины – 1 минута",
      "Дыхательные упражнения – 1 минута"
    ]
  }
}
2023-11-10 09:42:03,771 - INFO - Ответ пользователя (check_form): 5, 40 минут, колено левое
2023-11-10 09:42:03,773 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 09:42:08,844 - INFO - Ответ от GPT получен. Ответ: Твоя анкета:
Имя: Егор
Пол: Мужской (определен по имени)
Возраст: 17 лет
Уровень физической подготовки: 5
Продолжительность занятия: 40 минут
Физические ограничения: Проблема с левым коленом
Наличие спортивного инвентаря: Турник
Пожелания по упражнениям: (напиши свои пожелания по упражнениям)

Проверь, пожалуйста, все ли верно в анкете. Если есть что-то, что нужно исправить, напиши, что именно.
2023-11-10 09:42:08,844 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 1049, prompt_1_output = 258
2023-11-10 09:42:08,844 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 09:42:08,845 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-10 09:42:10,717 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-10 09:42:10,718 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-10 09:42:10,862 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-10 09:42:13,337 - INFO - json form {'profile': {'name': 'Егор', 'sex': 'мужской', 'age': 17, 'level': 5, 'duration': '40 минут', 'issues': 'колено левое', 'equipment': 'турник', 'wishes': ''}}
2023-11-10 09:42:13,340 - INFO - Получили форму пользователя (user_id: 802693897), форма: {
  "profile": {
    "name": "Егор",
    "sex": "мужской",
    "age": 17,
    "level": 5,
    "duration": "40 минут",
    "issues": "колено левое",
    "equipment": "турник",
    "wishes": ""
  }
}, передаем ее во 2 промпт
2023-11-10 09:42:13,340 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 1682, prompt_1_output = 336
2023-11-10 09:42:13,340 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-10 09:42:29,224 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки:

**Разминка (10 минут):**
1. Ходьба на месте – 3 минуты.
2. Подъем коленей в умеренном темпе – 2 минуты.
3. Махи руками вперед-назад – 2 минуты.
4. Разведение рук в стороны с перекрестным движением – 2 минуты.
5. Вращение тазом – 1 минута.

**Основная часть (25 минут):**
1. Подтягивания на турнике (учитывая проблему с коленом, выполняй без резких движений ногами) – 3 подхода по 8 повторений.
2. Отжимания от пола (если чувствуешь дискомфорт в колене, выполняй на коленях) – 3 подхода по 15 повторений.
3. Приседания без веса (внимание на колено, не приседай слишком глубоко) – 3 подхода по 12 повторений.
4. Планка (старайся не нагружать левое колено, распределяй вес равномерно) – 3 подхода по 30 секунд.

**Заминка (5 минут):**
1. Потягивание в стоячем положении – 1 минута.
2. Растяжка квадрицепсов стоя (аккуратно, не допускай боли в колене) – по 30 секунд на каждую ногу.
3. Наклоны корпуса в стороны – 2 минуты.
4. Глубокое дыхание и постепенное расслабление мышц – 1 минута.

Подходит ли тебе предложенная программа или есть пункты, которые ты бы хотел изменить?
2023-11-10 09:42:29,224 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_2_input = 547, prompt_2_output = 532
2023-11-10 09:42:35,000 - INFO - from check_program Да
2023-11-10 09:42:35,116 - INFO - Сохраняем программу для пользователя 802693897
2023-11-10 09:42:48,381 - INFO - json prog: {
  "training": {
    "Разминка": [
      "Ходьба на месте – 3 минуты",
      "Подъем коленей в умеренном темпе – 2 минуты",
      "Махи руками вперед-назад – 2 минуты",
      "Разведение рук в стороны с перекрестным движением – 2 минуты",
      "Вращение тазом – 1 минута"
    ],
    "Основная часть": [
      "Подтягивания на турнике (учитывая проблему с коленом, выполняй без резких движений ногами) – 3 подхода по 8 повторений",
      "Отжимания от пола (если чувствуешь дискомфорт в колене, выполняй на коленях) – 3 подхода по 15 повторений",
      "Приседания без веса (внимание на колено, не приседай слишком глубоко) – 3 подхода по 12 повторений",
      "Планка (старайся не нагружать левое колено, распределяй вес равномерно) – 3 подхода по 30 секунд"
    ],
    "Заминка": [
      "Потягивание в стоячем положении – 1 минута",
      "Растяжка квадрицепсов стоя (аккуратно, не допускай боли в колене) – по 30 секунд на каждую ногу",
      "Наклоны корпуса в стороны – 2 минуты",
      "Глубокое дыхание и постепенное расслабление мышц – 1 минута"
    ]
  }
}
2023-11-10 09:42:48,409 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "Понедельник",
      "time": "08:30"
    },
    {
      "dayOfWeek": "Четверг",
      "time": "22:45"
    }
  ]
}
2023-11-10 09:43:03,589 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "Среда",
      "time": "10:00"
    }
  ]
}
2023-11-10 09:43:08,903 - INFO - Получаем упраженения из бд для пользователя 802693897
2023-11-10 09:43:08,903 - INFO - Получили упражнения пользователя, из количество - 3, упражнения - [['Ходьба на месте – 3 минуты', ' Подъем коленей в умеренном темпе – 2 минуты', ' Махи руками вперед-назад – 2 минуты', ' Разведение рук в стороны с перекрестным движением – 2 минуты', ' Вращение тазом – 1 минута'], ['Подтягивания на турнике (учитывая проблему с коленом', ' выполняй без резких движений ногами) – 3 подхода по 8 повторений', ' Отжимания от пола (если чувствуешь дискомфорт в колене', ' выполняй на коленях) – 3 подхода по 15 повторений', ' Приседания без веса (внимание на колено', ' не приседай слишком глубоко) – 3 подхода по 12 повторений', ' Планка (старайся не нагружать левое колено', ' распределяй вес равномерно) – 3 подхода по 30 секунд'], ['Потягивание в стоячем положении – 1 минута', ' Растяжка квадрицепсов стоя (аккуратно', ' не допускай боли в колене) – по 30 секунд на каждую ногу', ' Наклоны корпуса в стороны – 2 минуты', ' Глубокое дыхание и постепенное расслабление мышц – 1 минута']]
2023-11-10 09:43:10,140 - INFO - Я выполнил упражнение
2023-11-10 09:43:11,250 - INFO - Пропустить отдых, 1, 0, [['Ходьба на месте – 3 минуты', ' Подъем коленей в умеренном темпе – 2 минуты', ' Махи руками вперед-назад – 2 минуты', ' Разведение рук в стороны с перекрестным движением – 2 минуты', ' Вращение тазом – 1 минута'], ['Подтягивания на турнике (учитывая проблему с коленом', ' выполняй без резких движений ногами) – 3 подхода по 8 повторений', ' Отжимания от пола (если чувствуешь дискомфорт в колене', ' выполняй на коленях) – 3 подхода по 15 повторений', ' Приседания без веса (внимание на колено', ' не приседай слишком глубоко) – 3 подхода по 12 повторений', ' Планка (старайся не нагружать левое колено', ' распределяй вес равномерно) – 3 подхода по 30 секунд'], ['Потягивание в стоячем положении – 1 минута', ' Растяжка квадрицепсов стоя (аккуратно', ' не допускай боли в колене) – по 30 секунд на каждую ногу', ' Наклоны корпуса в стороны – 2 минуты', ' Глубокое дыхание и постепенное расслабление мышц – 1 минута']]
2023-11-10 09:43:12,172 - INFO - Я выполнил упражнение
2023-11-10 09:43:13,077 - INFO - Пропустить отдых, 2, 0, [['Ходьба на месте – 3 минуты', ' Подъем коленей в умеренном темпе – 2 минуты', ' Махи руками вперед-назад – 2 минуты', ' Разведение рук в стороны с перекрестным движением – 2 минуты', ' Вращение тазом – 1 минута'], ['Подтягивания на турнике (учитывая проблему с коленом', ' выполняй без резких движений ногами) – 3 подхода по 8 повторений', ' Отжимания от пола (если чувствуешь дискомфорт в колене', ' выполняй на коленях) – 3 подхода по 15 повторений', ' Приседания без веса (внимание на колено', ' не приседай слишком глубоко) – 3 подхода по 12 повторений', ' Планка (старайся не нагружать левое колено', ' распределяй вес равномерно) – 3 подхода по 30 секунд'], ['Потягивание в стоячем положении – 1 минута', ' Растяжка квадрицепсов стоя (аккуратно', ' не допускай боли в колене) – по 30 секунд на каждую ногу', ' Наклоны корпуса в стороны – 2 минуты', ' Глубокое дыхание и постепенное расслабление мышц – 1 минута']]
2023-11-10 09:43:13,913 - INFO - Я выполнил упражнение
2023-11-10 09:43:14,735 - INFO - Пропустить отдых, 3, 0, [['Ходьба на месте – 3 минуты', ' Подъем коленей в умеренном темпе – 2 минуты', ' Махи руками вперед-назад – 2 минуты', ' Разведение рук в стороны с перекрестным движением – 2 минуты', ' Вращение тазом – 1 минута'], ['Подтягивания на турнике (учитывая проблему с коленом', ' выполняй без резких движений ногами) – 3 подхода по 8 повторений', ' Отжимания от пола (если чувствуешь дискомфорт в колене', ' выполняй на коленях) – 3 подхода по 15 повторений', ' Приседания без веса (внимание на колено', ' не приседай слишком глубоко) – 3 подхода по 12 повторений', ' Планка (старайся не нагружать левое колено', ' распределяй вес равномерно) – 3 подхода по 30 секунд'], ['Потягивание в стоячем положении – 1 минута', ' Растяжка квадрицепсов стоя (аккуратно', ' не допускай боли в колене) – по 30 секунд на каждую ногу', ' Наклоны корпуса в стороны – 2 минуты', ' Глубокое дыхание и постепенное расслабление мышц – 1 минута']]
2023-11-10 09:43:15,553 - INFO - Я выполнил упражнение
2023-11-10 09:43:16,363 - INFO - Пропустить отдых, 4, 0, [['Ходьба на месте – 3 минуты', ' Подъем коленей в умеренном темпе – 2 минуты', ' Махи руками вперед-назад – 2 минуты', ' Разведение рук в стороны с перекрестным движением – 2 минуты', ' Вращение тазом – 1 минута'], ['Подтягивания на турнике (учитывая проблему с коленом', ' выполняй без резких движений ногами) – 3 подхода по 8 повторений', ' Отжимания от пола (если чувствуешь дискомфорт в колене', ' выполняй на коленях) – 3 подхода по 15 повторений', ' Приседания без веса (внимание на колено', ' не приседай слишком глубоко) – 3 подхода по 12 повторений', ' Планка (старайся не нагружать левое колено', ' распределяй вес равномерно) – 3 подхода по 30 секунд'], ['Потягивание в стоячем положении – 1 минута', ' Растяжка квадрицепсов стоя (аккуратно', ' не допускай боли в колене) – по 30 секунд на каждую ногу', ' Наклоны корпуса в стороны – 2 минуты', ' Глубокое дыхание и постепенное расслабление мышц – 1 минута']]
2023-11-10 09:43:17,292 - INFO - Я выполнил упражнение
2023-11-10 09:43:18,111 - INFO - Пропустить отдых, 0, 1, [['Ходьба на месте – 3 минуты', ' Подъем коленей в умеренном темпе – 2 минуты', ' Махи руками вперед-назад – 2 минуты', ' Разведение рук в стороны с перекрестным движением – 2 минуты', ' Вращение тазом – 1 минута'], ['Подтягивания на турнике (учитывая проблему с коленом', ' выполняй без резких движений ногами) – 3 подхода по 8 повторений', ' Отжимания от пола (если чувствуешь дискомфорт в колене', ' выполняй на коленях) – 3 подхода по 15 повторений', ' Приседания без веса (внимание на колено', ' не приседай слишком глубоко) – 3 подхода по 12 повторений', ' Планка (старайся не нагружать левое колено', ' распределяй вес равномерно) – 3 подхода по 30 секунд'], ['Потягивание в стоячем положении – 1 минута', ' Растяжка квадрицепсов стоя (аккуратно', ' не допускай боли в колене) – по 30 секунд на каждую ногу', ' Наклоны корпуса в стороны – 2 минуты', ' Глубокое дыхание и постепенное расслабление мышц – 1 минута']]
2023-11-10 09:43:18,930 - INFO - Я выполнил упражнение
2023-11-10 09:43:19,772 - INFO - Пропустить отдых, 1, 1, [['Ходьба на месте – 3 минуты', ' Подъем коленей в умеренном темпе – 2 минуты', ' Махи руками вперед-назад – 2 минуты', ' Разведение рук в стороны с перекрестным движением – 2 минуты', ' Вращение тазом – 1 минута'], ['Подтягивания на турнике (учитывая проблему с коленом', ' выполняй без резких движений ногами) – 3 подхода по 8 повторений', ' Отжимания от пола (если чувствуешь дискомфорт в колене', ' выполняй на коленях) – 3 подхода по 15 повторений', ' Приседания без веса (внимание на колено', ' не приседай слишком глубоко) – 3 подхода по 12 повторений', ' Планка (старайся не нагружать левое колено', ' распределяй вес равномерно) – 3 подхода по 30 секунд'], ['Потягивание в стоячем положении – 1 минута', ' Растяжка квадрицепсов стоя (аккуратно', ' не допускай боли в колене) – по 30 секунд на каждую ногу', ' Наклоны корпуса в стороны – 2 минуты', ' Глубокое дыхание и постепенное расслабление мышц – 1 минута']]
2023-11-10 09:43:20,569 - INFO - Я выполнил упражнение
2023-11-10 09:43:21,386 - INFO - Пропустить отдых, 2, 1, [['Ходьба на месте – 3 минуты', ' Подъем коленей в умеренном темпе – 2 минуты', ' Махи руками вперед-назад – 2 минуты', ' Разведение рук в стороны с перекрестным движением – 2 минуты', ' Вращение тазом – 1 минута'], ['Подтягивания на турнике (учитывая проблему с коленом', ' выполняй без резких движений ногами) – 3 подхода по 8 повторений', ' Отжимания от пола (если чувствуешь дискомфорт в колене', ' выполняй на коленях) – 3 подхода по 15 повторений', ' Приседания без веса (внимание на колено', ' не приседай слишком глубоко) – 3 подхода по 12 повторений', ' Планка (старайся не нагружать левое колено', ' распределяй вес равномерно) – 3 подхода по 30 секунд'], ['Потягивание в стоячем положении – 1 минута', ' Растяжка квадрицепсов стоя (аккуратно', ' не допускай боли в колене) – по 30 секунд на каждую ногу', ' Наклоны корпуса в стороны – 2 минуты', ' Глубокое дыхание и постепенное расслабление мышц – 1 минута']]
2023-11-10 09:43:22,207 - INFO - Я выполнил упражнение
2023-11-10 09:43:23,129 - INFO - Пропустить отдых, 3, 1, [['Ходьба на месте – 3 минуты', ' Подъем коленей в умеренном темпе – 2 минуты', ' Махи руками вперед-назад – 2 минуты', ' Разведение рук в стороны с перекрестным движением – 2 минуты', ' Вращение тазом – 1 минута'], ['Подтягивания на турнике (учитывая проблему с коленом', ' выполняй без резких движений ногами) – 3 подхода по 8 повторений', ' Отжимания от пола (если чувствуешь дискомфорт в колене', ' выполняй на коленях) – 3 подхода по 15 повторений', ' Приседания без веса (внимание на колено', ' не приседай слишком глубоко) – 3 подхода по 12 повторений', ' Планка (старайся не нагружать левое колено', ' распределяй вес равномерно) – 3 подхода по 30 секунд'], ['Потягивание в стоячем положении – 1 минута', ' Растяжка квадрицепсов стоя (аккуратно', ' не допускай боли в колене) – по 30 секунд на каждую ногу', ' Наклоны корпуса в стороны – 2 минуты', ' Глубокое дыхание и постепенное расслабление мышц – 1 минута']]
2023-11-10 09:43:23,948 - INFO - Я выполнил упражнение
2023-11-10 09:43:24,767 - INFO - Пропустить отдых, 4, 1, [['Ходьба на месте – 3 минуты', ' Подъем коленей в умеренном темпе – 2 минуты', ' Махи руками вперед-назад – 2 минуты', ' Разведение рук в стороны с перекрестным движением – 2 минуты', ' Вращение тазом – 1 минута'], ['Подтягивания на турнике (учитывая проблему с коленом', ' выполняй без резких движений ногами) – 3 подхода по 8 повторений', ' Отжимания от пола (если чувствуешь дискомфорт в колене', ' выполняй на коленях) – 3 подхода по 15 повторений', ' Приседания без веса (внимание на колено', ' не приседай слишком глубоко) – 3 подхода по 12 повторений', ' Планка (старайся не нагружать левое колено', ' распределяй вес равномерно) – 3 подхода по 30 секунд'], ['Потягивание в стоячем положении – 1 минута', ' Растяжка квадрицепсов стоя (аккуратно', ' не допускай боли в колене) – по 30 секунд на каждую ногу', ' Наклоны корпуса в стороны – 2 минуты', ' Глубокое дыхание и постепенное расслабление мышц – 1 минута']]
2023-11-10 09:43:25,587 - INFO - Я выполнил упражнение
2023-11-10 09:43:26,508 - INFO - Пропустить отдых, 5, 1, [['Ходьба на месте – 3 минуты', ' Подъем коленей в умеренном темпе – 2 минуты', ' Махи руками вперед-назад – 2 минуты', ' Разведение рук в стороны с перекрестным движением – 2 минуты', ' Вращение тазом – 1 минута'], ['Подтягивания на турнике (учитывая проблему с коленом', ' выполняй без резких движений ногами) – 3 подхода по 8 повторений', ' Отжимания от пола (если чувствуешь дискомфорт в колене', ' выполняй на коленях) – 3 подхода по 15 повторений', ' Приседания без веса (внимание на колено', ' не приседай слишком глубоко) – 3 подхода по 12 повторений', ' Планка (старайся не нагружать левое колено', ' распределяй вес равномерно) – 3 подхода по 30 секунд'], ['Потягивание в стоячем положении – 1 минута', ' Растяжка квадрицепсов стоя (аккуратно', ' не допускай боли в колене) – по 30 секунд на каждую ногу', ' Наклоны корпуса в стороны – 2 минуты', ' Глубокое дыхание и постепенное расслабление мышц – 1 минута']]
2023-11-10 09:43:27,389 - INFO - Я выполнил упражнение
2023-11-10 09:43:28,197 - INFO - Пропустить отдых, 6, 1, [['Ходьба на месте – 3 минуты', ' Подъем коленей в умеренном темпе – 2 минуты', ' Махи руками вперед-назад – 2 минуты', ' Разведение рук в стороны с перекрестным движением – 2 минуты', ' Вращение тазом – 1 минута'], ['Подтягивания на турнике (учитывая проблему с коленом', ' выполняй без резких движений ногами) – 3 подхода по 8 повторений', ' Отжимания от пола (если чувствуешь дискомфорт в колене', ' выполняй на коленях) – 3 подхода по 15 повторений', ' Приседания без веса (внимание на колено', ' не приседай слишком глубоко) – 3 подхода по 12 повторений', ' Планка (старайся не нагружать левое колено', ' распределяй вес равномерно) – 3 подхода по 30 секунд'], ['Потягивание в стоячем положении – 1 минута', ' Растяжка квадрицепсов стоя (аккуратно', ' не допускай боли в колене) – по 30 секунд на каждую ногу', ' Наклоны корпуса в стороны – 2 минуты', ' Глубокое дыхание и постепенное расслабление мышц – 1 минута']]
2023-11-10 09:43:29,068 - INFO - Я выполнил упражнение
2023-11-10 09:43:29,955 - INFO - Пропустить отдых, 7, 1, [['Ходьба на месте – 3 минуты', ' Подъем коленей в умеренном темпе – 2 минуты', ' Махи руками вперед-назад – 2 минуты', ' Разведение рук в стороны с перекрестным движением – 2 минуты', ' Вращение тазом – 1 минута'], ['Подтягивания на турнике (учитывая проблему с коленом', ' выполняй без резких движений ногами) – 3 подхода по 8 повторений', ' Отжимания от пола (если чувствуешь дискомфорт в колене', ' выполняй на коленях) – 3 подхода по 15 повторений', ' Приседания без веса (внимание на колено', ' не приседай слишком глубоко) – 3 подхода по 12 повторений', ' Планка (старайся не нагружать левое колено', ' распределяй вес равномерно) – 3 подхода по 30 секунд'], ['Потягивание в стоячем положении – 1 минута', ' Растяжка квадрицепсов стоя (аккуратно', ' не допускай боли в колене) – по 30 секунд на каждую ногу', ' Наклоны корпуса в стороны – 2 минуты', ' Глубокое дыхание и постепенное расслабление мышц – 1 минута']]
2023-11-10 09:43:30,862 - INFO - Я выполнил упражнение
2023-11-10 09:43:31,748 - INFO - Пропустить отдых, 0, 2, [['Ходьба на месте – 3 минуты', ' Подъем коленей в умеренном темпе – 2 минуты', ' Махи руками вперед-назад – 2 минуты', ' Разведение рук в стороны с перекрестным движением – 2 минуты', ' Вращение тазом – 1 минута'], ['Подтягивания на турнике (учитывая проблему с коленом', ' выполняй без резких движений ногами) – 3 подхода по 8 повторений', ' Отжимания от пола (если чувствуешь дискомфорт в колене', ' выполняй на коленях) – 3 подхода по 15 повторений', ' Приседания без веса (внимание на колено', ' не приседай слишком глубоко) – 3 подхода по 12 повторений', ' Планка (старайся не нагружать левое колено', ' распределяй вес равномерно) – 3 подхода по 30 секунд'], ['Потягивание в стоячем положении – 1 минута', ' Растяжка квадрицепсов стоя (аккуратно', ' не допускай боли в колене) – по 30 секунд на каждую ногу', ' Наклоны корпуса в стороны – 2 минуты', ' Глубокое дыхание и постепенное расслабление мышц – 1 минута']]
2023-11-10 09:43:32,656 - INFO - Я выполнил упражнение
2023-11-10 09:43:33,473 - INFO - Пропустить отдых, 1, 2, [['Ходьба на месте – 3 минуты', ' Подъем коленей в умеренном темпе – 2 минуты', ' Махи руками вперед-назад – 2 минуты', ' Разведение рук в стороны с перекрестным движением – 2 минуты', ' Вращение тазом – 1 минута'], ['Подтягивания на турнике (учитывая проблему с коленом', ' выполняй без резких движений ногами) – 3 подхода по 8 повторений', ' Отжимания от пола (если чувствуешь дискомфорт в колене', ' выполняй на коленях) – 3 подхода по 15 повторений', ' Приседания без веса (внимание на колено', ' не приседай слишком глубоко) – 3 подхода по 12 повторений', ' Планка (старайся не нагружать левое колено', ' распределяй вес равномерно) – 3 подхода по 30 секунд'], ['Потягивание в стоячем положении – 1 минута', ' Растяжка квадрицепсов стоя (аккуратно', ' не допускай боли в колене) – по 30 секунд на каждую ногу', ' Наклоны корпуса в стороны – 2 минуты', ' Глубокое дыхание и постепенное расслабление мышц – 1 минута']]
2023-11-10 09:43:34,392 - INFO - Я выполнил упражнение
2023-11-10 09:43:35,315 - INFO - Пропустить отдых, 2, 2, [['Ходьба на месте – 3 минуты', ' Подъем коленей в умеренном темпе – 2 минуты', ' Махи руками вперед-назад – 2 минуты', ' Разведение рук в стороны с перекрестным движением – 2 минуты', ' Вращение тазом – 1 минута'], ['Подтягивания на турнике (учитывая проблему с коленом', ' выполняй без резких движений ногами) – 3 подхода по 8 повторений', ' Отжимания от пола (если чувствуешь дискомфорт в колене', ' выполняй на коленях) – 3 подхода по 15 повторений', ' Приседания без веса (внимание на колено', ' не приседай слишком глубоко) – 3 подхода по 12 повторений', ' Планка (старайся не нагружать левое колено', ' распределяй вес равномерно) – 3 подхода по 30 секунд'], ['Потягивание в стоячем положении – 1 минута', ' Растяжка квадрицепсов стоя (аккуратно', ' не допускай боли в колене) – по 30 секунд на каждую ногу', ' Наклоны корпуса в стороны – 2 минуты', ' Глубокое дыхание и постепенное расслабление мышц – 1 минута']]
2023-11-10 09:43:36,339 - INFO - Я выполнил упражнение
2023-11-10 09:43:37,363 - INFO - Пропустить отдых, 3, 2, [['Ходьба на месте – 3 минуты', ' Подъем коленей в умеренном темпе – 2 минуты', ' Махи руками вперед-назад – 2 минуты', ' Разведение рук в стороны с перекрестным движением – 2 минуты', ' Вращение тазом – 1 минута'], ['Подтягивания на турнике (учитывая проблему с коленом', ' выполняй без резких движений ногами) – 3 подхода по 8 повторений', ' Отжимания от пола (если чувствуешь дискомфорт в колене', ' выполняй на коленях) – 3 подхода по 15 повторений', ' Приседания без веса (внимание на колено', ' не приседай слишком глубоко) – 3 подхода по 12 повторений', ' Планка (старайся не нагружать левое колено', ' распределяй вес равномерно) – 3 подхода по 30 секунд'], ['Потягивание в стоячем положении – 1 минута', ' Растяжка квадрицепсов стоя (аккуратно', ' не допускай боли в колене) – по 30 секунд на каждую ногу', ' Наклоны корпуса в стороны – 2 минуты', ' Глубокое дыхание и постепенное расслабление мышц – 1 минута']]
2023-11-10 09:43:38,241 - INFO - Я выполнил упражнение
2023-11-10 09:43:39,206 - INFO - Пропустить отдых, 4, 2, [['Ходьба на месте – 3 минуты', ' Подъем коленей в умеренном темпе – 2 минуты', ' Махи руками вперед-назад – 2 минуты', ' Разведение рук в стороны с перекрестным движением – 2 минуты', ' Вращение тазом – 1 минута'], ['Подтягивания на турнике (учитывая проблему с коленом', ' выполняй без резких движений ногами) – 3 подхода по 8 повторений', ' Отжимания от пола (если чувствуешь дискомфорт в колене', ' выполняй на коленях) – 3 подхода по 15 повторений', ' Приседания без веса (внимание на колено', ' не приседай слишком глубоко) – 3 подхода по 12 повторений', ' Планка (старайся не нагружать левое колено', ' распределяй вес равномерно) – 3 подхода по 30 секунд'], ['Потягивание в стоячем положении – 1 минута', ' Растяжка квадрицепсов стоя (аккуратно', ' не допускай боли в колене) – по 30 секунд на каждую ногу', ' Наклоны корпуса в стороны – 2 минуты', ' Глубокое дыхание и постепенное расслабление мышц – 1 минута']]
2023-11-10 09:43:40,230 - INFO - Я выполнил упражнение
2023-11-10 09:43:41,151 - INFO - Пропустить отдых, 0, 3, [['Ходьба на месте – 3 минуты', ' Подъем коленей в умеренном темпе – 2 минуты', ' Махи руками вперед-назад – 2 минуты', ' Разведение рук в стороны с перекрестным движением – 2 минуты', ' Вращение тазом – 1 минута'], ['Подтягивания на турнике (учитывая проблему с коленом', ' выполняй без резких движений ногами) – 3 подхода по 8 повторений', ' Отжимания от пола (если чувствуешь дискомфорт в колене', ' выполняй на коленях) – 3 подхода по 15 повторений', ' Приседания без веса (внимание на колено', ' не приседай слишком глубоко) – 3 подхода по 12 повторений', ' Планка (старайся не нагружать левое колено', ' распределяй вес равномерно) – 3 подхода по 30 секунд'], ['Потягивание в стоячем положении – 1 минута', ' Растяжка квадрицепсов стоя (аккуратно', ' не допускай боли в колене) – по 30 секунд на каждую ногу', ' Наклоны корпуса в стороны – 2 минуты', ' Глубокое дыхание и постепенное расслабление мышц – 1 минута']]
2023-11-10 09:44:15,359 - ERROR - Infinity polling exception: no such column: feedback
2023-11-10 09:44:15,363 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 470, in third_question
    BotDatabase.insert_feedback(message.from_user.id, '\n'.join(user_feedback[message.from_user.id]))
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 23, in insert_feedback
    self.cur.execute("UPDATE users SET feedback = ? WHERE user_id = ?", (feedback, user_id,))
sqlite3.OperationalError: no such column: feedback

2023-11-10 09:44:36,803 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "Понедельник",
      "time": "15:00"
    }
  ]
}
2023-11-10 09:45:20,537 - INFO - json prog: {
  "training": {
    "Разминка": [
      "1. Приседания без веса - 3 подхода по 15 повторений",
      "2. Бег на месте - 3 минуты",
      "3. Прыжки на месте - 3 подхода по 30 секунд",
      "4. Размахивание руками - 3 подхода по 20 раз каждой рукой"
    ],
    "Основная часть": [
      "1. Отжимания - 5 подходов по 20 повторений",
      "2. Подтягивания (если есть турник) - 4 подхода по 12 повторений",
      "3. Планка - 4 подхода по 1 минуте",
      "4. Берпи - 4 подхода по 15 повторений"
    ],
    "Заминка": [
      "1. Растяжка грудных мышц - 30 секунд на каждую сторону",
      "2. Растяжка бицепсов и предплечий - 30 секунд на каждую руку",
      "3. Растяжка квадрицепсов - 30 секунд на каждую ногу",
      "4. Поза ребенка - 1 минута"
    ]
  }
}
2023-11-10 09:46:22,000 - INFO - Получаем упраженения из бд для пользователя 802693897
2023-11-10 09:46:22,001 - INFO - Получили упражнения пользователя, из количество - 3, упражнения - [['1. Приседания без веса - 3 подхода по 15 повторений', ' 2. Бег на месте - 3 минуты', ' 3. Прыжки на месте - 3 подхода по 30 секунд', ' 4. Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['1. Отжимания - 5 подходов по 20 повторений', ' 2. Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' 3. Планка - 4 подхода по 1 минуте', ' 4. Берпи - 4 подхода по 15 повторений'], ['1. Растяжка грудных мышц - 30 секунд на каждую сторону', ' 2. Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' 3. Растяжка квадрицепсов - 30 секунд на каждую ногу', ' 4. Поза ребенка - 1 минута']]
2023-11-10 09:46:28,171 - INFO - Я выполнил упражнение
2023-11-10 09:46:29,064 - INFO - Пропустить отдых, 1, 0, [['1. Приседания без веса - 3 подхода по 15 повторений', ' 2. Бег на месте - 3 минуты', ' 3. Прыжки на месте - 3 подхода по 30 секунд', ' 4. Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['1. Отжимания - 5 подходов по 20 повторений', ' 2. Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' 3. Планка - 4 подхода по 1 минуте', ' 4. Берпи - 4 подхода по 15 повторений'], ['1. Растяжка грудных мышц - 30 секунд на каждую сторону', ' 2. Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' 3. Растяжка квадрицепсов - 30 секунд на каждую ногу', ' 4. Поза ребенка - 1 минута']]
2023-11-10 09:46:31,913 - INFO - Я выполнил упражнение
2023-11-10 09:46:32,707 - INFO - Пропустить отдых, 2, 0, [['1. Приседания без веса - 3 подхода по 15 повторений', ' 2. Бег на месте - 3 минуты', ' 3. Прыжки на месте - 3 подхода по 30 секунд', ' 4. Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['1. Отжимания - 5 подходов по 20 повторений', ' 2. Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' 3. Планка - 4 подхода по 1 минуте', ' 4. Берпи - 4 подхода по 15 повторений'], ['1. Растяжка грудных мышц - 30 секунд на каждую сторону', ' 2. Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' 3. Растяжка квадрицепсов - 30 секунд на каждую ногу', ' 4. Поза ребенка - 1 минута']]
2023-11-10 09:46:33,533 - INFO - Я выполнил упражнение
2023-11-10 09:46:34,322 - INFO - Пропустить отдых, 3, 0, [['1. Приседания без веса - 3 подхода по 15 повторений', ' 2. Бег на месте - 3 минуты', ' 3. Прыжки на месте - 3 подхода по 30 секунд', ' 4. Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['1. Отжимания - 5 подходов по 20 повторений', ' 2. Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' 3. Планка - 4 подхода по 1 минуте', ' 4. Берпи - 4 подхода по 15 повторений'], ['1. Растяжка грудных мышц - 30 секунд на каждую сторону', ' 2. Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' 3. Растяжка квадрицепсов - 30 секунд на каждую ногу', ' 4. Поза ребенка - 1 минута']]
2023-11-10 09:46:35,135 - INFO - Я выполнил упражнение
2023-11-10 09:46:35,953 - INFO - Пропустить отдых, 0, 1, [['1. Приседания без веса - 3 подхода по 15 повторений', ' 2. Бег на месте - 3 минуты', ' 3. Прыжки на месте - 3 подхода по 30 секунд', ' 4. Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['1. Отжимания - 5 подходов по 20 повторений', ' 2. Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' 3. Планка - 4 подхода по 1 минуте', ' 4. Берпи - 4 подхода по 15 повторений'], ['1. Растяжка грудных мышц - 30 секунд на каждую сторону', ' 2. Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' 3. Растяжка квадрицепсов - 30 секунд на каждую ногу', ' 4. Поза ребенка - 1 минута']]
2023-11-10 09:46:36,668 - INFO - Я выполнил упражнение
2023-11-10 09:46:37,356 - INFO - Пропустить отдых, 1, 1, [['1. Приседания без веса - 3 подхода по 15 повторений', ' 2. Бег на месте - 3 минуты', ' 3. Прыжки на месте - 3 подхода по 30 секунд', ' 4. Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['1. Отжимания - 5 подходов по 20 повторений', ' 2. Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' 3. Планка - 4 подхода по 1 минуте', ' 4. Берпи - 4 подхода по 15 повторений'], ['1. Растяжка грудных мышц - 30 секунд на каждую сторону', ' 2. Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' 3. Растяжка квадрицепсов - 30 секунд на каждую ногу', ' 4. Поза ребенка - 1 минута']]
2023-11-10 09:46:38,103 - INFO - Я выполнил упражнение
2023-11-10 09:46:38,837 - INFO - Пропустить отдых, 2, 1, [['1. Приседания без веса - 3 подхода по 15 повторений', ' 2. Бег на месте - 3 минуты', ' 3. Прыжки на месте - 3 подхода по 30 секунд', ' 4. Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['1. Отжимания - 5 подходов по 20 повторений', ' 2. Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' 3. Планка - 4 подхода по 1 минуте', ' 4. Берпи - 4 подхода по 15 повторений'], ['1. Растяжка грудных мышц - 30 секунд на каждую сторону', ' 2. Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' 3. Растяжка квадрицепсов - 30 секунд на каждую ногу', ' 4. Поза ребенка - 1 минута']]
2023-11-10 09:46:39,458 - INFO - Я выполнил упражнение
2023-11-10 09:46:40,142 - INFO - Пропустить отдых, 3, 1, [['1. Приседания без веса - 3 подхода по 15 повторений', ' 2. Бег на месте - 3 минуты', ' 3. Прыжки на месте - 3 подхода по 30 секунд', ' 4. Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['1. Отжимания - 5 подходов по 20 повторений', ' 2. Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' 3. Планка - 4 подхода по 1 минуте', ' 4. Берпи - 4 подхода по 15 повторений'], ['1. Растяжка грудных мышц - 30 секунд на каждую сторону', ' 2. Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' 3. Растяжка квадрицепсов - 30 секунд на каждую ногу', ' 4. Поза ребенка - 1 минута']]
2023-11-10 09:46:40,838 - INFO - Я выполнил упражнение
2023-11-10 09:46:41,439 - INFO - Пропустить отдых, 0, 2, [['1. Приседания без веса - 3 подхода по 15 повторений', ' 2. Бег на месте - 3 минуты', ' 3. Прыжки на месте - 3 подхода по 30 секунд', ' 4. Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['1. Отжимания - 5 подходов по 20 повторений', ' 2. Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' 3. Планка - 4 подхода по 1 минуте', ' 4. Берпи - 4 подхода по 15 повторений'], ['1. Растяжка грудных мышц - 30 секунд на каждую сторону', ' 2. Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' 3. Растяжка квадрицепсов - 30 секунд на каждую ногу', ' 4. Поза ребенка - 1 минута']]
2023-11-10 09:46:42,126 - INFO - Я выполнил упражнение
2023-11-10 09:46:42,721 - INFO - Пропустить отдых, 1, 2, [['1. Приседания без веса - 3 подхода по 15 повторений', ' 2. Бег на месте - 3 минуты', ' 3. Прыжки на месте - 3 подхода по 30 секунд', ' 4. Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['1. Отжимания - 5 подходов по 20 повторений', ' 2. Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' 3. Планка - 4 подхода по 1 минуте', ' 4. Берпи - 4 подхода по 15 повторений'], ['1. Растяжка грудных мышц - 30 секунд на каждую сторону', ' 2. Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' 3. Растяжка квадрицепсов - 30 секунд на каждую ногу', ' 4. Поза ребенка - 1 минута']]
2023-11-10 09:46:43,587 - INFO - Я выполнил упражнение
2023-11-10 09:46:46,141 - INFO - Пропустить отдых, 2, 2, [['1. Приседания без веса - 3 подхода по 15 повторений', ' 2. Бег на месте - 3 минуты', ' 3. Прыжки на месте - 3 подхода по 30 секунд', ' 4. Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['1. Отжимания - 5 подходов по 20 повторений', ' 2. Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' 3. Планка - 4 подхода по 1 минуте', ' 4. Берпи - 4 подхода по 15 повторений'], ['1. Растяжка грудных мышц - 30 секунд на каждую сторону', ' 2. Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' 3. Растяжка квадрицепсов - 30 секунд на каждую ногу', ' 4. Поза ребенка - 1 минута']]
2023-11-10 09:46:47,326 - INFO - Я выполнил упражнение
2023-11-10 09:46:48,085 - INFO - Пропустить отдых, 3, 2, [['1. Приседания без веса - 3 подхода по 15 повторений', ' 2. Бег на месте - 3 минуты', ' 3. Прыжки на месте - 3 подхода по 30 секунд', ' 4. Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['1. Отжимания - 5 подходов по 20 повторений', ' 2. Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' 3. Планка - 4 подхода по 1 минуте', ' 4. Берпи - 4 подхода по 15 повторений'], ['1. Растяжка грудных мышц - 30 секунд на каждую сторону', ' 2. Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' 3. Растяжка квадрицепсов - 30 секунд на каждую ногу', ' 4. Поза ребенка - 1 минута']]
2023-11-10 09:46:48,860 - INFO - Я выполнил упражнение
2023-11-10 09:46:49,607 - INFO - Пропустить отдых, 0, 3, [['1. Приседания без веса - 3 подхода по 15 повторений', ' 2. Бег на месте - 3 минуты', ' 3. Прыжки на месте - 3 подхода по 30 секунд', ' 4. Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['1. Отжимания - 5 подходов по 20 повторений', ' 2. Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' 3. Планка - 4 подхода по 1 минуте', ' 4. Берпи - 4 подхода по 15 повторений'], ['1. Растяжка грудных мышц - 30 секунд на каждую сторону', ' 2. Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' 3. Растяжка квадрицепсов - 30 секунд на каждую ногу', ' 4. Поза ребенка - 1 минута']]
2023-11-10 09:46:51,002 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "Четверг",
      "time": "19:00"
    },
    {
      "dayOfWeek": "Воскресенье",
      "time": "14:45"
    }
  ]
}
2023-11-10 09:46:57,529 - ERROR - Infinity polling exception: no such column: feedback
2023-11-10 09:46:57,531 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 470, in third_question
    BotDatabase.insert_feedback(message.from_user.id, '\n'.join(user_feedback[message.from_user.id]))
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 23, in insert_feedback
    self.cur.execute("UPDATE users SET feedback = ? WHERE user_id = ?", (feedback, user_id,))
sqlite3.OperationalError: no such column: feedback

2023-11-10 09:47:00,809 - ERROR - Infinity polling exception: 'NoneType' object has no attribute 'split'
2023-11-10 09:47:00,809 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 6801, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 508, in edit_prog
    program = BotDatabase.get_user_program(message.from_user.id)
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 66, in get_user_program
    exercises.append(result.fetchone()[0].split(','))
AttributeError: 'NoneType' object has no attribute 'split'

2023-11-10 09:47:31,156 - ERROR - Infinity polling exception: 'NoneType' object has no attribute 'split'
2023-11-10 09:47:31,157 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 6801, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 508, in edit_prog
    program = BotDatabase.get_user_program(message.from_user.id)
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 66, in get_user_program
    exercises.append(result.fetchone()[0].split(','))
AttributeError: 'NoneType' object has no attribute 'split'

2023-11-10 09:48:38,444 - ERROR - Infinity polling: polling exited
2023-11-10 09:48:38,444 - ERROR - Break infinity polling
2023-11-10 10:22:05,359 - ERROR - Infinity polling: polling exited
2023-11-10 10:22:05,360 - ERROR - Break infinity polling
2023-11-10 10:22:12,623 - INFO - Новый пользователь с user_id: 1104141778, добавляем его в базу данных и начинаем диалог
2023-11-10 10:22:12,821 - INFO - Для пользователя user_id: 1104141778 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 10:22:12,822 - INFO - Задаем system на промпт 1
2023-11-10 10:22:33,727 - INFO - Пользователь отправил текстоовое сообщение
2023-11-10 10:22:33,827 - INFO - Сообщение пользователя (user_id: 1104141778): Николай, 17 лет, гантели
2023-11-10 10:22:33,828 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 1104141778)
2023-11-10 10:22:36,042 - INFO - Получили ответ GPT. Ответ: Какой уровень физической подготовки у тебя? Какая продолжительность одного занятия для тебя оптимальна? Есть ли у тебя физические ограничения?
2023-11-10 10:22:36,043 - INFO - Считаем токены для пользователя (user_id: 1104141778): 1104141778, итого prompt_1_input = 478, prompt_1_output = 63
2023-11-10 10:22:36,043 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-10 10:22:39,724 - INFO - Ответ пользователя (check_form): 7
2023-11-10 10:22:39,725 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 10:22:41,406 - INFO - Ответ от GPT получен. Ответ: Спасибо за ответ. А какая продолжительность одного занятия для тебя оптимальна? Есть ли у тебя физические ограничения?
2023-11-10 10:22:41,407 - INFO - Считаем токены для пользователя (user_id: 1104141778): 1104141778, итого prompt_1_input = 1028, prompt_1_output = 114
2023-11-10 10:22:41,407 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 10:22:41,407 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 10:22:47,507 - INFO - Ответ пользователя (check_form): 45 минут
2023-11-10 10:22:47,508 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 10:22:49,588 - INFO - Ответ от GPT получен. Ответ: Есть ли у тебя какие-либо физические ограничения? И какие у тебя пожелания по упражнениям?
2023-11-10 10:22:49,588 - INFO - Считаем токены для пользователя (user_id: 1104141778): 1104141778, итого prompt_1_input = 1585, prompt_1_output = 159
2023-11-10 10:22:49,588 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 10:22:49,588 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 10:23:00,248 - INFO - Ответ пользователя (check_form): Болит колено, хочу отдиматься
2023-11-10 10:23:00,248 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 10:23:04,430 - INFO - Ответ от GPT получен. Ответ: Твоя анкета:
Имя: Николай
Пол: Мужской
Возраст: 17 лет
Уровень физической подготовки: 7/10
Продолжительность занятия: 45 минут
Физические ограничения: Болит колено
Наличие спортивного инвентаря: Гантели
Пожелания по упражнениям: Отдыхать

Все верно? Если есть что-то, что нужно исправить или добавить, пожалуйста, напиши.
2023-11-10 10:23:04,430 - INFO - Считаем токены для пользователя (user_id: 1104141778): 1104141778, итого prompt_1_input = 2159, prompt_1_output = 318
2023-11-10 10:23:04,431 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 10:23:04,431 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-10 10:23:25,834 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Пожелание по упражнениям-отжиматься
2023-11-10 10:23:25,835 - INFO - context: [{'role': 'system', 'content': "Твоя задача сделать анкету по данным предоставлеными пользователем. Формат анкеты следующий: имя, пол, возраст, уровень физической подготовки (от 1 до 10), продолжительность занятия, физические ограничения, наличие спортивного инвентаря, пожелания по упражнениям. Не задавай вопрос про пол (гендер) пользователя, определи пол по имени. Вопрос про продолжительность занятия должен звучать так: 'Какая продолжительность одного занятия для тебя оптимальна?'. Общайся с пользователем на «ты». Задавай уточняющие вопросы до тех пор пока анкету не заполнишь полностью. Задавай вопросы строго по анкете. Обязательно спроси про пожелания по упражнениям. Пиши кратко, не давай лишних комментариев. Покажи анкету пользователю только после того, как она будет полностью заполнена. Если анкета составлена успешно, начни своё сообщение с 'Твоя анкета'. Задавай не более двух вопросов за один раз. По завершению анкеты, спроси все ли верно с ней. Скажи, что можно написать если что-то не так. "}, {'role': 'assistant', 'content': 'Как тебя зовут? Сколько тебе лет? Если у тебя спортивный инвентарь?'}, {'role': 'user', 'content': 'Николай, 17 лет, гантели'}, {'role': 'assistant', 'content': 'Какой уровень физической подготовки у тебя? Какая продолжительность одного занятия для тебя оптимальна? Есть ли у тебя физические ограничения?'}, {'role': 'user', 'content': '7'}, {'role': 'user', 'content': '45 минут'}, {'role': 'user', 'content': 'Болит колено, хочу отдиматься'}, {'role': 'user', 'content': 'Пожелание по упражнениям-отжиматься'}]
2023-11-10 10:23:30,265 - INFO - Считаем токены для пользователя (user_id: 1104141778): 1104141778, итого prompt_1_input = 2754, prompt_1_output = 483
2023-11-10 10:23:35,045 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-10 10:23:35,168 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 10:23:35,169 - INFO - Задаем system на промпт 1
2023-11-10 10:23:38,330 - INFO - Ответ пользователя (check_form): Все верно
2023-11-10 10:23:38,331 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 10:23:43,110 - INFO - Ответ от GPT получен. Ответ: Твоя анкета:
Имя: Николай
Пол: Мужской
Возраст: 17 лет
Уровень физической подготовки: 7/10
Продолжительность занятия: 45 минут
Физические ограничения: Болит колено
Наличие спортивного инвентаря: Гантели
Пожелания по упражнениям: Отжимания

Проверь, пожалуйста, все ли верно в анкете. Если есть что-то, что нужно изменить или добавить, напиши об этом.
2023-11-10 10:23:43,111 - INFO - Считаем токены для пользователя (user_id: 1104141778): 1104141778, итого prompt_1_input = 3358, prompt_1_output = 653
2023-11-10 10:23:43,111 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 10:23:43,111 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-10 10:23:48,039 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-10 10:23:48,039 - INFO - Пользователь (user_id: 1104141778) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-10 10:23:48,145 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-10 10:23:48,764 - INFO - Пользователь отправил голосовое сообщение. Вызываем whisper и конвертируем в текст
2023-11-10 10:23:49,014 - INFO - Получили голосовое сообщение от пользователя (user_id: 802693897),  file_info: {'file_id': 'AwACAgIAAxkBAAIRlGVN2oQdU9Xk6tM-YfywCqKzBdmaAAJNOQAC5yNwSoynTdZGxUl6MwQ', 'file_unique_id': 'AgADTTkAAucjcEo', 'file_size': 26930, 'file_path': 'voice/file_139.oga'}, передаем полученный файл в whisper
2023-11-10 10:23:49,017 - INFO - Записваем полученное голосовое сообщение
2023-11-10 10:23:49,017 - INFO - Голосовое успешно записано
2023-11-10 10:23:49,841 - INFO - Получили распознанный текст из голосового сообщения пользователя с user_id: 802693897, сообщение: Егор мне 17, у меня есть дома валик для йоги.
2023-11-10 10:23:49,841 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-10 10:23:50,919 - INFO - json form {'profile': {'name': 'Николай', 'sex': 'мужской', 'age': 17, 'level': 7, 'duration': '45 минут', 'issues': 'Болит колено, хочу отдохнуть', 'equipment': 'гантели', 'wishes': 'отжимания'}}
2023-11-10 10:23:50,921 - INFO - Получили форму пользователя (user_id: 1104141778), форма: {
  "profile": {
    "name": "Николай",
    "sex": "мужской",
    "age": 17,
    "level": 7,
    "duration": "45 минут",
    "issues": "Болит колено, хочу отдохнуть",
    "equipment": "гантели",
    "wishes": "отжимания"
  }
}, передаем ее во 2 промпт
2023-11-10 10:23:50,922 - INFO - Считаем токены для пользователя (user_id: 1104141778): 1104141778, итого prompt_1_input = 4029, prompt_1_output = 747
2023-11-10 10:23:50,922 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-10 10:23:52,616 - INFO - Получили ответ от GPT. Ответ: Привет, Егор! Спасибо за ответы. А какой уровень физической подготовки у тебя? И сколько времени ты обычно тратишь на одно занятие?
2023-11-10 10:23:52,617 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 488, prompt_1_output = 64
2023-11-10 10:23:52,617 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-10 10:24:02,857 - INFO - Ответ пользователя (check_form): 5, 40 минут
2023-11-10 10:24:02,858 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 10:24:04,918 - INFO - Ответ от GPT получен. Ответ: Отлично, Егор! А есть ли у тебя какие-либо физические ограничения или заболевания, о которых мне стоит знать? И какие у тебя пожелания по упражнениям?
2023-11-10 10:24:04,918 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 1054, prompt_1_output = 135
2023-11-10 10:24:04,919 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 10:24:04,919 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 10:24:06,278 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки:

**Разминка (10 минут)**

1. Ходьба на месте - 2 минуты
2. Махи руками в стороны - 2 подхода по 15 повторений
3. Круговые движения плечами - 2 подхода по 10 повторений в каждую сторону
4. Наклоны туловища в стороны - 2 подхода по 10 повторений

**Основная часть (30 минут)**

1. Отжимания (учитывая твое желание) - 4 подхода по 12 повторений (если болит колено, делай отжимания с колен или на упоре, чтобы снизить нагрузку)
2. Подъемы гантелей на бицепс стоя - 4 подхода по 10 повторений
3. Разведение гантелей в стороны стоя - 3 подхода по 12 повторений
4. Французский жим гантелей лежа - 3 подхода по 10 повторений

**Заминка (5 минут)**

1. Потягивание на полу, лежа на спине - 1 подход на 2 минуты
2. Растяжка грудных мышц - 1 подход на 1 минуту
3. Растяжка бицепсов - 1 подход на 1 минуту для каждой руки
4. Дыхательные упражнения - 1 подход на 1 минуту

Подходит ли тебе предложенная программа или есть пункты, которые ты хотел бы изменить?
2023-11-10 10:24:06,278 - INFO - Считаем токены для пользователя (user_id: 1104141778): 1104141778, итого prompt_2_input = 563, prompt_2_output = 463
2023-11-10 10:24:13,138 - INFO - from check_program Да
2023-11-10 10:24:13,226 - INFO - Сохраняем программу для пользователя 1104141778
2023-11-10 10:24:21,946 - INFO - json prog: {
  "training": {
    "Разминка": [
      "Приседания без веса - 3 подхода по 15 повторений",
      "Бег на месте - 3 минуты",
      "Прыжки на месте - 3 подхода по 30 секунд",
      "Размахивание руками - 3 подхода по 20 раз каждой рукой"
    ],
    "Основная часть": [
      "Отжимания - 5 подходов по 20 повторений",
      "Подтягивания (если есть турник) - 4 подхода по 12 повторений",
      "Планка - 4 подхода по 1 минуте",
      "Берпи - 4 подхода по 15 повторений"
    ],
    "Заминка": [
      "Растяжка грудных мышц - 30 секунд на каждую сторону",
      "Растяжка бицепсов и предплечий - 30 секунд на каждую руку",
      "Растяжка квадрицепсов - 30 секунд на каждую ногу",
      "Поза ребенка - 1 минута"
    ]
  }
}
2023-11-10 10:24:32,289 - INFO - Ответ пользователя (check_form): Болит колено, хочу подтягивания
2023-11-10 10:24:32,289 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 10:24:37,101 - INFO - Ответ от GPT получен. Ответ: Твоя анкета:
Имя: Егор
Пол: Мужской
Возраст: 17 лет
Уровень физической подготовки: 5/10
Продолжительность занятия: 40 минут
Физические ограничения: Болит колено
Наличие спортивного инвентаря: Есть валик для йоги
Пожелания по упражнениям: Хочу подтягивания

Проверь, пожалуйста, все ли верно. Если есть что-то, что нужно исправить или добавить, напиши об этом.
2023-11-10 10:24:37,102 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 1639, prompt_1_output = 310
2023-11-10 10:24:37,102 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 10:24:37,102 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-10 10:24:40,070 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-10 10:24:40,071 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-10 10:24:40,152 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-10 10:24:42,938 - INFO - json form {'profile': {'name': 'Егор', 'sex': 'мужской', 'age': 17, 'level': 5, 'duration': 40, 'issues': 'Болит колено', 'equipment': 'Валик для йоги', 'wishes': 'Подтягивания'}}
2023-11-10 10:24:42,940 - INFO - Получили форму пользователя (user_id: 802693897), форма: {
  "profile": {
    "name": "Егор",
    "sex": "мужской",
    "age": 17,
    "level": 5,
    "duration": 40,
    "issues": "Болит колено",
    "equipment": "Валик для йоги",
    "wishes": "Подтягивания"
  }
}, передаем ее во 2 промпт
2023-11-10 10:24:42,941 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 2291, prompt_1_output = 398
2023-11-10 10:24:42,941 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-10 10:25:12,262 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки включает в себя разминку, основную часть и заминку. Учитывая, что у тебя болит колено, я исключил упражнения, которые могут усугубить твою травму. Все упражнения выполняй аккуратно и внимательно слушай своё тело.

**Разминка (10 минут):**
1. Ходьба на месте – 2 минуты.
2. Разминка шеи: наклоны головы вперёд-назад, влево-вправо – по 30 секунд в каждую сторону.
3. Повороты туловища – 1 минута.
4. Махи руками вперед-назад – 1 минута.
5. Прокатка валиком для йоги по бедрам и икрам – по 1 минуте на каждую ногу.

**Основная часть (25 минут):**
1. Подтягивания (если есть турник или возможность их выполнить) – 3 подхода по 8 повторений. Если колено даёт о себе знать, прекрати выполнение.
2. Отжимания от пола – 3 подхода по 12 повторений.
3. "Планка" на предплечьях – 3 подхода по 30 секунд.
4. Приседания без нагрузки, контролируя положение колена (не допускай его движения вперёд за носки) – 3 подхода по 15 повторений. Если чувствуешь дискомфорт в колене, замени на выпады назад с опорой на стул.

**Заминка (5 минут):**
1. Растяжка икр – по 30 секунд на каждую ногу.
2. Растяжка бедер – по 30 секунд на каждую ногу.
3. Растяжка грудных мышц – 1 минута.
4. Глубокое дыхание и расслабление – 2 минуты.

Подходит ли тебе эта программа или есть пункты, которые ты хотел бы изменить?
2023-11-10 10:25:12,263 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_2_input = 557, prompt_2_output = 635
2023-11-10 10:25:12,886 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "Суббота",
      "time": "18:00"
    },
    {
      "dayOfWeek": "Воскресенье",
      "time": "18:00"
    }
  ]
}
2023-11-10 10:25:13,863 - INFO - from check_program Да
2023-11-10 10:25:13,948 - INFO - Сохраняем программу для пользователя 802693897
2023-11-10 10:25:26,336 - INFO - json prog: {
  "training": {
    "Разминка": [
      "Ходьба на месте – 2 минуты",
      "Разминка шеи: наклоны головы вперёд-назад, влево-вправо – по 30 секунд в каждую сторону",
      "Повороты туловища – 1 минута",
      "Махи руками вперед-назад – 1 минута",
      "Прокатка валиком для йоги по бедрам и икрам – по 1 минуте на каждую ногу"
    ],
    "Основная часть": [
      "Подтягивания (если есть турник или возможность их выполнить) – 3 подхода по 8 повторений. Если колено даёт о себе знать, прекрати выполнение.",
      "Отжимания от пола – 3 подхода по 12 повторений.",
      "\"Планка\" на предплечьях – 3 подхода по 30 секунд.",
      "Приседания без нагрузки, контролируя положение колена (не допускай его движения вперёд за носки) – 3 подхода по 15 повторений. Если чувствуешь дискомфорт в колене, замени на выпады назад с опорой на стул."
    ],
    "Заминка": [
      "Растяжка икр – по 30 секунд на каждую ногу.",
      "Растяжка бедер – по 30 секунд на каждую ногу.",
      "Растяжка грудных мышц – 1 минута.",
      "Глубокое дыхание и расслабление – 2 минуты."
    ]
  }
}
2023-11-10 10:25:56,191 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "Понедельник",
      "time": "10:00"
    }
  ]
}
2023-11-10 10:25:58,011 - INFO - Получаем упраженения из бд для пользователя 802693897
2023-11-10 10:25:58,012 - INFO - Получили упражнения пользователя, из количество - 3, упражнения - [['Ходьба на месте – 2 минуты', ' Разминка шеи: наклоны головы вперёд-назад', ' влево-вправо – по 30 секунд в каждую сторону', ' Повороты туловища – 1 минута', ' Махи руками вперед-назад – 1 минута', ' Прокатка валиком для йоги по бедрам и икрам – по 1 минуте на каждую ногу'], ['Подтягивания (если есть турник или возможность их выполнить) – 3 подхода по 8 повторений. Если колено даёт о себе знать', ' прекрати выполнение.', ' Отжимания от пола – 3 подхода по 12 повторений.', ' "Планка" на предплечьях – 3 подхода по 30 секунд.', ' Приседания без нагрузки', ' контролируя положение колена (не допускай его движения вперёд за носки) – 3 подхода по 15 повторений. Если чувствуешь дискомфорт в колене', ' замени на выпады назад с опорой на стул.'], ['Растяжка икр – по 30 секунд на каждую ногу.', ' Растяжка бедер – по 30 секунд на каждую ногу.', ' Растяжка грудных мышц – 1 минута.', ' Глубокое дыхание и расслабление – 2 минуты.']]
2023-11-10 10:25:58,970 - INFO - Я выполнил упражнение
2023-11-10 10:25:59,653 - INFO - Пропустить отдых, 1, 0, [['Ходьба на месте – 2 минуты', ' Разминка шеи: наклоны головы вперёд-назад', ' влево-вправо – по 30 секунд в каждую сторону', ' Повороты туловища – 1 минута', ' Махи руками вперед-назад – 1 минута', ' Прокатка валиком для йоги по бедрам и икрам – по 1 минуте на каждую ногу'], ['Подтягивания (если есть турник или возможность их выполнить) – 3 подхода по 8 повторений. Если колено даёт о себе знать', ' прекрати выполнение.', ' Отжимания от пола – 3 подхода по 12 повторений.', ' "Планка" на предплечьях – 3 подхода по 30 секунд.', ' Приседания без нагрузки', ' контролируя положение колена (не допускай его движения вперёд за носки) – 3 подхода по 15 повторений. Если чувствуешь дискомфорт в колене', ' замени на выпады назад с опорой на стул.'], ['Растяжка икр – по 30 секунд на каждую ногу.', ' Растяжка бедер – по 30 секунд на каждую ногу.', ' Растяжка грудных мышц – 1 минута.', ' Глубокое дыхание и расслабление – 2 минуты.']]
2023-11-10 10:26:00,591 - INFO - Я выполнил упражнение
2023-11-10 10:26:01,522 - INFO - Пропустить отдых, 2, 0, [['Ходьба на месте – 2 минуты', ' Разминка шеи: наклоны головы вперёд-назад', ' влево-вправо – по 30 секунд в каждую сторону', ' Повороты туловища – 1 минута', ' Махи руками вперед-назад – 1 минута', ' Прокатка валиком для йоги по бедрам и икрам – по 1 минуте на каждую ногу'], ['Подтягивания (если есть турник или возможность их выполнить) – 3 подхода по 8 повторений. Если колено даёт о себе знать', ' прекрати выполнение.', ' Отжимания от пола – 3 подхода по 12 повторений.', ' "Планка" на предплечьях – 3 подхода по 30 секунд.', ' Приседания без нагрузки', ' контролируя положение колена (не допускай его движения вперёд за носки) – 3 подхода по 15 повторений. Если чувствуешь дискомфорт в колене', ' замени на выпады назад с опорой на стул.'], ['Растяжка икр – по 30 секунд на каждую ногу.', ' Растяжка бедер – по 30 секунд на каждую ногу.', ' Растяжка грудных мышц – 1 минута.', ' Глубокое дыхание и расслабление – 2 минуты.']]
2023-11-10 10:26:03,338 - INFO - Я выполнил упражнение
2023-11-10 10:26:04,141 - INFO - Пропустить отдых, 3, 0, [['Ходьба на месте – 2 минуты', ' Разминка шеи: наклоны головы вперёд-назад', ' влево-вправо – по 30 секунд в каждую сторону', ' Повороты туловища – 1 минута', ' Махи руками вперед-назад – 1 минута', ' Прокатка валиком для йоги по бедрам и икрам – по 1 минуте на каждую ногу'], ['Подтягивания (если есть турник или возможность их выполнить) – 3 подхода по 8 повторений. Если колено даёт о себе знать', ' прекрати выполнение.', ' Отжимания от пола – 3 подхода по 12 повторений.', ' "Планка" на предплечьях – 3 подхода по 30 секунд.', ' Приседания без нагрузки', ' контролируя положение колена (не допускай его движения вперёд за носки) – 3 подхода по 15 повторений. Если чувствуешь дискомфорт в колене', ' замени на выпады назад с опорой на стул.'], ['Растяжка икр – по 30 секунд на каждую ногу.', ' Растяжка бедер – по 30 секунд на каждую ногу.', ' Растяжка грудных мышц – 1 минута.', ' Глубокое дыхание и расслабление – 2 минуты.']]
2023-11-10 10:26:04,962 - INFO - Я выполнил упражнение
2023-11-10 10:26:06,048 - INFO - Пропустить отдых, 4, 0, [['Ходьба на месте – 2 минуты', ' Разминка шеи: наклоны головы вперёд-назад', ' влево-вправо – по 30 секунд в каждую сторону', ' Повороты туловища – 1 минута', ' Махи руками вперед-назад – 1 минута', ' Прокатка валиком для йоги по бедрам и икрам – по 1 минуте на каждую ногу'], ['Подтягивания (если есть турник или возможность их выполнить) – 3 подхода по 8 повторений. Если колено даёт о себе знать', ' прекрати выполнение.', ' Отжимания от пола – 3 подхода по 12 повторений.', ' "Планка" на предплечьях – 3 подхода по 30 секунд.', ' Приседания без нагрузки', ' контролируя положение колена (не допускай его движения вперёд за носки) – 3 подхода по 15 повторений. Если чувствуешь дискомфорт в колене', ' замени на выпады назад с опорой на стул.'], ['Растяжка икр – по 30 секунд на каждую ногу.', ' Растяжка бедер – по 30 секунд на каждую ногу.', ' Растяжка грудных мышц – 1 минута.', ' Глубокое дыхание и расслабление – 2 минуты.']]
2023-11-10 10:26:06,809 - INFO - Я выполнил упражнение
2023-11-10 10:26:07,634 - INFO - Пропустить отдых, 5, 0, [['Ходьба на месте – 2 минуты', ' Разминка шеи: наклоны головы вперёд-назад', ' влево-вправо – по 30 секунд в каждую сторону', ' Повороты туловища – 1 минута', ' Махи руками вперед-назад – 1 минута', ' Прокатка валиком для йоги по бедрам и икрам – по 1 минуте на каждую ногу'], ['Подтягивания (если есть турник или возможность их выполнить) – 3 подхода по 8 повторений. Если колено даёт о себе знать', ' прекрати выполнение.', ' Отжимания от пола – 3 подхода по 12 повторений.', ' "Планка" на предплечьях – 3 подхода по 30 секунд.', ' Приседания без нагрузки', ' контролируя положение колена (не допускай его движения вперёд за носки) – 3 подхода по 15 повторений. Если чувствуешь дискомфорт в колене', ' замени на выпады назад с опорой на стул.'], ['Растяжка икр – по 30 секунд на каждую ногу.', ' Растяжка бедер – по 30 секунд на каждую ногу.', ' Растяжка грудных мышц – 1 минута.', ' Глубокое дыхание и расслабление – 2 минуты.']]
2023-11-10 10:26:08,687 - INFO - Я выполнил упражнение
2023-11-10 10:26:08,834 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "Понедельник",
      "time": "17:00"
    },
    {
      "dayOfWeek": "Пятница",
      "time": "18:00"
    }
  ]
}
2023-11-10 10:26:09,605 - INFO - Пропустить отдых, 0, 1, [['Ходьба на месте – 2 минуты', ' Разминка шеи: наклоны головы вперёд-назад', ' влево-вправо – по 30 секунд в каждую сторону', ' Повороты туловища – 1 минута', ' Махи руками вперед-назад – 1 минута', ' Прокатка валиком для йоги по бедрам и икрам – по 1 минуте на каждую ногу'], ['Подтягивания (если есть турник или возможность их выполнить) – 3 подхода по 8 повторений. Если колено даёт о себе знать', ' прекрати выполнение.', ' Отжимания от пола – 3 подхода по 12 повторений.', ' "Планка" на предплечьях – 3 подхода по 30 секунд.', ' Приседания без нагрузки', ' контролируя положение колена (не допускай его движения вперёд за носки) – 3 подхода по 15 повторений. Если чувствуешь дискомфорт в колене', ' замени на выпады назад с опорой на стул.'], ['Растяжка икр – по 30 секунд на каждую ногу.', ' Растяжка бедер – по 30 секунд на каждую ногу.', ' Растяжка грудных мышц – 1 минута.', ' Глубокое дыхание и расслабление – 2 минуты.']]
2023-11-10 10:26:10,046 - INFO - Получаем упраженения из бд для пользователя 1104141778
2023-11-10 10:26:10,046 - INFO - Получили упражнения пользователя, из количество - 3, упражнения - [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 10:26:10,472 - INFO - Я выполнил упражнение
2023-11-10 10:26:11,395 - INFO - Пропустить отдых, 1, 1, [['Ходьба на месте – 2 минуты', ' Разминка шеи: наклоны головы вперёд-назад', ' влево-вправо – по 30 секунд в каждую сторону', ' Повороты туловища – 1 минута', ' Махи руками вперед-назад – 1 минута', ' Прокатка валиком для йоги по бедрам и икрам – по 1 минуте на каждую ногу'], ['Подтягивания (если есть турник или возможность их выполнить) – 3 подхода по 8 повторений. Если колено даёт о себе знать', ' прекрати выполнение.', ' Отжимания от пола – 3 подхода по 12 повторений.', ' "Планка" на предплечьях – 3 подхода по 30 секунд.', ' Приседания без нагрузки', ' контролируя положение колена (не допускай его движения вперёд за носки) – 3 подхода по 15 повторений. Если чувствуешь дискомфорт в колене', ' замени на выпады назад с опорой на стул.'], ['Растяжка икр – по 30 секунд на каждую ногу.', ' Растяжка бедер – по 30 секунд на каждую ногу.', ' Растяжка грудных мышц – 1 минута.', ' Глубокое дыхание и расслабление – 2 минуты.']]
2023-11-10 10:26:12,206 - INFO - Я выполнил упражнение
2023-11-10 10:26:13,261 - INFO - Пропустить отдых, 2, 1, [['Ходьба на месте – 2 минуты', ' Разминка шеи: наклоны головы вперёд-назад', ' влево-вправо – по 30 секунд в каждую сторону', ' Повороты туловища – 1 минута', ' Махи руками вперед-назад – 1 минута', ' Прокатка валиком для йоги по бедрам и икрам – по 1 минуте на каждую ногу'], ['Подтягивания (если есть турник или возможность их выполнить) – 3 подхода по 8 повторений. Если колено даёт о себе знать', ' прекрати выполнение.', ' Отжимания от пола – 3 подхода по 12 повторений.', ' "Планка" на предплечьях – 3 подхода по 30 секунд.', ' Приседания без нагрузки', ' контролируя положение колена (не допускай его движения вперёд за носки) – 3 подхода по 15 повторений. Если чувствуешь дискомфорт в колене', ' замени на выпады назад с опорой на стул.'], ['Растяжка икр – по 30 секунд на каждую ногу.', ' Растяжка бедер – по 30 секунд на каждую ногу.', ' Растяжка грудных мышц – 1 минута.', ' Глубокое дыхание и расслабление – 2 минуты.']]
2023-11-10 10:26:14,059 - INFO - Я выполнил упражнение
2023-11-10 10:26:14,945 - INFO - Пропустить отдых, 3, 1, [['Ходьба на месте – 2 минуты', ' Разминка шеи: наклоны головы вперёд-назад', ' влево-вправо – по 30 секунд в каждую сторону', ' Повороты туловища – 1 минута', ' Махи руками вперед-назад – 1 минута', ' Прокатка валиком для йоги по бедрам и икрам – по 1 минуте на каждую ногу'], ['Подтягивания (если есть турник или возможность их выполнить) – 3 подхода по 8 повторений. Если колено даёт о себе знать', ' прекрати выполнение.', ' Отжимания от пола – 3 подхода по 12 повторений.', ' "Планка" на предплечьях – 3 подхода по 30 секунд.', ' Приседания без нагрузки', ' контролируя положение колена (не допускай его движения вперёд за носки) – 3 подхода по 15 повторений. Если чувствуешь дискомфорт в колене', ' замени на выпады назад с опорой на стул.'], ['Растяжка икр – по 30 секунд на каждую ногу.', ' Растяжка бедер – по 30 секунд на каждую ногу.', ' Растяжка грудных мышц – 1 минута.', ' Глубокое дыхание и расслабление – 2 минуты.']]
2023-11-10 10:26:15,852 - INFO - Я выполнил упражнение
2023-11-10 10:26:16,698 - INFO - Пропустить отдых, 4, 1, [['Ходьба на месте – 2 минуты', ' Разминка шеи: наклоны головы вперёд-назад', ' влево-вправо – по 30 секунд в каждую сторону', ' Повороты туловища – 1 минута', ' Махи руками вперед-назад – 1 минута', ' Прокатка валиком для йоги по бедрам и икрам – по 1 минуте на каждую ногу'], ['Подтягивания (если есть турник или возможность их выполнить) – 3 подхода по 8 повторений. Если колено даёт о себе знать', ' прекрати выполнение.', ' Отжимания от пола – 3 подхода по 12 повторений.', ' "Планка" на предплечьях – 3 подхода по 30 секунд.', ' Приседания без нагрузки', ' контролируя положение колена (не допускай его движения вперёд за носки) – 3 подхода по 15 повторений. Если чувствуешь дискомфорт в колене', ' замени на выпады назад с опорой на стул.'], ['Растяжка икр – по 30 секунд на каждую ногу.', ' Растяжка бедер – по 30 секунд на каждую ногу.', ' Растяжка грудных мышц – 1 минута.', ' Глубокое дыхание и расслабление – 2 минуты.']]
2023-11-10 10:26:17,559 - INFO - Я выполнил упражнение
2023-11-10 10:26:18,368 - INFO - Пропустить отдых, 5, 1, [['Ходьба на месте – 2 минуты', ' Разминка шеи: наклоны головы вперёд-назад', ' влево-вправо – по 30 секунд в каждую сторону', ' Повороты туловища – 1 минута', ' Махи руками вперед-назад – 1 минута', ' Прокатка валиком для йоги по бедрам и икрам – по 1 минуте на каждую ногу'], ['Подтягивания (если есть турник или возможность их выполнить) – 3 подхода по 8 повторений. Если колено даёт о себе знать', ' прекрати выполнение.', ' Отжимания от пола – 3 подхода по 12 повторений.', ' "Планка" на предплечьях – 3 подхода по 30 секунд.', ' Приседания без нагрузки', ' контролируя положение колена (не допускай его движения вперёд за носки) – 3 подхода по 15 повторений. Если чувствуешь дискомфорт в колене', ' замени на выпады назад с опорой на стул.'], ['Растяжка икр – по 30 секунд на каждую ногу.', ' Растяжка бедер – по 30 секунд на каждую ногу.', ' Растяжка грудных мышц – 1 минута.', ' Глубокое дыхание и расслабление – 2 минуты.']]
2023-11-10 10:26:19,542 - INFO - Я выполнил упражнение
2023-11-10 10:26:20,413 - INFO - Пропустить отдых, 6, 1, [['Ходьба на месте – 2 минуты', ' Разминка шеи: наклоны головы вперёд-назад', ' влево-вправо – по 30 секунд в каждую сторону', ' Повороты туловища – 1 минута', ' Махи руками вперед-назад – 1 минута', ' Прокатка валиком для йоги по бедрам и икрам – по 1 минуте на каждую ногу'], ['Подтягивания (если есть турник или возможность их выполнить) – 3 подхода по 8 повторений. Если колено даёт о себе знать', ' прекрати выполнение.', ' Отжимания от пола – 3 подхода по 12 повторений.', ' "Планка" на предплечьях – 3 подхода по 30 секунд.', ' Приседания без нагрузки', ' контролируя положение колена (не допускай его движения вперёд за носки) – 3 подхода по 15 повторений. Если чувствуешь дискомфорт в колене', ' замени на выпады назад с опорой на стул.'], ['Растяжка икр – по 30 секунд на каждую ногу.', ' Растяжка бедер – по 30 секунд на каждую ногу.', ' Растяжка грудных мышц – 1 минута.', ' Глубокое дыхание и расслабление – 2 минуты.']]
2023-11-10 10:26:21,170 - INFO - Я выполнил упражнение
2023-11-10 10:26:22,097 - INFO - Пропустить отдых, 0, 2, [['Ходьба на месте – 2 минуты', ' Разминка шеи: наклоны головы вперёд-назад', ' влево-вправо – по 30 секунд в каждую сторону', ' Повороты туловища – 1 минута', ' Махи руками вперед-назад – 1 минута', ' Прокатка валиком для йоги по бедрам и икрам – по 1 минуте на каждую ногу'], ['Подтягивания (если есть турник или возможность их выполнить) – 3 подхода по 8 повторений. Если колено даёт о себе знать', ' прекрати выполнение.', ' Отжимания от пола – 3 подхода по 12 повторений.', ' "Планка" на предплечьях – 3 подхода по 30 секунд.', ' Приседания без нагрузки', ' контролируя положение колена (не допускай его движения вперёд за носки) – 3 подхода по 15 повторений. Если чувствуешь дискомфорт в колене', ' замени на выпады назад с опорой на стул.'], ['Растяжка икр – по 30 секунд на каждую ногу.', ' Растяжка бедер – по 30 секунд на каждую ногу.', ' Растяжка грудных мышц – 1 минута.', ' Глубокое дыхание и расслабление – 2 минуты.']]
2023-11-10 10:26:26,573 - INFO - Я выполнил упражнение
2023-11-10 10:26:27,613 - INFO - Пропустить отдых, 1, 2, [['Ходьба на месте – 2 минуты', ' Разминка шеи: наклоны головы вперёд-назад', ' влево-вправо – по 30 секунд в каждую сторону', ' Повороты туловища – 1 минута', ' Махи руками вперед-назад – 1 минута', ' Прокатка валиком для йоги по бедрам и икрам – по 1 минуте на каждую ногу'], ['Подтягивания (если есть турник или возможность их выполнить) – 3 подхода по 8 повторений. Если колено даёт о себе знать', ' прекрати выполнение.', ' Отжимания от пола – 3 подхода по 12 повторений.', ' "Планка" на предплечьях – 3 подхода по 30 секунд.', ' Приседания без нагрузки', ' контролируя положение колена (не допускай его движения вперёд за носки) – 3 подхода по 15 повторений. Если чувствуешь дискомфорт в колене', ' замени на выпады назад с опорой на стул.'], ['Растяжка икр – по 30 секунд на каждую ногу.', ' Растяжка бедер – по 30 секунд на каждую ногу.', ' Растяжка грудных мышц – 1 минута.', ' Глубокое дыхание и расслабление – 2 минуты.']]
2023-11-10 10:26:28,494 - INFO - Я выполнил упражнение
2023-11-10 10:26:29,538 - INFO - Пропустить отдых, 2, 2, [['Ходьба на месте – 2 минуты', ' Разминка шеи: наклоны головы вперёд-назад', ' влево-вправо – по 30 секунд в каждую сторону', ' Повороты туловища – 1 минута', ' Махи руками вперед-назад – 1 минута', ' Прокатка валиком для йоги по бедрам и икрам – по 1 минуте на каждую ногу'], ['Подтягивания (если есть турник или возможность их выполнить) – 3 подхода по 8 повторений. Если колено даёт о себе знать', ' прекрати выполнение.', ' Отжимания от пола – 3 подхода по 12 повторений.', ' "Планка" на предплечьях – 3 подхода по 30 секунд.', ' Приседания без нагрузки', ' контролируя положение колена (не допускай его движения вперёд за носки) – 3 подхода по 15 повторений. Если чувствуешь дискомфорт в колене', ' замени на выпады назад с опорой на стул.'], ['Растяжка икр – по 30 секунд на каждую ногу.', ' Растяжка бедер – по 30 секунд на каждую ногу.', ' Растяжка грудных мышц – 1 минута.', ' Глубокое дыхание и расслабление – 2 минуты.']]
2023-11-10 10:26:30,389 - INFO - Я выполнил упражнение
2023-11-10 10:26:31,207 - INFO - Пропустить отдых, 3, 2, [['Ходьба на месте – 2 минуты', ' Разминка шеи: наклоны головы вперёд-назад', ' влево-вправо – по 30 секунд в каждую сторону', ' Повороты туловища – 1 минута', ' Махи руками вперед-назад – 1 минута', ' Прокатка валиком для йоги по бедрам и икрам – по 1 минуте на каждую ногу'], ['Подтягивания (если есть турник или возможность их выполнить) – 3 подхода по 8 повторений. Если колено даёт о себе знать', ' прекрати выполнение.', ' Отжимания от пола – 3 подхода по 12 повторений.', ' "Планка" на предплечьях – 3 подхода по 30 секунд.', ' Приседания без нагрузки', ' контролируя положение колена (не допускай его движения вперёд за носки) – 3 подхода по 15 повторений. Если чувствуешь дискомфорт в колене', ' замени на выпады назад с опорой на стул.'], ['Растяжка икр – по 30 секунд на каждую ногу.', ' Растяжка бедер – по 30 секунд на каждую ногу.', ' Растяжка грудных мышц – 1 минута.', ' Глубокое дыхание и расслабление – 2 минуты.']]
2023-11-10 10:26:32,100 - INFO - Я выполнил упражнение
2023-11-10 10:26:32,867 - INFO - Пропустить отдых, 0, 3, [['Ходьба на месте – 2 минуты', ' Разминка шеи: наклоны головы вперёд-назад', ' влево-вправо – по 30 секунд в каждую сторону', ' Повороты туловища – 1 минута', ' Махи руками вперед-назад – 1 минута', ' Прокатка валиком для йоги по бедрам и икрам – по 1 минуте на каждую ногу'], ['Подтягивания (если есть турник или возможность их выполнить) – 3 подхода по 8 повторений. Если колено даёт о себе знать', ' прекрати выполнение.', ' Отжимания от пола – 3 подхода по 12 повторений.', ' "Планка" на предплечьях – 3 подхода по 30 секунд.', ' Приседания без нагрузки', ' контролируя положение колена (не допускай его движения вперёд за носки) – 3 подхода по 15 повторений. Если чувствуешь дискомфорт в колене', ' замени на выпады назад с опорой на стул.'], ['Растяжка икр – по 30 секунд на каждую ногу.', ' Растяжка бедер – по 30 секунд на каждую ногу.', ' Растяжка грудных мышц – 1 минута.', ' Глубокое дыхание и расслабление – 2 минуты.']]
2023-11-10 10:26:33,737 - INFO - Я выполнил упражнение
2023-11-10 10:26:41,501 - ERROR - Infinity polling exception: no such column: feedback
2023-11-10 10:26:41,504 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 470, in third_question
    BotDatabase.insert_feedback(message.from_user.id, '\n'.join(user_feedback[message.from_user.id]))
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 23, in insert_feedback
    self.cur.execute("UPDATE users SET feedback = ? WHERE user_id = ?", (feedback, user_id,))
sqlite3.OperationalError: no such column: feedback

2023-11-10 10:28:08,129 - ERROR - Infinity polling: polling exited
2023-11-10 10:28:08,129 - ERROR - Break infinity polling
2023-11-10 10:28:18,714 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-10 10:28:18,919 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 10:28:18,920 - INFO - Задаем system на промпт 1
2023-11-10 10:28:24,914 - INFO - Пользователь отправил голосовое сообщение. Вызываем whisper и конвертируем в текст
2023-11-10 10:28:25,283 - INFO - Получили голосовое сообщение от пользователя (user_id: 802693897),  file_info: {'file_id': 'AwACAgIAAxkBAAISFGVN25jsK6UthMR_JrJLWVs8SdS2AAJYOQAC5yNwSgYKmhOx_bi3MwQ', 'file_unique_id': 'AgADWDkAAucjcEo', 'file_size': 15844, 'file_path': 'voice/file_140.oga'}, передаем полученный файл в whisper
2023-11-10 10:28:25,284 - INFO - Записваем полученное голосовое сообщение
2023-11-10 10:28:25,284 - INFO - Голосовое успешно записано
2023-11-10 10:28:26,226 - INFO - Получили распознанный текст из голосового сообщения пользователя с user_id: 802693897, сообщение: Меня зовут Егор, мне 17, у меня есть гантели дома.
2023-11-10 10:28:26,226 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-10 10:28:26,483 - INFO - Новый пользователь с user_id: 940032081, добавляем его в базу данных и начинаем диалог
2023-11-10 10:28:26,698 - INFO - Для пользователя user_id: 940032081 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 10:28:26,698 - INFO - Задаем system на промпт 1
2023-11-10 10:28:29,458 - INFO - Получили ответ от GPT. Ответ: Привет, Егор! Спасибо за ответы. Какой уровень физической подготовки у тебя от 1 до 10? Какая продолжительность одного занятия для тебя оптимальна? Есть ли у тебя физические ограничения? И какие у тебя пожелания по упражнениям?
2023-11-10 10:28:29,458 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 491, prompt_1_output = 107
2023-11-10 10:28:29,459 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-10 10:28:38,661 - INFO - Пользователь отправил голосовое сообщение. Вызываем whisper и конвертируем в текст
2023-11-10 10:28:38,982 - INFO - Получили голосовое сообщение от пользователя (user_id: 940032081),  file_info: {'file_id': 'AwACAgIAAxkBAAISGWVN26b7Db8-mkVODmsvMmJdYwx3AALTOQACj2BxSpLNNivBbtJOMwQ', 'file_unique_id': 'AgAD0zkAAo9gcUo', 'file_size': 29244, 'file_path': 'voice/file_141.oga'}, передаем полученный файл в whisper
2023-11-10 10:28:38,984 - INFO - Записваем полученное голосовое сообщение
2023-11-10 10:28:38,984 - INFO - Голосовое успешно записано
2023-11-10 10:28:40,105 - INFO - Получили распознанный текст из голосового сообщения пользователя с user_id: 940032081, сообщение: Привет, меня зовут Артём, мне 29 лет, у меня есть автомобиль Mercedes-Benz E-class и есть турнир.
2023-11-10 10:28:40,106 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 940032081)
2023-11-10 10:28:42,122 - INFO - Получили ответ от GPT. Ответ: Привет, Артём! Спасибо за информацию. А какой уровень физической подготовки у тебя? И сколько времени ты обычно тратишь на одно занятие?
2023-11-10 10:28:42,123 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 505, prompt_1_output = 67
2023-11-10 10:28:42,123 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-10 10:28:45,328 - INFO - Ответ пользователя (check_form): 5, 50 минут, болит колено, хочу отжимания
2023-11-10 10:28:45,329 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 10:28:49,320 - INFO - Ответ от GPT получен. Ответ: Спасибо за ответы, Егор! Твоя анкета:
Имя: Егор
Возраст: 17
Уровень физической подготовки: 5/10
Продолжительность занятия: 50 минут
Физические ограничения: болит колено
Наличие спортивного инвентаря: гантели
Пожелания по упражнениям: отжимания

Всё верно? Если что-то нужно изменить или добавить, пожалуйста, напиши.
2023-11-10 10:28:49,321 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 1117, prompt_1_output = 264
2023-11-10 10:28:49,321 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 10:28:49,321 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-10 10:28:51,230 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-10 10:28:51,231 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-10 10:28:51,351 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-10 10:28:54,030 - INFO - json form {'profile': {'name': 'Егор', 'sex': 'мужской', 'age': 17, 'level': 5, 'duration': '50 минут', 'issues': 'болит колено', 'equipment': 'гантели', 'wishes': 'отжимания'}}
2023-11-10 10:28:54,033 - INFO - Получили форму пользователя (user_id: 802693897), форма: {
  "profile": {
    "name": "Егор",
    "sex": "мужской",
    "age": 17,
    "level": 5,
    "duration": "50 минут",
    "issues": "болит колено",
    "equipment": "гантели",
    "wishes": "отжимания"
  }
}, передаем ее во 2 промпт
2023-11-10 10:28:54,033 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 1810, prompt_1_output = 347
2023-11-10 10:28:54,033 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-10 10:28:56,589 - INFO - Ответ пользователя (check_form): Плохой уровень, 30 минут
2023-11-10 10:28:56,590 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 10:28:58,329 - INFO - Ответ от GPT получен. Ответ: Понял, спасибо за ответы. У тебя есть какие-либо физические ограничения? И какие у тебя пожелания по упражнениям?
2023-11-10 10:28:58,330 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 1097, prompt_1_output = 124
2023-11-10 10:28:58,330 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 10:28:58,330 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 10:29:07,137 - INFO - Ответ пользователя (check_form): Нету, пожеланий нет
2023-11-10 10:29:07,138 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 10:29:09,348 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки:

**Разминка (10 минут):**
1. Ходьба на месте – 3 минуты.
2. Разминка шеи (круговые движения головой) – 1 минута.
3. Круговые движения плечами – 20 раз в каждую сторону.
4. Растяжка грудных мышц – 30 секунд в позиции.

**Основная часть (35 минут):**
1. Отжимания (учитывая твоё пожелание) – 4 подхода по 12 повторений. Если ощущаешь боль в колене, делай отжимания на коленях.
2. Приседания без веса (будь осторожен из-за боли в колене) – 3 подхода по 15 повторений. Следи за тем, чтобы колени не выходили за линию носков.
3. Тяга гантелей в наклоне – 4 подхода по 10 повторений на каждую руку.
4. Планка – 3 подхода по 30 секунд в позиции.

**Заминка (5 минут):**
1. Потягивание в положении стоя – 1 минута.
2. Растяжка квадрицепсов (аккуратно, не допускай боли в колене) – по 30 секунд на каждую ногу.
3. Растяжка икры – по 30 секунд на каждую ногу.
4. Глубокое дыхание и расслабление мышц – 2 минуты.

Подходит ли тебе эта программа или есть что-то, что хотелось бы изменить?
2023-11-10 10:29:09,348 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_2_input = 552, prompt_2_output = 486
2023-11-10 10:29:11,151 - INFO - from check_program Да
2023-11-10 10:29:11,365 - INFO - Сохраняем программу для пользователя 802693897
2023-11-10 10:29:11,514 - INFO - Ответ от GPT получен. Ответ: Твоя анкета:
Имя: Артём
Пол: Мужской
Возраст: 29 лет
Уровень физической подготовки: 1
Продолжительность занятия: 30 минут
Физические ограничения: Отсутствуют
Наличие спортивного инвентаря: Есть автомобиль Mercedes-Benz E-class и турник

Всё верно? Если есть что-то, что нужно исправить или добавить, пожалуйста, напиши.
2023-11-10 10:29:11,514 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 1703, prompt_1_output = 275
2023-11-10 10:29:11,514 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 10:29:11,514 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-10 10:29:20,352 - INFO - json prog: {
  "training": {
    "Разминка": [
      "Ходьба на месте – 3 минуты",
      "Разминка шеи (круговые движения головой) – 1 минута",
      "Круговые движения плечами – 20 раз в каждую сторону",
      "Растяжка грудных мышц – 30 секунд в позиции"
    ],
    "Основная часть": [
      "Отжимания – 4 подхода по 12 повторений",
      "Приседания без веса – 3 подхода по 15 повторений",
      "Тяга гантелей в наклоне – 4 подхода по 10 повторений на каждую руку",
      "Планка – 3 подхода по 30 секунд в позиции"
    ],
    "Заминка": [
      "Потягивание в положении стоя – 1 минута",
      "Растяжка квадрицепсов – по 30 секунд на каждую ногу",
      "Растяжка икры – по 30 секунд на каждую ногу",
      "Глубокое дыхание и расслабление мышц – 2 минуты"
    ]
  }
}
2023-11-10 10:29:20,859 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-10 10:29:20,859 - INFO - Пользователь (user_id: 940032081) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-10 10:29:20,956 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-10 10:29:23,529 - INFO - json form {'profile': {'name': 'Артём', 'sex': 'мужской', 'age': 29, 'level': 1, 'duration': 30, 'issues': '', 'equipment': ['автомобиль Mercedes-Benz E-class', 'турнир'], 'wishes': ''}}
2023-11-10 10:29:23,534 - ERROR - Infinity polling exception: Error binding parameter 0 - probably unsupported type.
2023-11-10 10:29:23,537 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 230, in final_check_form
    BotDatabase.insert_user_form(message.from_user.id, json_form)
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 49, in insert_user_form
    self.cur.execute(f"UPDATE users SET `{key}` = ? WHERE user_id = ?", (val, user_id))
sqlite3.InterfaceError: Error binding parameter 0 - probably unsupported type.

2023-11-10 10:29:59,065 - INFO - Получаем упраженения из бд для пользователя 802693897
2023-11-10 10:29:59,066 - INFO - Получили упражнения пользователя, из количество - 3, упражнения - [['Ходьба на месте – 3 минуты', ' Разминка шеи (круговые движения головой) – 1 минута', ' Круговые движения плечами – 20 раз в каждую сторону', ' Растяжка грудных мышц – 30 секунд в позиции'], ['Отжимания – 4 подхода по 12 повторений', ' Приседания без веса – 3 подхода по 15 повторений', ' Тяга гантелей в наклоне – 4 подхода по 10 повторений на каждую руку', ' Планка – 3 подхода по 30 секунд в позиции'], ['Потягивание в положении стоя – 1 минута', ' Растяжка квадрицепсов – по 30 секунд на каждую ногу', ' Растяжка икры – по 30 секунд на каждую ногу', ' Глубокое дыхание и расслабление мышц – 2 минуты']]
2023-11-10 10:29:59,176 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "Понедельник",
      "time": "15:00"
    }
  ]
}
2023-11-10 10:30:00,257 - INFO - Я выполнил упражнение
2023-11-10 10:30:01,171 - INFO - Пропустить отдых, 1, 0, [['Ходьба на месте – 3 минуты', ' Разминка шеи (круговые движения головой) – 1 минута', ' Круговые движения плечами – 20 раз в каждую сторону', ' Растяжка грудных мышц – 30 секунд в позиции'], ['Отжимания – 4 подхода по 12 повторений', ' Приседания без веса – 3 подхода по 15 повторений', ' Тяга гантелей в наклоне – 4 подхода по 10 повторений на каждую руку', ' Планка – 3 подхода по 30 секунд в позиции'], ['Потягивание в положении стоя – 1 минута', ' Растяжка квадрицепсов – по 30 секунд на каждую ногу', ' Растяжка икры – по 30 секунд на каждую ногу', ' Глубокое дыхание и расслабление мышц – 2 минуты']]
2023-11-10 10:30:02,609 - INFO - Я выполнил упражнение
2023-11-10 10:30:26,294 - INFO - Пропустить отдых, 2, 0, [['Ходьба на месте – 3 минуты', ' Разминка шеи (круговые движения головой) – 1 минута', ' Круговые движения плечами – 20 раз в каждую сторону', ' Растяжка грудных мышц – 30 секунд в позиции'], ['Отжимания – 4 подхода по 12 повторений', ' Приседания без веса – 3 подхода по 15 повторений', ' Тяга гантелей в наклоне – 4 подхода по 10 повторений на каждую руку', ' Планка – 3 подхода по 30 секунд в позиции'], ['Потягивание в положении стоя – 1 минута', ' Растяжка квадрицепсов – по 30 секунд на каждую ногу', ' Растяжка икры – по 30 секунд на каждую ногу', ' Глубокое дыхание и расслабление мышц – 2 минуты']]
2023-11-10 10:30:27,010 - INFO - Я выполнил упражнение
2023-11-10 10:30:27,766 - INFO - Пропустить отдых, 3, 0, [['Ходьба на месте – 3 минуты', ' Разминка шеи (круговые движения головой) – 1 минута', ' Круговые движения плечами – 20 раз в каждую сторону', ' Растяжка грудных мышц – 30 секунд в позиции'], ['Отжимания – 4 подхода по 12 повторений', ' Приседания без веса – 3 подхода по 15 повторений', ' Тяга гантелей в наклоне – 4 подхода по 10 повторений на каждую руку', ' Планка – 3 подхода по 30 секунд в позиции'], ['Потягивание в положении стоя – 1 минута', ' Растяжка квадрицепсов – по 30 секунд на каждую ногу', ' Растяжка икры – по 30 секунд на каждую ногу', ' Глубокое дыхание и расслабление мышц – 2 минуты']]
2023-11-10 10:30:28,547 - INFO - Я выполнил упражнение
2023-11-10 10:30:29,262 - INFO - Пропустить отдых, 0, 1, [['Ходьба на месте – 3 минуты', ' Разминка шеи (круговые движения головой) – 1 минута', ' Круговые движения плечами – 20 раз в каждую сторону', ' Растяжка грудных мышц – 30 секунд в позиции'], ['Отжимания – 4 подхода по 12 повторений', ' Приседания без веса – 3 подхода по 15 повторений', ' Тяга гантелей в наклоне – 4 подхода по 10 повторений на каждую руку', ' Планка – 3 подхода по 30 секунд в позиции'], ['Потягивание в положении стоя – 1 минута', ' Растяжка квадрицепсов – по 30 секунд на каждую ногу', ' Растяжка икры – по 30 секунд на каждую ногу', ' Глубокое дыхание и расслабление мышц – 2 минуты']]
2023-11-10 10:30:30,083 - INFO - Я выполнил упражнение
2023-11-10 10:30:30,815 - INFO - Пропустить отдых, 1, 1, [['Ходьба на месте – 3 минуты', ' Разминка шеи (круговые движения головой) – 1 минута', ' Круговые движения плечами – 20 раз в каждую сторону', ' Растяжка грудных мышц – 30 секунд в позиции'], ['Отжимания – 4 подхода по 12 повторений', ' Приседания без веса – 3 подхода по 15 повторений', ' Тяга гантелей в наклоне – 4 подхода по 10 повторений на каждую руку', ' Планка – 3 подхода по 30 секунд в позиции'], ['Потягивание в положении стоя – 1 минута', ' Растяжка квадрицепсов – по 30 секунд на каждую ногу', ' Растяжка икры – по 30 секунд на каждую ногу', ' Глубокое дыхание и расслабление мышц – 2 минуты']]
2023-11-10 10:30:31,482 - INFO - Я выполнил упражнение
2023-11-10 10:30:32,173 - INFO - Пропустить отдых, 2, 1, [['Ходьба на месте – 3 минуты', ' Разминка шеи (круговые движения головой) – 1 минута', ' Круговые движения плечами – 20 раз в каждую сторону', ' Растяжка грудных мышц – 30 секунд в позиции'], ['Отжимания – 4 подхода по 12 повторений', ' Приседания без веса – 3 подхода по 15 повторений', ' Тяга гантелей в наклоне – 4 подхода по 10 повторений на каждую руку', ' Планка – 3 подхода по 30 секунд в позиции'], ['Потягивание в положении стоя – 1 минута', ' Растяжка квадрицепсов – по 30 секунд на каждую ногу', ' Растяжка икры – по 30 секунд на каждую ногу', ' Глубокое дыхание и расслабление мышц – 2 минуты']]
2023-11-10 10:30:32,931 - INFO - Я выполнил упражнение
2023-11-10 10:30:33,771 - INFO - Пропустить отдых, 3, 1, [['Ходьба на месте – 3 минуты', ' Разминка шеи (круговые движения головой) – 1 минута', ' Круговые движения плечами – 20 раз в каждую сторону', ' Растяжка грудных мышц – 30 секунд в позиции'], ['Отжимания – 4 подхода по 12 повторений', ' Приседания без веса – 3 подхода по 15 повторений', ' Тяга гантелей в наклоне – 4 подхода по 10 повторений на каждую руку', ' Планка – 3 подхода по 30 секунд в позиции'], ['Потягивание в положении стоя – 1 минута', ' Растяжка квадрицепсов – по 30 секунд на каждую ногу', ' Растяжка икры – по 30 секунд на каждую ногу', ' Глубокое дыхание и расслабление мышц – 2 минуты']]
2023-11-10 10:30:34,410 - INFO - Я выполнил упражнение
2023-11-10 10:30:35,202 - INFO - Пропустить отдых, 0, 2, [['Ходьба на месте – 3 минуты', ' Разминка шеи (круговые движения головой) – 1 минута', ' Круговые движения плечами – 20 раз в каждую сторону', ' Растяжка грудных мышц – 30 секунд в позиции'], ['Отжимания – 4 подхода по 12 повторений', ' Приседания без веса – 3 подхода по 15 повторений', ' Тяга гантелей в наклоне – 4 подхода по 10 повторений на каждую руку', ' Планка – 3 подхода по 30 секунд в позиции'], ['Потягивание в положении стоя – 1 минута', ' Растяжка квадрицепсов – по 30 секунд на каждую ногу', ' Растяжка икры – по 30 секунд на каждую ногу', ' Глубокое дыхание и расслабление мышц – 2 минуты']]
2023-11-10 10:30:36,022 - INFO - Я выполнил упражнение
2023-11-10 10:30:37,046 - INFO - Пропустить отдых, 1, 2, [['Ходьба на месте – 3 минуты', ' Разминка шеи (круговые движения головой) – 1 минута', ' Круговые движения плечами – 20 раз в каждую сторону', ' Растяжка грудных мышц – 30 секунд в позиции'], ['Отжимания – 4 подхода по 12 повторений', ' Приседания без веса – 3 подхода по 15 повторений', ' Тяга гантелей в наклоне – 4 подхода по 10 повторений на каждую руку', ' Планка – 3 подхода по 30 секунд в позиции'], ['Потягивание в положении стоя – 1 минута', ' Растяжка квадрицепсов – по 30 секунд на каждую ногу', ' Растяжка икры – по 30 секунд на каждую ногу', ' Глубокое дыхание и расслабление мышц – 2 минуты']]
2023-11-10 10:30:39,811 - INFO - Я выполнил упражнение
2023-11-10 10:30:40,733 - INFO - Пропустить отдых, 2, 2, [['Ходьба на месте – 3 минуты', ' Разминка шеи (круговые движения головой) – 1 минута', ' Круговые движения плечами – 20 раз в каждую сторону', ' Растяжка грудных мышц – 30 секунд в позиции'], ['Отжимания – 4 подхода по 12 повторений', ' Приседания без веса – 3 подхода по 15 повторений', ' Тяга гантелей в наклоне – 4 подхода по 10 повторений на каждую руку', ' Планка – 3 подхода по 30 секунд в позиции'], ['Потягивание в положении стоя – 1 минута', ' Растяжка квадрицепсов – по 30 секунд на каждую ногу', ' Растяжка икры – по 30 секунд на каждую ногу', ' Глубокое дыхание и расслабление мышц – 2 минуты']]
2023-11-10 10:30:41,655 - INFO - Я выполнил упражнение
2023-11-10 10:30:42,429 - INFO - Пропустить отдых, 3, 2, [['Ходьба на месте – 3 минуты', ' Разминка шеи (круговые движения головой) – 1 минута', ' Круговые движения плечами – 20 раз в каждую сторону', ' Растяжка грудных мышц – 30 секунд в позиции'], ['Отжимания – 4 подхода по 12 повторений', ' Приседания без веса – 3 подхода по 15 повторений', ' Тяга гантелей в наклоне – 4 подхода по 10 повторений на каждую руку', ' Планка – 3 подхода по 30 секунд в позиции'], ['Потягивание в положении стоя – 1 минута', ' Растяжка квадрицепсов – по 30 секунд на каждую ногу', ' Растяжка икры – по 30 секунд на каждую ногу', ' Глубокое дыхание и расслабление мышц – 2 минуты']]
2023-11-10 10:30:43,183 - INFO - Я выполнил упражнение
2023-11-10 10:30:44,071 - INFO - Пропустить отдых, 0, 3, [['Ходьба на месте – 3 минуты', ' Разминка шеи (круговые движения головой) – 1 минута', ' Круговые движения плечами – 20 раз в каждую сторону', ' Растяжка грудных мышц – 30 секунд в позиции'], ['Отжимания – 4 подхода по 12 повторений', ' Приседания без веса – 3 подхода по 15 повторений', ' Тяга гантелей в наклоне – 4 подхода по 10 повторений на каждую руку', ' Планка – 3 подхода по 30 секунд в позиции'], ['Потягивание в положении стоя – 1 минута', ' Растяжка квадрицепсов – по 30 секунд на каждую ногу', ' Растяжка икры – по 30 секунд на каждую ногу', ' Глубокое дыхание и расслабление мышц – 2 минуты']]
2023-11-10 10:31:32,884 - INFO - json prog: {
  "training": {
    "Разминка": [
      "Ходьба на месте – 3 минуты",
      "Разминка шеи (круговые движения головой) – 1 минута",
      "Круговые движения плечами – 20 раз в каждую сторону",
      "Растяжка грудных мышц – 30 секунд в позиции"
    ],
    "Основная часть": [
      "Отжимания – 4 подхода по 15 повторений",
      "Приседания без веса – 3 подхода по 20 повторений",
      "Выпады назад – 3 подхода по 12 повторений на каждую ногу",
      "Тяга гантелей в наклоне – 4 подхода по 12 повторений на каждую руку",
      "Планка – 3 подхода по 40 секунд в позиции"
    ],
    "Заминка": [
      "Потягивание в положении стоя – 1 минута",
      "Растяжка квадрицепсов – по 30 секунд на каждую ногу",
      "Растяжка икры – по 30 секунд на каждую ногу",
      "Глубокое дыхание и расслабление мышц – 2 минуты"
    ]
  }
}
2023-11-10 10:38:54,967 - ERROR - Infinity polling: polling exited
2023-11-10 10:38:54,970 - ERROR - Break infinity polling
2023-11-10 10:39:09,198 - INFO - У бота нет настроенных команд, устанавливаем их
2023-11-10 10:39:16,146 - ERROR - Infinity polling: polling exited
2023-11-10 10:39:16,147 - ERROR - Break infinity polling
2023-11-10 10:39:16,451 - INFO - У бота нет настроенных команд, устанавливаем их
2023-11-10 10:39:20,902 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-10 10:39:21,124 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 10:39:21,124 - INFO - Задаем system на промпт 1
2023-11-10 10:39:27,022 - INFO - Пользователь отправил текстоовое сообщение
2023-11-10 10:39:27,332 - INFO - Сообщение пользователя (user_id: 802693897): Егор, 17, лет, есть турник
2023-11-10 10:39:27,332 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-10 10:39:29,895 - INFO - Получили ответ GPT. Ответ: Какой уровень физической подготовки у тебя? Какая продолжительность одного занятия для тебя оптимальна? Есть ли у тебя какие-либо физические ограничения?
2023-11-10 10:39:29,895 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 478, prompt_1_output = 69
2023-11-10 10:39:29,895 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-10 10:39:36,390 - INFO - Ответ пользователя (check_form): 5, 50 минут, нет
2023-11-10 10:39:36,391 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 10:39:40,888 - INFO - Ответ от GPT получен. Ответ: Твоя анкета:
Имя: Егор
Пол: Мужской
Возраст: 17 лет
Уровень физической подготовки: 5
Продолжительность занятия: 50 минут
Физические ограничения: Нет
Наличие спортивного инвентаря: Турник
Пожелания по упражнениям: 

Проверь, пожалуйста, все ли верно в анкете. Если есть что-то, что нужно исправить или добавить, напиши об этом.
2023-11-10 10:39:40,888 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 1041, prompt_1_output = 228
2023-11-10 10:39:40,888 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 10:39:40,888 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-10 10:39:42,076 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-10 10:39:42,076 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-10 10:39:42,259 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-10 10:39:44,997 - INFO - json form {'profile': {'name': 'Егор', 'sex': 'мужской', 'age': 17, 'level': 5, 'duration': '50 минут', 'issues': 'нет', 'equipment': 'турник', 'wishes': ''}}
2023-11-10 10:39:45,000 - INFO - Получили форму пользователя (user_id: 802693897), форма: {
  "profile": {
    "name": "Егор",
    "sex": "мужской",
    "age": 17,
    "level": 5,
    "duration": "50 минут",
    "issues": "нет",
    "equipment": "турник",
    "wishes": ""
  }
}, передаем ее во 2 промпт
2023-11-10 10:39:45,000 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1_input = 1671, prompt_1_output = 302
2023-11-10 10:39:45,000 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-10 10:39:56,128 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки:

**Разминка (10 минут):**
1. Пробежка на месте - 3 минуты
2. Вращение руками - 20 раз в каждую сторону
3. Наклоны тела в стороны - 15 повторений на каждую сторону
4. Махи ногами вперед-назад - по 15 повторений для каждой ноги

**Основная часть (35 минут):**

*Силовые упражнения:*
1. Подтягивания на турнике - 4 подхода по 8 повторений
2. Отжимания от пола - 4 подхода по 15 повторений
3. Приседания - 4 подхода по 20 повторений
4. Планка - 3 подхода по 1 минуте в позиции

**Заминка (5 минут):**
1. Потягивания - 2 минуты
2. Растяжка грудных мышц - 1 минута
3. Растяжка бедер - по 1 минуте на каждую ногу
4. Дыхательные упражнения - 1 минута

Подходит ли тебе такая программа или хотел бы что-то изменить?
2023-11-10 10:39:56,129 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_2_input = 543, prompt_2_output = 351
2023-11-10 10:39:57,655 - INFO - from check_program Да
2023-11-10 10:39:57,853 - INFO - Сохраняем программу для пользователя 802693897
2023-11-10 10:40:06,095 - INFO - json prog: {
  "training": {
    "Разминка": [
      "Приседания без веса - 3 подхода по 15 повторений",
      "Бег на месте - 3 минуты",
      "Прыжки на месте - 3 подхода по 30 секунд",
      "Размахивание руками - 3 подхода по 20 раз каждой рукой"
    ],
    "Основная часть": [
      "Отжимания - 5 подходов по 20 повторений",
      "Подтягивания (если есть турник) - 4 подхода по 12 повторений",
      "Планка - 4 подхода по 1 минуте",
      "Берпи - 4 подхода по 15 повторений"
    ],
    "Заминка": [
      "Растяжка грудных мышц - 30 секунд на каждую сторону",
      "Растяжка бицепсов и предплечий - 30 секунд на каждую руку",
      "Растяжка квадрицепсов - 30 секунд на каждую ногу",
      "Поза ребенка - 1 минута"
    ]
  }
}
2023-11-10 10:40:14,375 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "Понедельник",
      "time": "10:00"
    }
  ]
}
2023-11-10 10:40:15,109 - INFO - Получаем упраженения из бд для пользователя 802693897
2023-11-10 10:40:15,109 - INFO - Получили упражнения пользователя, из количество - 3, упражнения - [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 10:40:16,124 - INFO - Я выполнил упражнение
2023-11-10 10:40:16,880 - INFO - Пропустить отдых, 1, 0, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 10:40:17,806 - INFO - Я выполнил упражнение
2023-11-10 10:40:18,890 - INFO - Пропустить отдых, 2, 0, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 10:40:19,686 - INFO - Я выполнил упражнение
2023-11-10 10:40:20,529 - INFO - Пропустить отдых, 3, 0, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 10:40:21,423 - INFO - Я выполнил упражнение
2023-11-10 10:40:22,271 - INFO - Пропустить отдых, 0, 1, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 10:40:23,192 - INFO - Я выполнил упражнение
2023-11-10 10:40:23,937 - INFO - Пропустить отдых, 1, 1, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 10:40:24,830 - INFO - Я выполнил упражнение
2023-11-10 10:40:25,707 - INFO - Пропустить отдых, 2, 1, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 10:40:26,554 - INFO - Я выполнил упражнение
2023-11-10 10:40:27,363 - INFO - Пропустить отдых, 3, 1, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 10:40:28,158 - INFO - Я выполнил упражнение
2023-11-10 10:40:29,028 - INFO - Пропустить отдых, 0, 2, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 10:40:29,815 - INFO - Я выполнил упражнение
2023-11-10 10:40:31,793 - INFO - Пропустить отдых, 1, 2, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 10:40:34,353 - INFO - Я выполнил упражнение
2023-11-10 10:40:35,480 - INFO - Пропустить отдых, 2, 2, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 10:40:36,367 - INFO - Я выполнил упражнение
2023-11-10 10:40:37,109 - INFO - Пропустить отдых, 3, 2, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 10:40:37,952 - INFO - Я выполнил упражнение
2023-11-10 10:40:39,157 - INFO - Пропустить отдых, 0, 3, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 10:40:59,474 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "Среда",
      "time": "15:00"
    }
  ]
}
2023-11-10 10:41:02,663 - ERROR - Infinity polling exception: unrecognized token: "", (user_id,)"
2023-11-10 10:41:02,666 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 533, in re_call_prompt
    BotDatabase.drop_user_program(message.from_user.id)
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 87, in drop_user_program
    self.cur.execute(f'UPDATE users SET `Разминка` = NULL WHERE user_id = ?", (user_id,)')
sqlite3.OperationalError: unrecognized token: "", (user_id,)"

2023-11-10 10:41:35,963 - ERROR - Infinity polling: polling exited
2023-11-10 10:41:35,964 - ERROR - Break infinity polling
2023-11-10 10:41:36,276 - INFO - У бота нет настроенных команд, устанавливаем их
2023-11-10 10:42:14,946 - INFO - json prog: {
  "training": {
    "Разминка": [
      "Приседания без веса - 2 подхода по 15 повторений",
      "Выпады на месте - 2 подхода по 10 повторений на каждую ногу",
      "Бег на месте - 2 минуты",
      "Размахивание руками - 2 подхода по 15 раз каждой рукой"
    ],
    "Основная часть": [
      "Отжимания - 4 подхода по 10 повторений",
      "Подтягивания - 3 подхода по 8 повторений",
      "Планка - 3 подхода по 45 секунд",
      "Приседания с прыжком - 3 подхода по 15 повторений",
      "Выпады вперёд - 3 подхода по 12 повторений на каждую ногу"
    ],
    "Заминка": [
      "Растяжка грудных мышц - 30 секунд на каждую сторону",
      "Растяжка бицепсов и предплечий - 30 секунд на каждую руку",
      "Растяжка квадрицепсов - 30 секунд на каждую ногу",
      "Поза ребенка - 1 минута"
    ]
  }
}
2023-11-10 10:43:32,875 - ERROR - Infinity polling: polling exited
2023-11-10 10:43:32,875 - ERROR - Break infinity polling
2023-11-10 10:43:39,833 - INFO - У бота нет настроенных команд, устанавливаем их
2023-11-10 10:43:43,442 - ERROR - Infinity polling exception: 'NoneType' object is not subscriptable
2023-11-10 10:43:43,442 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 6801, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 416, in start_sport
    exercises = BotDatabase.get_user_program(message.from_user.id)
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 66, in get_user_program
    exercises.append(result.fetchone()[0].split(','))
TypeError: 'NoneType' object is not subscriptable

2023-11-10 10:44:09,769 - ERROR - Infinity polling exception: 'NoneType' object is not iterable
2023-11-10 10:44:09,769 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 6801, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 481, in schedule
    get_schedule = BotDatabase.get_user_schedule(message.from_user.id)
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 72, in get_user_schedule
    for elem in res.fetchone():
TypeError: 'NoneType' object is not iterable

2023-11-10 10:44:18,368 - ERROR - Infinity polling exception: 'NoneType' object is not subscriptable
2023-11-10 10:44:18,368 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 6801, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 508, in edit_prog
    program = BotDatabase.get_user_program(message.from_user.id)
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 66, in get_user_program
    exercises.append(result.fetchone()[0].split(','))
TypeError: 'NoneType' object is not subscriptable

2023-11-10 10:46:57,038 - ERROR - Infinity polling: polling exited
2023-11-10 10:46:57,038 - ERROR - Break infinity polling
2023-11-10 10:47:08,516 - INFO - У бота нет настроенных команд, устанавливаем их
2023-11-10 10:47:10,895 - ERROR - Infinity polling exception: object of type 'NoneType' has no len()
2023-11-10 10:47:10,896 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 6801, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 416, in start_sport
    exercises = BotDatabase.get_user_program(message.from_user.id)
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 66, in get_user_program
    if len(result.fetchone()) == 0:
TypeError: object of type 'NoneType' has no len()

2023-11-10 10:47:46,724 - ERROR - Infinity polling: polling exited
2023-11-10 10:47:46,724 - ERROR - Break infinity polling
2023-11-10 10:47:47,031 - INFO - У бота нет настроенных команд, устанавливаем их
2023-11-10 10:47:47,871 - ERROR - Infinity polling exception: 'NoneType' object is not subscriptable
2023-11-10 10:47:47,872 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 6801, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 416, in start_sport
    exercises = BotDatabase.get_user_program(message.from_user.id)
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 68, in get_user_program
    exercises.append(result.fetchone()[0].split(','))
TypeError: 'NoneType' object is not subscriptable

2023-11-10 10:48:13,258 - ERROR - Infinity polling: polling exited
2023-11-10 10:48:13,258 - ERROR - Break infinity polling
2023-11-10 10:48:13,773 - INFO - У бота нет настроенных команд, устанавливаем их
2023-11-10 10:48:51,256 - ERROR - Infinity polling exception: 'NoneType' object is not subscriptable
2023-11-10 10:48:51,256 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 6801, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 416, in start_sport
    exercises = BotDatabase.get_user_program(message.from_user.id)
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 69, in get_user_program
    exercises.append(result.fetchone()[0].split(','))
TypeError: 'NoneType' object is not subscriptable

2023-11-10 10:48:54,263 - ERROR - Infinity polling exception: 'NoneType' object is not subscriptable
2023-11-10 10:48:54,265 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 6801, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 416, in start_sport
    exercises = BotDatabase.get_user_program(message.from_user.id)
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 69, in get_user_program
    exercises.append(result.fetchone()[0].split(','))
TypeError: 'NoneType' object is not subscriptable

2023-11-10 10:48:57,269 - ERROR - Infinity polling exception: 'NoneType' object is not subscriptable
2023-11-10 10:48:57,272 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 6801, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 416, in start_sport
    exercises = BotDatabase.get_user_program(message.from_user.id)
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 69, in get_user_program
    exercises.append(result.fetchone()[0].split(','))
TypeError: 'NoneType' object is not subscriptable

2023-11-10 10:49:12,624 - ERROR - Infinity polling: polling exited
2023-11-10 10:49:12,625 - ERROR - Break infinity polling
2023-11-10 10:49:13,058 - INFO - У бота нет настроенных команд, устанавливаем их
2023-11-10 10:49:14,465 - ERROR - Infinity polling exception: 'NoneType' object is not subscriptable
2023-11-10 10:49:14,466 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 6801, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 416, in start_sport
    exercises = BotDatabase.get_user_program(message.from_user.id)
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 69, in get_user_program
    exercises.append(result.fetchone()[0].split(','))
TypeError: 'NoneType' object is not subscriptable

2023-11-10 10:49:40,242 - ERROR - Infinity polling: polling exited
2023-11-10 10:49:40,243 - ERROR - Break infinity polling
2023-11-10 10:49:40,557 - INFO - У бота нет настроенных команд, устанавливаем их
2023-11-10 10:49:41,498 - ERROR - Infinity polling exception: 'NoneType' object is not subscriptable
2023-11-10 10:49:41,498 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 6801, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 416, in start_sport
    exercises = BotDatabase.get_user_program(message.from_user.id)
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 70, in get_user_program
    exercises.append(result.fetchone()[0].split(','))
TypeError: 'NoneType' object is not subscriptable

2023-11-10 10:51:08,199 - ERROR - Infinity polling: polling exited
2023-11-10 10:51:08,200 - ERROR - Break infinity polling
2023-11-10 10:51:08,562 - INFO - У бота нет настроенных команд, устанавливаем их
2023-11-10 10:51:10,383 - ERROR - Infinity polling exception: local variable 'exercises' referenced before assignment
2023-11-10 10:51:10,383 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 6801, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 419, in start_sport
    count_exercises = len(exercises)
UnboundLocalError: local variable 'exercises' referenced before assignment

2023-11-10 10:51:19,054 - ERROR - Infinity polling: polling exited
2023-11-10 10:51:19,054 - ERROR - Break infinity polling
2023-11-10 10:51:19,587 - INFO - У бота нет настроенных команд, устанавливаем их
2023-11-10 10:51:20,534 - ERROR - Infinity polling exception: local variable 'count_exercises' referenced before assignment
2023-11-10 10:51:20,535 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 6801, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 420, in start_sport
    if count_exercises == 0:
UnboundLocalError: local variable 'count_exercises' referenced before assignment

2023-11-10 10:51:40,827 - ERROR - Infinity polling: polling exited
2023-11-10 10:51:40,827 - ERROR - Break infinity polling
2023-11-10 10:51:41,144 - INFO - У бота нет настроенных команд, устанавливаем их
2023-11-10 10:51:43,244 - INFO - Получаем упраженения из бд для пользователя 802693897
2023-11-10 10:51:43,251 - ERROR - Infinity polling exception: local variable 'exercises' referenced before assignment
2023-11-10 10:51:43,252 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 6801, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 429, in start_sport
    logging.info(f"Получили упражнения пользователя, из количество - {count_exercises}, упражнения - {exercises}")
UnboundLocalError: local variable 'exercises' referenced before assignment

2023-11-10 10:52:21,038 - INFO - Получаем упраженения из бд для пользователя 802693897
2023-11-10 10:52:21,040 - ERROR - Infinity polling exception: local variable 'exercises' referenced before assignment
2023-11-10 10:52:21,041 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 6801, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 429, in start_sport
    logging.info(f"Получили упражнения пользователя, из количество - {count_exercises}, упражнения - {exercises}")
UnboundLocalError: local variable 'exercises' referenced before assignment

2023-11-10 10:52:21,727 - INFO - У бота нет настроенных команд, устанавливаем их
2023-11-10 10:52:23,759 - INFO - Получаем упраженения из бд для пользователя 802693897
2023-11-10 10:52:23,766 - ERROR - Infinity polling exception: local variable 'exercises' referenced before assignment
2023-11-10 10:52:23,766 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 6801, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 429, in start_sport
    logging.info(f"Получили упражнения пользователя, из количество - {count_exercises}, упражнения - {exercises}")
UnboundLocalError: local variable 'exercises' referenced before assignment

2023-11-10 10:52:40,443 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-10 10:52:40,949 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 10:52:40,949 - INFO - Задаем system на промпт 1
2023-11-10 10:53:15,364 - ERROR - Infinity polling: polling exited
2023-11-10 10:53:15,364 - ERROR - Break infinity polling
2023-11-10 10:53:15,942 - INFO - У бота нет настроенных команд, устанавливаем их
2023-11-10 10:53:46,748 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "Понедельник",
      "time": "10:00"
    }
  ]
}
2023-11-10 10:53:50,619 - ERROR - Infinity polling exception: 'NoneType' object has no attribute 'split'
2023-11-10 10:53:50,620 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 6801, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 512, in edit_prog
    program = BotDatabase.get_user_program(message.from_user.id)
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 66, in get_user_program
    exercises.append(result.fetchone()[0].split(','))
AttributeError: 'NoneType' object has no attribute 'split'

2023-11-10 10:54:28,234 - ERROR - Infinity polling: polling exited
2023-11-10 10:54:28,235 - ERROR - Break infinity polling
2023-11-10 10:54:28,551 - INFO - У бота нет настроенных команд, устанавливаем их
2023-11-10 10:54:34,225 - ERROR - Infinity polling: polling exited
2023-11-10 10:54:34,225 - ERROR - Break infinity polling
2023-11-10 16:48:54,519 - INFO - У бота нет настроенных команд, устанавливаем их
2023-11-10 16:49:50,996 - INFO - Новый пользователь с user_id: 940032081, добавляем его в базу данных и начинаем диалог
2023-11-10 16:49:51,401 - INFO - Для пользователя user_id: 940032081 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 16:49:51,402 - INFO - Задаем system на промпт 1
2023-11-10 16:50:01,230 - INFO - Пользователь отправил голосовое сообщение. Вызываем whisper и конвертируем в текст
2023-11-10 16:50:01,632 - INFO - Получили голосовое сообщение от пользователя (user_id: 940032081),  file_info: {'file_id': 'AwACAgIAAxkBAAIS_mVONQmxWpESmPopvVa04G2YaVDBAALyOAACj6dwSjOYwpoUuT6YMwQ', 'file_unique_id': 'AgAD8jgAAo-ncEo', 'file_size': 27426, 'file_path': 'voice/file_142.oga'}, передаем полученный файл в whisper
2023-11-10 16:50:01,634 - INFO - Записваем полученное голосовое сообщение
2023-11-10 16:50:01,634 - INFO - Голосовое успешно записано
2023-11-10 16:50:03,896 - INFO - Получили распознанный текст из голосового сообщения пользователя с user_id: 940032081, сообщение: Привет, меня зовут Артём, мне 17 лет, у меня есть турник и клюшка для гольфа.
2023-11-10 16:50:03,896 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 940032081)
2023-11-10 16:50:06,664 - INFO - Получили ответ от GPT. Ответ: Как ты оцениваешь свой уровень физической подготовки по шкале от 1 до 10? Какая продолжительность одного занятия для тебя оптимальна?
2023-11-10 16:50:06,664 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 504, prompt_1_output = 60
2023-11-10 16:50:06,664 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-10 16:50:31,792 - INFO - Ответ пользователя (check_form): 7, 30 минут
2023-11-10 16:50:31,794 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 16:50:34,000 - INFO - Ответ от GPT получен. Ответ: Есть ли у тебя какие-либо физические ограничения? Какие упражнения ты бы хотел включить в свою тренировку?
2023-11-10 16:50:34,000 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 1082, prompt_1_output = 112
2023-11-10 16:50:34,001 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 16:50:34,001 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 16:50:45,365 - INFO - Ответ пользователя (check_form): Нету, нет
2023-11-10 16:50:45,366 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 16:50:47,781 - INFO - Ответ от GPT получен. Ответ: Есть ли у тебя какие-либо физические ограничения? Какие упражнения ты бы хотел включить в свою программу тренировок?
2023-11-10 16:50:47,781 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 1669, prompt_1_output = 166
2023-11-10 16:50:47,781 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 16:50:47,782 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 16:53:08,428 - ERROR - Infinity polling: polling exited
2023-11-10 16:53:08,428 - ERROR - Break infinity polling
2023-11-10 16:55:13,901 - INFO - У бота нет настроенных команд, устанавливаем их
2023-11-10 16:55:59,016 - INFO - Новый пользователь с user_id: 940032081, добавляем его в базу данных и начинаем диалог
2023-11-10 16:55:59,370 - INFO - Для пользователя user_id: 940032081 нет контекста. Создаем контекст и счетчик токенов
2023-11-10 16:55:59,370 - INFO - Задаем system на промпт 1
2023-11-10 16:56:12,223 - INFO - Пользователь отправил голосовое сообщение. Вызываем whisper и конвертируем в текст
2023-11-10 16:56:12,862 - INFO - Получили голосовое сообщение от пользователя (user_id: 940032081),  file_info: {'file_id': 'AwACAgIAAxkBAAITB2VONnx8k2Ce_aHOcSJ-zqVNHHWnAALyOAACj6dwSjOYwpoUuT6YMwQ', 'file_unique_id': 'AgAD8jgAAo-ncEo', 'file_size': 27426, 'file_path': 'voice/file_142.oga'}, передаем полученный файл в whisper
2023-11-10 16:56:12,863 - INFO - Записваем полученное голосовое сообщение
2023-11-10 16:56:12,864 - INFO - Голосовое успешно записано
2023-11-10 16:56:14,116 - INFO - Получили распознанный текст из голосового сообщения пользователя с user_id: 940032081, сообщение: Привет, меня зовут Артём, мне 17 лет, у меня есть турник и клюшка для гольфа.
2023-11-10 16:56:14,116 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 940032081)
2023-11-10 16:56:16,530 - INFO - Получили ответ от GPT. Ответ: Как ты оцениваешь свой уровень физической подготовки по шкале от 1 до 10? Какая продолжительность одного занятия для тебя оптимальна?
2023-11-10 16:56:16,530 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 504, prompt_1_output = 60
2023-11-10 16:56:16,530 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-10 16:56:24,205 - INFO - Ответ пользователя (check_form): 7, 30 минут
2023-11-10 16:56:24,206 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 16:56:26,355 - INFO - Ответ от GPT получен. Ответ: Есть ли у тебя физические ограничения? Какие упражнения ты хотел бы включить в свою тренировку?
2023-11-10 16:56:26,355 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 1082, prompt_1_output = 106
2023-11-10 16:56:26,356 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 16:56:26,356 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 16:57:33,018 - INFO - Ответ пользователя (check_form): Нет ограничений, нет таких
2023-11-10 16:57:33,021 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 16:57:36,397 - INFO - Ответ от GPT получен. Ответ: Есть ли у тебя какие-то пожелания по упражнениям, которые ты хотел бы включить в свою программу тренировок?
2023-11-10 16:57:36,398 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 1676, prompt_1_output = 152
2023-11-10 16:57:36,398 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 16:57:36,398 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-10 16:57:50,132 - INFO - Ответ пользователя (check_form): Нет таких упражнений
2023-11-10 16:57:50,133 - INFO - Добавляем ответ пользователя в контекст
2023-11-10 16:57:59,743 - INFO - Ответ от GPT получен. Ответ: Твоя анкета:
- Имя: Артём
- Пол: мужской
- Возраст: 17 лет
- Уровень физической подготовки: 7
- Продолжительность занятия: 30 минут
- Физические ограничения: отсутствуют
- Наличие спортивного инвентаря: турник, клюшка для гольфа
- Пожелания по упражнениям: нет специфических пожеланий

Всё ли верно? Если что-то не так, напиши, пожалуйста, что нужно исправить.
2023-11-10 16:57:59,743 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 2284, prompt_1_output = 335
2023-11-10 16:57:59,743 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-10 16:57:59,744 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-10 16:58:18,220 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-10 16:58:18,220 - INFO - Пользователь (user_id: 940032081) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-10 16:58:18,396 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-10 16:58:21,808 - INFO - json form {'profile': {'name': 'Артём', 'sex': 'мужской', 'age': 17, 'level': 7, 'duration': '30 минут', 'issues': 'нет ограничений', 'equipment': 'турник, клюшка для гольфа', 'wishes': 'нет таких упражнений'}}
2023-11-10 16:58:21,811 - INFO - Получили форму пользователя (user_id: 940032081), форма: {
  "profile": {
    "name": "Артём",
    "sex": "мужской",
    "age": 17,
    "level": 7,
    "duration": "30 минут",
    "issues": "нет ограничений",
    "equipment": "турник, клюшка для гольфа",
    "wishes": "нет таких упражнений"
  }
}, передаем ее во 2 промпт
2023-11-10 16:58:21,811 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1_input = 2959, prompt_1_output = 438
2023-11-10 16:58:21,811 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-10 16:58:39,067 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки выглядит следующим образом:

**Разминка (5-10 минут):**
1. Приседания без веса – 2 подхода по 15 повторений.
2. Выпады на месте – 2 подхода по 10 повторений на каждую ногу.
3. Отжимания от пола – 2 подхода по 12 повторений.
4. Подтягивания на турнике (если это возможно) – 1 подход на максимальное количество раз (не более 10).

**Основная часть (15-20 минут):**
1. Подтягивания на турнике – 3 подхода по 8 повторений.
2. Отжимания от пола с узкой постановкой рук – 3 подхода по 10 повторений.
3. Приседания с клюшкой для гольфа за головой (для дополнительного баланса) – 3 подхода по 15 повторений.
4. Подъемы коленей в висе на турнике – 3 подхода по 12 повторений.

**Заминка (5 минут):**
1. Растяжка грудных мышц – 2 подхода по 30 секунд.
2. Растяжка бицепсов с помощью клюшки для гольфа – 2 подхода по 30 секунд на каждую руку.
3. Поза "кошка-корова" для растяжки спины – 2 подхода по 30 секунд.
4. Растяжка квадрицепсов стоя, захватив стопу рукой – 2 подхода по 30 секунд на каждую ногу.

Подходит ли тебе эта программа или есть что-то, что ты хотел бы изменить?
2023-11-10 16:58:39,068 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_2_input = 572, prompt_2_output = 509
2023-11-10 16:58:43,707 - INFO - from check_program Да
2023-11-10 16:58:43,906 - INFO - Сохраняем программу для пользователя 940032081
2023-11-10 16:58:51,674 - INFO - json prog: {
  "training": {
    "Разминка": [
      "Приседания без веса - 3 подхода по 15 повторений",
      "Бег на месте - 3 минуты",
      "Прыжки на месте - 3 подхода по 30 секунд",
      "Размахивание руками - 3 подхода по 20 раз каждой рукой"
    ],
    "Основная часть": [
      "Отжимания - 5 подходов по 20 повторений",
      "Подтягивания (если есть турник) - 4 подхода по 12 повторений",
      "Планка - 4 подхода по 1 минуте",
      "Берпи - 4 подхода по 15 повторений"
    ],
    "Заминка": [
      "Растяжка грудных мышц - 30 секунд на каждую сторону",
      "Растяжка бицепсов и предплечий - 30 секунд на каждую руку",
      "Растяжка квадрицепсов - 30 секунд на каждую ногу",
      "Поза ребенка - 1 минута"
    ]
  }
}
2023-11-10 16:59:29,139 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "Понедельник",
      "time": "15:34"
    },
    {
      "dayOfWeek": "Воскресенье",
      "time": "14:30"
    }
  ]
}
2023-11-10 16:59:41,772 - INFO - Получаем упраженения из бд для пользователя 940032081
2023-11-10 16:59:41,772 - INFO - Получили упражнения пользователя, из количество - 3, упражнения - [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 16:59:45,113 - INFO - Я выполнил упражнение
2023-11-10 16:59:46,650 - INFO - Пропустить отдых, 1, 0, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 16:59:47,878 - INFO - Я выполнил упражнение
2023-11-10 16:59:49,414 - INFO - Пропустить отдых, 2, 0, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 16:59:52,185 - INFO - Я выполнил упражнение
2023-11-10 16:59:53,828 - INFO - Пропустить отдых, 3, 0, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 16:59:59,245 - INFO - Я выполнил упражнение
2023-11-10 17:00:01,456 - INFO - Пропустить отдых, 0, 1, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 17:00:18,630 - INFO - Я выполнил упражнение
2023-11-10 17:00:22,899 - INFO - Пропустить отдых, 1, 1, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 17:00:35,165 - INFO - Я выполнил упражнение
2023-11-10 17:00:38,257 - INFO - Пропустить отдых, 2, 1, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 17:00:40,721 - INFO - Я выполнил упражнение
2023-11-10 17:00:43,480 - INFO - Пропустить отдых, 3, 1, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 17:00:45,630 - INFO - Я выполнил упражнение
2023-11-10 17:00:48,089 - INFO - Пропустить отдых, 0, 2, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 17:00:51,161 - INFO - Я выполнил упражнение
2023-11-10 17:00:52,697 - INFO - Пропустить отдых, 1, 2, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 17:00:54,720 - INFO - Я выполнил упражнение
2023-11-10 17:00:55,783 - INFO - Пропустить отдых, 2, 2, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 17:00:56,843 - INFO - Я выполнил упражнение
2023-11-10 17:00:58,108 - INFO - Пропустить отдых, 3, 2, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 17:01:00,683 - INFO - Я выполнил упражнение
2023-11-10 17:01:02,221 - INFO - Пропустить отдых, 0, 3, [['Приседания без веса - 3 подхода по 15 повторений', ' Бег на месте - 3 минуты', ' Прыжки на месте - 3 подхода по 30 секунд', ' Размахивание руками - 3 подхода по 20 раз каждой рукой'], ['Отжимания - 5 подходов по 20 повторений', ' Подтягивания (если есть турник) - 4 подхода по 12 повторений', ' Планка - 4 подхода по 1 минуте', ' Берпи - 4 подхода по 15 повторений'], ['Растяжка грудных мышц - 30 секунд на каждую сторону', ' Растяжка бицепсов и предплечий - 30 секунд на каждую руку', ' Растяжка квадрицепсов - 30 секунд на каждую ногу', ' Поза ребенка - 1 минута']]
2023-11-10 17:04:19,733 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "Суббота",
      "time": "14:30"
    },
    {
      "dayOfWeek": "Воскресенье",
      "time": "18:00"
    }
  ]
}
2023-11-10 17:13:51,674 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=25)
2023-11-10 17:13:51,675 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 537, in _make_request
    response = conn.getresponse()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 461, in getresponse
    httplib_response = super().getresponse()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/http/client.py", line 1374, in getresponse
    response.begin()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/http/client.py", line 318, in begin
    version, status, reason = self._read_status()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/http/client.py", line 279, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 705, in readinto
    return self._sock.recv_into(b)
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/ssl.py", line 1274, in recv_into
    return self.read(nbytes, buffer)
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/ssl.py", line 1130, in read
    return self._sslobj.read(len, buffer)
TimeoutError: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 470, in increment
    raise reraise(type(error), error, _stacktrace)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/util.py", line 39, in reraise
    raise value
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 539, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 371, in _raise_timeout
    raise ReadTimeoutError(
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=25)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 532, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=25)

2023-11-10 17:13:54,692 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592224298&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x107663e20>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-10 17:13:54,693 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x107663e20>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592224298&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x107663e20>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592224298&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x107663e20>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

