2023-11-09 02:02:30,205 - INFO - Пользователь с user_id: 802693897 уже существует
2023-11-09 02:02:37,750 - INFO - Пользователь с user_id: 802693897 уже существует
2023-11-09 02:03:48,807 - ERROR - Infinity polling: polling exited
2023-11-09 02:03:48,807 - ERROR - Break infinity polling
2023-11-09 02:05:21,462 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-09 02:05:21,683 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 02:05:21,683 - INFO - Задаем system на промпт 1
2023-11-09 02:05:30,259 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 02:05:30,502 - INFO - Сообщение пользователя (user_id: 802693897): Я Егор, мне 17, хочу отжимания, инвентаря нет, болит колено, хочу тратить 40 минут в день, уровень физической подготовки 10
2023-11-09 02:05:30,502 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-09 02:05:31,769 - INFO - error_code=insufficient_quota error_message='You exceeded your current quota, please check your plan and billing details.' error_param=None error_type=insufficient_quota message='OpenAI API error received' stream_error=False
2023-11-09 02:05:31,771 - ERROR - Infinity polling exception: You exceeded your current quota, please check your plan and billing details.
2023-11-09 02:05:31,773 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 124, in get_info
    form_completion = openai.ChatCompletion.create(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/chat_completion.py", line 25, in create
    return super().create(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/abstract/engine_api_resource.py", line 155, in create
    response, _, api_key = requestor.request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 299, in request
    resp, got_stream = self._interpret_response(result, stream)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 710, in _interpret_response
    self._interpret_response_line(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 775, in _interpret_response_line
    raise self.handle_error_response(
openai.error.RateLimitError: You exceeded your current quota, please check your plan and billing details.

2023-11-09 02:05:49,517 - ERROR - Infinity polling: polling exited
2023-11-09 02:05:49,517 - ERROR - Break infinity polling
2023-11-09 02:06:06,395 - INFO - Пользователь с user_id: 802693897 уже существует
2023-11-09 02:06:12,619 - INFO - Пользователь с user_id: 802693897 уже существует
2023-11-09 02:06:41,822 - ERROR - Infinity polling: polling exited
2023-11-09 02:06:41,822 - ERROR - Break infinity polling
2023-11-09 02:06:51,766 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-09 02:06:52,010 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 02:06:52,010 - INFO - Задаем system на промпт 1
2023-11-09 02:06:56,428 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 02:06:56,594 - INFO - Сообщение пользователя (user_id: 802693897): Я Егор, мне 17, хочу отжимания, инвентаря нет, болит колено, хочу тратить 40 минут в день, уровень физической подготовки 10
2023-11-09 02:06:56,595 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-09 02:07:01,104 - INFO - Получили ответ GPT. Ответ: Твоя анкета:
- Имя: Егор
- Возраст: 17 лет
- Пол: Мужской
- Уровень физической подготовки: 10/10
- Длительность занятия: 40 минут
- Физические ограничения: Болит колено
- Наличие спортивного инвентаря: Нет
- Пожелания по упражнениям: Хочу отжимания

Все верно? Если нужно что-то исправить или добавить, пожалуйста, скажи.
2023-11-09 02:07:01,104 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 590
2023-11-09 02:07:01,104 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-09 02:07:52,832 - INFO - Ответ пользователя (check_form): да, все верно
2023-11-09 02:07:52,833 - INFO - Добавляем ответ пользователя в контекст
2023-11-09 02:07:57,523 - INFO - Ответ от GPT получен. Ответ: Отлично! Спасибо за заполнение анкеты. Теперь у меня есть все необходимые данные. Если у тебя возникнут еще какие-либо вопросы или пожелания, не стесняйся обращаться. Удачных тренировок!
2023-11-09 02:07:57,524 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 1274
2023-11-09 02:07:57,524 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-09 02:07:57,524 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-09 02:08:21,679 - ERROR - Infinity polling: polling exited
2023-11-09 02:08:21,680 - ERROR - Break infinity polling
2023-11-09 02:10:56,498 - ERROR - Infinity polling: polling exited
2023-11-09 02:10:56,499 - ERROR - Break infinity polling
2023-11-09 02:11:06,577 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-09 02:11:06,844 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 02:11:06,845 - INFO - Задаем system на промпт 1
2023-11-09 02:11:11,991 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 02:11:12,092 - INFO - Сообщение пользователя (user_id: 802693897): Я Егор, мне 17, хочу отжимания, инвентаря нет, болит колено, хочу тратить 40 минут в день, уровень физической подготовки 10
2023-11-09 02:11:12,093 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-09 02:13:02,813 - ERROR - Infinity polling: polling exited
2023-11-09 02:13:02,814 - ERROR - Break infinity polling
2023-11-09 02:13:11,342 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-09 02:13:11,563 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 02:13:11,564 - INFO - Задаем system на промпт 1
2023-11-09 02:13:13,607 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 02:13:13,861 - INFO - Сообщение пользователя (user_id: 802693897): Я Егор, мне 17, хочу отжимания, инвентаря нет, болит колено, хочу тратить 40 минут в день, уровень физической подготовки 10
2023-11-09 02:13:13,861 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-09 02:13:17,243 - INFO - Получили ответ GPT. Ответ: Привет, Егор! Спасибо за заполнение анкеты. У тебя очень хороший уровень физической подготовки! Какая продолжительность одного занятия для тебя оптимальна? И есть ли у тебя еще какие-то пожелания по упражнениям?
2023-11-09 02:13:17,243 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 623
2023-11-09 02:13:17,243 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-09 02:13:44,015 - INFO - Ответ пользователя (check_form): я же написал, 40 минут в день, хочу только отжимания и ничего больше
2023-11-09 02:13:44,015 - INFO - Добавляем ответ пользователя в контекст
2023-11-09 02:13:47,835 - INFO - Ответ от GPT получен. Ответ: Извини, я пропустил эту информацию. Спасибо за уточнение. Вот твоя анкета:

Имя: Егор
Пол: Мужской
Возраст: 17 лет
Уровень физической подготовки: 10/10
Продолжительность занятия: 40 минут в день
Физические ограничения: Болит колено
Наличие спортивного инвентаря: Отсутствует
Пожелания по упражнениям: Только отжимания

Проверь, пожалуйста, все ли верно в анкете. Если есть что-то, что нужно исправить или добавить, напиши об этом.
2023-11-09 02:13:47,836 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 1492
2023-11-09 02:13:47,836 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-09 02:13:47,836 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-09 02:13:57,515 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-09 02:13:57,515 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-09 02:13:57,620 - INFO - Перед составлением программы, получаем заполненую форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-09 02:14:01,160 - INFO - Получили форму пользователя (user_id: 802693897), форма: Твоя анкета:
Имя: Егор
Пол: Мужской
Возраст: 17 лет
Уровень физической подготовки: 10/10
Продолжительность занятия: 40 минут в день
Физические ограничения: Болит колено
Наличие спортивного инвентаря: Отсутствует
Пожелания по упражнениям: Только отжимания

Все верно? Если есть что-то, что нужно исправить, пожалуйста, напиши., передаем ее во 2 промпт
2023-11-09 02:14:01,160 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 2325
2023-11-09 02:14:01,160 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-09 02:14:21,729 - INFO - Ответ от GPT получен, программа готова: *Разминка:*

*1. Прогулка на месте: (3 минуты) {Ходи на месте, постепенно увеличивая темп и поднимая колени выше, активно размахивай руками}*

*2. Разминка плеч: (2 подхода, 30 секунд) {Выполняй круговые движения плечами, сначала вперед, затем назад}*

*3. Боковые наклоны: (2 подхода, 15 повторений) {Стоя прямо, руки в стороны, делай плавные наклоны влево и вправо, не наклоняйся вперед}*

*Основная часть:*

*1. Отжимания на коленях: (4 подхода, 15 повторений) {Прими упор лежа, колени на полу, корпус прямой, руки на ширине плеч. Опускай торс вниз, сгибая руки в локтях, затем поднимайся обратно} {с осторожностью из-за боли в колене, используй мягкую подложку под колени}*

*2. Отжимания с узкой постановкой рук: (3 подхода, 12 повторений) {То же, что и обычные отжимания, но руки ставь ближе друг к другу, чтобы акцентировать нагрузку на трицепсы}*

*3. Отжимания с широкой постановкой рук: (3 подхода, 12 повторений) {Руки ставь шире плеч, чтобы больше нагрузить грудные мышцы}*

*Заминка:*

*1. Растяжка грудных мышц: (2 подхода, 30 секунд) {Стоя у дверного проема, руки на уровне плеч, опирайся ладонями о стойки и мягко наклоняйся вперед}*

*2. Растяжка трицепсов: (2 подхода, 30 секунд на каждую руку) {Подними одну руку вверх, согни в локте и попытайся достать лопатку, другой рукой аккуратно нажимай на локоть}*

*3. Растяжка спины: (2 подхода, 30 секунд) {Стоя, наклонись вперед, пытаясь коснуться руками пола, не сгибая колени} {с осторожностью из-за боли в колене}*

Тебе подходит эта программа или есть что-то, что ты бы хотел изменить?
2023-11-09 02:14:21,730 - INFO - Считаем текущие токены пользователя (user_id: 802693897): итого prompt_2=1556
2023-11-09 02:14:34,485 - INFO - from check_program Да
2023-11-09 02:14:34,612 - INFO - Сохраняем программу для пользователя 802693897
2023-11-09 02:14:43,994 - INFO - программа Привет, Егор! Основываясь на твоей анкете, я составил для тебя индивидуальную программу тренировок дома. Учти, что тренировка начинается с разминки, затем идет основная часть (силовая), а в конце - заминка. 

Разминка:
*1. Прогулка на месте: (5 минут) {Постепенно увеличивай темп, поднимай колени выше, размахивай руками}*

Основная часть (силовая):
*2. Отжимания: (3 подхода, 10 повторений) {Ляг на пол, положи ладони на ширине плеч, вытяни ноги, согни локти и опусти грудь к полу, затем вернись в исходное положение}* 

Заминка:
*3. Растяжка ног: (2 подхода, по 30 секунд на каждую ногу) {Сядь на пол, вытяни одну ногу вперед, наклонись вперед и постарайся дотянуться до носка, удерживай позицию}* 

Это предварительная программа тренировок для тебя, учитывая твои пожелания и физические ограничения. Если что-то не подходит или ты хочешь что-то изменить, дай мне знать.
2023-11-09 02:16:47,235 - ERROR - Infinity polling exception: 'dict' object has no attribute 'append'
2023-11-09 02:16:47,240 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 281, in set_user_schedule
    context_messages_schedule[message.from_user.id].append({"role": "user", "content": user_answer})
AttributeError: 'dict' object has no attribute 'append'

2023-11-09 02:17:07,552 - ERROR - Infinity polling: polling exited
2023-11-09 02:17:07,552 - ERROR - Break infinity polling
2023-11-09 02:18:07,810 - ERROR - Infinity polling: polling exited
2023-11-09 02:18:07,811 - ERROR - Break infinity polling
2023-11-09 02:18:14,926 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-09 02:18:15,160 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 02:18:15,160 - INFO - Задаем system на промпт 1
2023-11-09 02:18:20,837 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 02:18:21,113 - INFO - Сообщение пользователя (user_id: 802693897): Я Егор, мне 17, хочу отжимания, инвентаря нет, болит колено, хочу тратить 40 минут в день, уровень физической подготовки 10
2023-11-09 02:18:21,113 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-09 02:18:25,407 - INFO - Получили ответ GPT. Ответ: Твоя анкета:
Имя: Егор
Возраст: 17 лет
Пол: Мужской
Уровень физической подготовки: 10/10
Продолжительность занятия: 40 минут
Физические ограничения: Болит колено
Наличие спортивного инвентаря: Нет
Пожелания по упражнениям: Отжимания

Все верно? Если есть что-то, что нужно исправить, напиши об этом.
2023-11-09 02:18:25,408 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 673
2023-11-09 02:18:25,408 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-09 02:18:34,402 - INFO - Ответ пользователя (check_form): ну да, все нормално
2023-11-09 02:18:34,402 - INFO - Добавляем ответ пользователя в контекст
2023-11-09 02:18:37,413 - INFO - Ответ от GPT получен. Ответ: Отлично! Твоя анкета заполнена. Теперь я могу составить для тебя индивидуальную программу тренировок, учитывая твои пожелания и физические ограничения. Если у тебя возникнут вопросы или пожелания в процессе тренировок, не стесняйся обращаться. Удачных тренировок!
2023-11-09 02:18:37,414 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 1480
2023-11-09 02:18:37,414 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-09 02:18:37,414 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-09 02:18:44,249 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-09 02:18:44,250 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-09 02:18:44,357 - INFO - Перед составлением программы, получаем заполненую форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-09 02:18:47,859 - INFO - Получили форму пользователя (user_id: 802693897), форма: Твоя анкета:
Имя: Егор
Возраст: 17 лет
Пол: Мужской
Уровень физической подготовки: 10/10
Продолжительность занятия: 40 минут
Физические ограничения: Болит колено
Наличие спортивного инвентаря: Нет
Пожелания по упражнениям: Отжимания

Если все верно, то можешь начинать тренироваться. Если есть что-то, что нужно исправить, напиши об этом., передаем ее во 2 промпт
2023-11-09 02:18:47,860 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 2343
2023-11-09 02:18:47,860 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-09 02:19:12,230 - INFO - Ответ от GPT получен, программа готова: *Разминка:*

*1. Прогулка на месте: (3 минуты) {Ходи на месте, постепенно увеличивая темп и поднимая колени выше, активно размахивай руками}*

*2. Разгонка: (2 минуты) {Бег на месте с высоким поднятием колен}*

*3. Разведение рук в стороны: (2 подхода, 15 повторений) {Стоя, поднимай руки через стороны вверх и опускай обратно}*

*4. Растяжка квадрицепса: (2 подхода, 30 секунд на каждую ногу) {Стоя, подтяни пятку к ягодице, фиксируя положение рукой, с осторожностью из-за боли в колене}*

*Основная часть:*

*1. Отжимания: (4 подхода, 15 повторений) {Принимай упор лёжа, руки на ширине плеч, тело прямое, опускайся до угла в локтях 90 градусов и возвращайся в исходное положение}*

*2. Планка: (3 подхода, 1 минута) {Принимай упор лёжа, опирайся на предплечья и носки ног, тело держи прямо, не провисай в пояснице}*

*3. Боковые планки: (3 подхода, 30 секунд на каждую сторону) {Ляг на бок, опирайся на предплечье и стопу, подними бедра, создавая прямую линию тела}*

*4. Приседания: (3 подхода, 20 повторений) {Стоя, ноги на ширине плеч, приседай, отводя таз назад и держа спину прямой, с осторожностью из-за боли в колене}*

*Заминка:*

*1. Растяжка икроножных мышц: (2 подхода, 30 секунд на каждую ногу) {Встань лицом к стене, одну ногу вытяни назад, касаясь пяткой пола, другую согни в колене впереди}*

*2. Растяжка грудных мышц: (2 подхода, 30 секунд) {Встань в дверном проеме, руки на уровне плеч, согни локти под углом 90 градусов и мягко наклоняйся вперед}*

*3. Растяжка бедер: (2 подхода, 30 секунд на каждую ногу) {Сидя, одну ногу вытяни, другую согни в колене и коснись стопой внутренней части бедра вытянутой ноги, наклоняйся к вытянутой ноге}*

*4. Растяжка спины: (2 подхода, 30 секунд) {Сидя на полу, ноги вместе, максимально наклоняйся вперед, стараясь достать руками до носков}*

Подходит ли тебе такая программа, Егор? Что бы ты хотел изменить?
2023-11-09 02:19:12,231 - INFO - Считаем текущие токены пользователя (user_id: 802693897): итого prompt_2=1750
2023-11-09 02:19:14,795 - INFO - from check_program Да
2023-11-09 02:19:14,885 - INFO - Сохраняем программу для пользователя 802693897
2023-11-09 02:19:26,052 - INFO - программа Привет, Егор! Для тебя я подготовил индивидуальную программу тренировок дома. Учитывая твой уровень физической подготовки, возраст и пол, я предлагаю следующую программу:

Разминка:
*1. Прогулка на месте: (5 минут) {Постепенно увеличивай темп, поднимай колени выше, размахивай руками}*

Основная часть (силовая):
*2. Отжимания: (3 подхода, 10 повторений) {Ляг на пол, положи ладони на ширине плеч, руки прямые. Опусти тело, сгибая руки в локтях, затем поднимись в исходное положение}* 

*3. Приседания: (3 подхода, 12 повторений) {Стань прямо, ноги на ширине плеч, руки вытянуты перед собой. Медленно сядь, сгибая колени, затем вернись в исходное положение}* 

*4. Планка: (3 подхода, 30 секунд) {Ляг на пол, опираясь на предплечья и носки ног. Держи тело прямым, не давая ему провисать}* 

Заминка:
*5. Растяжка мышц: (5 минут) {Проведи растяжку всех групп мышц, уделяя особое внимание ногам, спине и плечам}*

Обрати внимание, что из-за боли в колене, выполняй упражнения с осторожностью. Если упражнение вызывает дискомфорт или усиливает боль, пропусти его и замени на другое упражнение, которое не нагружает колено.

Что ты думаешь об этой программе? Подходит ли она тебе или есть что-то, что нужно изменить?
2023-11-09 02:19:35,234 - ERROR - Infinity polling exception: 'dict' object has no attribute 'append'
2023-11-09 02:19:35,236 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 280, in set_user_schedule
    context_messages_schedule[message.from_user.id].append({"role": "user", "content": user_answer})
AttributeError: 'dict' object has no attribute 'append'

2023-11-09 02:20:28,251 - ERROR - Infinity polling: polling exited
2023-11-09 02:20:28,251 - ERROR - Break infinity polling
2023-11-09 02:21:32,798 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-09 02:21:33,066 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 02:21:33,066 - INFO - Задаем system на промпт 1
2023-11-09 02:21:43,193 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 02:21:43,451 - INFO - Сообщение пользователя (user_id: 802693897): Я Егор, мне 17, хочу отжимания, инвентаря нет, болит колено, хочу тратить 40 минут в день, уровень физической подготовки 10
2023-11-09 02:21:43,451 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-09 02:21:48,110 - INFO - Получили ответ GPT. Ответ: Твоя анкета:
Имя: Егор
Возраст: 17
Пол: Мужской
Уровень физической подготовки: 10
Продолжительность занятия: 40 минут
Физические ограничения: Болит колено
Наличие спортивного инвентаря: Нет
Пожелания по упражнениям: Отжимания

Все верно? Если есть что-то, что нужно исправить, напиши, пожалуйста.
2023-11-09 02:21:48,110 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 673
2023-11-09 02:21:48,110 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-09 02:21:48,235 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-09 02:21:55,511 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-09 02:21:55,513 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-09 02:21:55,515 - INFO - Ответ пользователя (check_form): Да
2023-11-09 02:21:55,516 - INFO - Добавляем ответ пользователя в контекст
2023-11-09 02:21:55,640 - INFO - Перед составлением программы, получаем заполненую форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-09 02:21:57,371 - INFO - Ответ от GPT получен. Ответ: Отлично! Твоя анкета заполнена верно. Если у тебя возникнут какие-либо изменения или дополнения, просто сообщи мне. Теперь я могу составить для тебя индивидуальную программу тренировок.
2023-11-09 02:21:57,371 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 1434
2023-11-09 02:21:57,371 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-09 02:21:57,371 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-09 02:21:59,242 - INFO - Получили форму пользователя (user_id: 802693897), форма: Твоя анкета:
Имя: Егор
Возраст: 17
Пол: Мужской
Уровень физической подготовки: 10
Продолжительность занятия: 40 минут
Физические ограничения: Болит колено
Наличие спортивного инвентаря: Нет
Пожелания по упражнениям: Отжимания

Все верно? Если есть что-то, что нужно исправить, напиши, пожалуйста., передаем ее во 2 промпт
2023-11-09 02:21:59,242 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 2278
2023-11-09 02:21:59,242 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-09 02:22:37,231 - INFO - Ответ от GPT получен, программа готова: *Разминка:*

*1.Ходьба на месте: (5 минут) {Поднимай колени высоко, активно размахивай руками}*

*2.Разгибания рук в стороны: (3 подхода, 15 повторений) {Встань прямо, поднимай руки через стороны вверх и опускай}*

*3.Повороты туловища: (3 подхода, 10 повторений на каждую сторону) {Встань прямо, ноги на ширине плеч, поворачивай туловище влево и вправо, сохраняя бедра неподвижными}*

*Основная часть:*

*1.Отжимания: (5 подходов, 15 повторений) {Прими упор лежа, руки на ширине плеч, тело прямое от головы до пяток, опускайся до уровня, когда грудь почти касается пола, и возвращайся в исходное положение. С осторожностью из-за боли в колене, если ощущаешь дискомфорт, сделай отжимания на коленях}*

*2.Планка: (4 подхода, по 30 секунд) {Прими упор лежа, опираясь на предплечья и носки ног. Тело должно образовывать прямую линию. Не поднимай и не опускай бедра. С осторожностью из-за боли в колене, если необходимо, опирайся на колени}*

*3.Боковая планка: (3 подхода по 20 секунд для каждой стороны) {Ляг на бок, опирайся на предплечье и стопу нижней ноги. Подними таз, образуя прямую линию тела. Держи позицию, затем смени сторону}*

*4.Приседания без нагрузки: (4 подхода, 20 повторений) {Встань прямо, ноги на ширине плеч, приседай, отводя таз назад и сохраняя спину прямой, колени не должны выходить за линию носков. С осторожностью из-за боли в колене, не приседай слишком глубоко}*

*Заминка:*

*1.Растяжка квадрицепсов: (2 подхода по 30 секунд для каждой ноги) {Встань, держась за опору, согни ногу в колене, возьмись за стопу и потяни её к ягодицам, не нагружая больное колено}*

*2.Растяжка икроножных мышц: (2 подхода по 30 секунд для каждой ноги) {Встань в шаге от стены, оперись руками о стену, передняя нога согнута в колене, задняя прямая, пятка на полу. Тянись вперед, растягивая икры задней ноги}*

*3.Растяжка грудных мышц: (2 подхода по 30 секунд) {Встань в дверном проеме, подними согнутые в локтях руки и упрись ладонями в косяки, шагни вперед, растягивая грудные мышцы}*

*4.Растяжка спины: (2 подхода по 30 секунд) {Сядь на пол, ноги прямо, тянись руками к ногам, не округляя спину}*

Подходит ли тебе эта программа или есть что-то, что ты хотел бы изменить?
2023-11-09 02:22:37,232 - INFO - Считаем текущие токены пользователя (user_id: 802693897): итого prompt_2=1876
2023-11-09 02:22:40,964 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-09 02:22:40,965 - INFO - from check_program Да
2023-11-09 02:22:40,965 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-09 02:22:41,063 - INFO - Сохраняем программу для пользователя 802693897
2023-11-09 02:22:41,103 - INFO - Перед составлением программы, получаем заполненую форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-09 02:22:42,455 - INFO - Получили форму пользователя (user_id: 802693897), форма: Форма, которую я получил, является квадратной., передаем ее во 2 промпт
2023-11-09 02:22:42,455 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 2313
2023-11-09 02:22:42,455 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-09 02:22:54,844 - INFO - программа Привет, Егор! Вот твоя индивидуальная программа тренировок:

Разминка:
*1. Прогулка на месте: (5 минут) {Постепенно увеличивай темп, поднимай колени выше, размахивай руками}*
*2. Растяжка ног: (2 повторения по 30 секунд на каждую ногу) {Сядь на пол, вытяни одну ногу вперед, наклонись вперед, стараясь дотянуться до носка}*
*3. Растяжка плеч: (2 повторения по 30 секунд на каждое плечо) {Сядь на пол, согни одну руку в локте, положи другую руку на согнутую руку и потяни ее к груди}*

Основная часть (силовая):
*4. Отжимания: (3 подхода по 10 повторений) {Встань в планку, руки на ширине плеч, медленно опускайся вниз, сгибая локти, затем медленно поднимайся вверх}*
*5. Приседания: (3 подхода по 12 повторений) {Встань прямо, ноги на ширине плеч, медленно сгибай колени, опускаясь вниз, затем медленно поднимайся вверх}*

Заминка:
*6. Растяжка спины: (2 повторения по 30 секунд) {Ляг на пол, согни одну ногу в колене, поверни корпус в сторону согнутой ноги, стараясь дотянуться до пола}*
*7. Растяжка грудных мышц: (2 повторения по 30 секунд) {Встань прямо, согни руки в локтях, положи их на стену или дверной косяк, медленно отведите корпус вперед}*

Обрати внимание, что упражнение "Отжимания" может быть выполнено с осторожностью из-за боли в колене. Если ощущаешь дискомфорт, лучше пропусти это упражнение или замени его на другое.

Подходит ли тебе такая программа тренировок? Если есть что-то, что нужно изменить, напиши, пожалуйста.
2023-11-09 02:23:06,253 - INFO - Ответ от GPT получен, программа готова: Программа тренировок для Егора:

*Разминка:*

*1.Ходьба на месте: (5 минут) {Ходи на месте, поднимая колени не очень высоко, чтобы не нагружать колено. Держи спину прямо и размахивай руками в такт шагам}*

*2.Разминка для рук: (2 подхода, 30 секунд) {Выполняй круговые движения в плечевых суставах, сначала вперед, затем назад}*

*3.Наклоны туловища: (2 подхода, 10 повторений) {Стой прямо, ноги на ширине плеч, мягко наклоняйся в стороны, не делая резких движений}*

*Основная часть:*

*1.Отжимания: (3 подхода, 10-15 повторений) {Прими упор лежа, руки на ширине плеч, тело прямое от головы до пяток. Опускайся, пока грудь почти не коснется пола, затем поднимись. Если есть дискомфорт в колене, выполняй отжимания с колен}*

*2.Планка: (3 подхода, 30-60 секунд) {Ляг на живот, затем поднимись на предплечья и носки ног. Тело должно образовать прямую линию. Держи планку, напрягая мышцы живота и бедер}*

*3.Подъемы туловища: (3 подхода, 15-20 повторений) {Ляг на спину, ноги согнуты в коленях, руки за головой. Поднимай верхнюю часть туловища, напрягая мышцы пресса}*

*4.Приседания на одной ноге (с осторожностью из-за боли в колене): (2 подхода, 8-10 повторений на каждую ногу) {Стань прямо, одну ногу поставь впереди, вторую слегка приподними с пола. Приседай на опорной ноге, другую держи в воздухе. Следи за тем, чтобы колено опорной ноги не выходило за линию носков}*

*Заминка:*

*1.Растяжка квадрицепсов: (2 подхода, 30 секунд на каждую ногу) {Стой прямо, взявшись за стопу, мягко потяни пятку к ягодице, чувствуя растяжение в передней части бедра. Сделай то же самое для другой ноги}*

*2.Растяжка икроножных мышц: (2 подхода, 30 секунд на каждую ногу) {Встань перед стеной, одну ногу поставь впереди, другую позади. Тянись руками к стене, держа пятку задней ноги на полу}*

*3.Поза ребенка: (1 подход, 1 минута) {Сядь на корточки, опусти туловище между ног на пол, руки вытяни перед собой. Расслабься в этой позе}*

Подходит ли тебе эта программа или есть что-то, что ты хотел бы изменить?
2023-11-09 02:23:06,253 - INFO - Считаем текущие токены пользователя (user_id: 802693897): итого prompt_2=4291
2023-11-09 02:23:39,169 - ERROR - Infinity polling: polling exited
2023-11-09 02:23:39,169 - ERROR - Break infinity polling
2023-11-09 02:28:07,643 - ERROR - Infinity polling: polling exited
2023-11-09 02:28:07,644 - ERROR - Break infinity polling
2023-11-09 02:36:56,962 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-09 02:36:57,309 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 02:36:57,309 - INFO - Задаем system на промпт 1
2023-11-09 02:37:08,044 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 02:37:08,154 - INFO - Сообщение пользователя (user_id: 802693897): Я Егор, мне 17, хочу отжимания, инвентаря нет, болит колено, хочу тратить 40 минут в день, уровень физической подготовки 10
2023-11-09 02:37:08,154 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-09 02:37:14,635 - INFO - Получили ответ GPT. Ответ: Твоя анкета:
Имя: Егор
Возраст: 17 лет
Уровень физической подготовки: 10/10
Продолжительность занятия: 40 минут
Физические ограничения: болит колено
Наличие спортивного инвентаря: нет
Пожелания по упражнениям: отжимания

Все верно? Если есть что-то, что нужно исправить, напиши.
2023-11-09 02:37:14,636 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 660
2023-11-09 02:37:14,636 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-09 02:37:17,413 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-09 02:37:17,414 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-09 02:37:17,671 - INFO - Перед составлением программы, получаем заполненую форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-09 02:37:20,572 - INFO - Получили форму пользователя (user_id: 802693897), форма: Твоя анкета:
Имя: Егор
Пол: Мужской
Возраст: 17 лет
Уровень физической подготовки: 10/10
Продолжительность занятия: 40 минут
Физические ограничения: Болит колено
Наличие спортивного инвентаря: Нет
Пожелания по упражнениям: Отжимания

Все верно? Если есть что-то, что нужно исправить, напиши., передаем ее во 2 промпт
2023-11-09 02:37:20,573 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 1482
2023-11-09 02:37:20,573 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-09 02:37:45,630 - INFO - Ответ от GPT получен, программа готова: *Разминка:*

*1. Прогулка на месте: (3 минуты) {Ходи на месте, поднимая колени высоко и активно махая руками}*

*2. Разминка плеч: (2 подхода, 30 секунд) {Встань прямо, вытяни руки перед собой, затем медленно вращай плечами вперед и назад}*

*3. Боковые наклоны: (2 подхода, 15 повторений) {Встань прямо, ноги на ширине плеч, руки на талии. Наклоняйся в стороны, не наклоняясь вперед или назад}*

*4. Растяжка икры: (2 подхода, 30 секунд на ногу) {Встань перед стеной, одну ногу вытяни назад, касаясь пяткой пола. Другую ногу согни в колене. Тянись руками к стене, чувствуя растяжение в икроножной мышце задней ноги}*

*Основная часть:*

*1. Отжимания: (4 подхода, 15 повторений) {Прими упор лежа, руки на ширине плеч. Опускай тело, сгибая руки в локтях, затем поднимайся обратно. Следи за тем, чтобы тело оставалось прямым}*

*2. Планка: (3 подхода, 1 минута) {Прими упор на предплечьях и носках, тело прямое, как доска. Держи эту позицию}*

*3. Приседания без нагрузки: (3 подхода, 20 повторений) {Встань прямо, ноги на ширине плеч. Приседай, отводя таз назад и держа спину прямой. Следи за тем, чтобы колени не выходили за линию носков. Из-за боли в колене выполняй упражнение с осторожностью}*

*4. Берпи без прыжка: (3 подхода, 10 повторений) {Из положения стоя опустись в присед, затем руками уйди в упор лежа, выполнить отжимание, вернуться в присед и встать. Избегай резких движений из-за боли в колене}*

*Заминка:*

*1. Растяжка квадрицепса: (2 подхода, 30 секунд на ногу) {Встань, ухватившись за стул или стену, согни ногу в колене, удерживая стопу рукой у ягодицы. Чувствуй растяжение в передней части бедра. С осторожностью из-за боли в колене}*

*2. Растяжка грудных мышц: (2 подхода, 30 секунд) {Встань в дверном проеме, руки на стойке на уровне плеч. Сделай небольшой шаг вперед, чувствуя растяжение в грудных мышцах}*

*3. Наклоны к ногам: (2 подхода, 30 секунд) {Сядь на пол, ноги прямо перед собой. Наклонись вперед, стараясь дотянуться руками до носков. Не сгибай колени}*

*4. Растяжка спины: (2 подхода, 30 секунд) {Сядь на корточки, опусти тело между ног, вытяни руки вперед и расслабь спину}*

Егор, подходит ли тебе предложенная программа или есть моменты, которые ты бы хотел изменить?
2023-11-09 02:37:45,631 - INFO - Считаем текущие токены пользователя (user_id: 802693897): итого prompt_2=1909
2023-11-09 02:37:51,525 - INFO - from check_program Да
2023-11-09 02:37:51,632 - INFO - Сохраняем программу для пользователя 802693897
2023-11-09 02:38:00,458 - INFO - программа Привет, Егор! Основываясь на твоей анкете, я составил для тебя индивидуальную программу тренировок дома. Проверь ее и скажи, подходит ли она тебе или есть что-то, что нужно изменить.

Разминка:
*1. Прогулка на месте: (5 минут) {Постепенно увеличивай темп, поднимай колени выше, размахивай руками}*
*2. Растяжка: (5 минут) {Сделай несколько упражнений на растяжку для всех групп мышц}*

Основная часть (силовая):
*3. Отжимания: (3 подхода по 10 повторений) {Поставь руки на ширине плеч, опусти тело до параллели с полом, затем поднимайся вверх}* 
*4. Приседания: (3 подхода по 12 повторений) {Расставь ноги на ширине плеч, опусти таз до параллели с полом, затем вернись в исходное положение}*
*5. Планка: (3 подхода по 30 секунд) {Опрокинься на предплечья и носки, держи тело прямым и напряженным}*

Заминка:
*6. Растяжка: (5 минут) {Сделай несколько упражнений на растяжку для всех групп мышц}*

Обрати внимание, что упражнение "Отжимания" может быть нагрузочным для твоего болеющего колена. Выполняй его с осторожностью и прерывай, если появляется дискомфорт или боль.

Что ты думаешь об этой программе? Подходит ли она тебе или есть что-то, что нужно изменить?
2023-11-09 02:38:20,108 - INFO - error_code=None error_message="'messages' is a required property" error_param=None error_type=invalid_request_error message='OpenAI API error received' stream_error=False
2023-11-09 02:38:20,115 - ERROR - Infinity polling exception: 'messages' is a required property
2023-11-09 02:38:20,119 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 307, in check_schedule
    json_schedule = openai.ChatCompletion.create(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/chat_completion.py", line 25, in create
    return super().create(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/abstract/engine_api_resource.py", line 155, in create
    response, _, api_key = requestor.request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 299, in request
    resp, got_stream = self._interpret_response(result, stream)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 710, in _interpret_response
    self._interpret_response_line(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 775, in _interpret_response_line
    raise self.handle_error_response(
openai.error.InvalidRequestError: 'messages' is a required property

2023-11-09 02:38:53,250 - ERROR - Infinity polling: polling exited
2023-11-09 02:38:53,250 - ERROR - Break infinity polling
2023-11-09 02:39:17,272 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-09 02:39:17,555 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 02:39:17,555 - INFO - Задаем system на промпт 1
2023-11-09 02:39:20,939 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 02:39:21,186 - INFO - Сообщение пользователя (user_id: 802693897): Я Егор, мне 17, хочу отжимания, инвентаря нет, болит колено, хочу тратить 40 минут в день, уровень физической подготовки 10
2023-11-09 02:39:21,186 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-09 02:39:24,068 - INFO - Получили ответ GPT. Ответ: Твоя анкета:
Имя: Егор
Возраст: 17 лет
Уровень физической подготовки: 10/10
Продолжительность занятия: 40 минут
Физические ограничения: Болит колено
Наличие спортивного инвентаря: Нет
Пожелания по упражнениям: Отжимания

Все верно? Если есть что-то, что нужно исправить, напиши.
2023-11-09 02:39:24,069 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 662
2023-11-09 02:39:24,069 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-09 02:39:27,070 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-09 02:39:27,071 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-09 02:39:27,180 - INFO - Перед составлением программы, получаем заполненую форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-09 02:39:30,415 - INFO - Получили форму пользователя (user_id: 802693897), форма: Твоя анкета:
Имя: Егор
Пол: Мужской
Возраст: 17 лет
Уровень физической подготовки: 10/10
Продолжительность занятия: 40 минут
Физические ограничения: Болит колено
Наличие спортивного инвентаря: Нет
Пожелания по упражнениям: Отжимания

Все верно? Если есть что-то, что нужно исправить, напиши., передаем ее во 2 промпт
2023-11-09 02:39:30,416 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 1486
2023-11-09 02:39:30,416 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-09 02:39:50,076 - INFO - Ответ от GPT получен, программа готова: *Разминка:*

*1. Прогулка на месте: (3 минуты) {Ходи на месте, постепенно увеличивая темп. Работай руками, имитируя бег}*

*2. Разминка плеч: (2 подхода, 30 секунд) {Выполняй круговые движения плечами, сначала вперед, затем назад}*

*3. Разминка запястий: (2 подхода, 30 секунд) {Делай круговые движения запястьями, сначала в одну сторону, затем в другую}*

*Основная часть:*

*1. Отжимания: (4 подхода, 15 повторений) {Прими упор лежа, руки на ширине плеч. Опускай тело до угла в локтях около 90 градусов, затем поднимайся. Следи за тем, чтобы спина оставалась прямой}*

*2. Планка: (3 подхода, 1 минута) {Прими упор на предплечьях и носках, тело должно образовывать прямую линию. Задержись в этой позиции}*

*3. Берпи: (3 подхода, 10 повторений) {Из положения стоя прыгни в упор лежа, сделай отжимание, вернись в прыжке в исходное положение и прыгни вверх, поднимая руки над головой} {с осторожностью из-за боли в колене}*

*4. Подъемы туловища: (3 подхода, 20 повторений) {Ляг на спину, руки за головой. Поднимай верхнюю часть туловища к коленям, затем опускайся}*

*Заминка:*

*1. Растяжка грудных мышц: (2 подхода, 30 секунд) {Встань в дверной проем, руки на уровне плеч, ладони на косяке. Шагни вперед одной ногой и наклонись вперед, чувствуя растяжение в грудных мышцах}*

*2. Растяжка бедер: (2 подхода, по 30 секунд на каждую ногу) {Встань, возьмись за стул или стену для устойчивости. Согни одну ногу в колене, возьмись за стопу рукой и потяни пятку к ягодицам, чувствуя растяжение в передней части бедра}*

*3. Растяжка икроножных мышц: (2 подхода, по 30 секунд на каждую ногу) {Встань перед стеной, одну ногу поставь вперед, другую назад. Держа пятку задней ноги на полу, наклонись вперед, чувствуя растяжение в икроножной мышце}*

Эта программа подходит? Что можно изменить?
2023-11-09 02:39:50,077 - INFO - Считаем текущие токены пользователя (user_id: 802693897): итого prompt_2=1683
2023-11-09 02:39:51,575 - INFO - from check_program Да
2023-11-09 02:39:51,709 - INFO - Сохраняем программу для пользователя 802693897
2023-11-09 02:40:00,828 - INFO - программа Привет, Егор! Основываясь на твоей анкете, я составил для тебя индивидуальную программу тренировок дома. Проверь ее и скажи, подходит ли она тебе или есть что-то, что нужно изменить.

Разминка:
*1. Прогулка на месте: (5 минут) {Постепенно увеличивай темп, поднимай колени выше, размахивай руками}*
*2. Растяжка: (5 минут) {Сделай несколько упражнений на растяжку для всех групп мышц}*

Основная часть (силовая):
*3. Отжимания: (3 подхода по 10 повторений) {Поставь руки на ширине плеч, опусти грудь к полу, затем поднимайся вверх}* 
*4. Приседания: (3 подхода по 12 повторений) {Расставь ноги на ширине плеч, опустиясь вниз, сохраняй спину прямой, затем поднимайся вверх}* 
*5. Планка: (3 подхода по 30 секунд) {Опройся на предплечья и носки, сохраняй прямую линию от головы до пяток}* 

Заминка:
*6. Растяжка: (5 минут) {Сделай несколько упражнений на растяжку для всех групп мышц}*

Обрати внимание, что упражнение "Отжимания" может быть нагрузкой на твое больное колено. Выполняй его с осторожностью и прекрати, если почувствуешь дискомфорт или боль.

Что ты думаешь об этой программе? Подходит ли она тебе или есть что-то, что нужно изменить?
2023-11-09 02:40:06,969 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "Вторник",
      "time": "16:25"
    },
    {
      "dayOfWeek": "Пятница",
      "time": "14:30"
    }
  ]
}
2023-11-09 02:42:11,061 - ERROR - Infinity polling: polling exited
2023-11-09 02:42:11,061 - ERROR - Break infinity polling
2023-11-09 03:06:55,611 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-09 03:06:55,845 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 03:06:55,846 - INFO - Задаем system на промпт 1
2023-11-09 03:07:01,019 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 03:07:01,279 - INFO - Сообщение пользователя (user_id: 802693897): Я Егор, мне 17, хочу отжимания, инвентаря нет, болит колено, хочу тратить 40 минут в день, уровень физической подготовки 10
2023-11-09 03:07:01,279 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-09 03:07:05,074 - INFO - Получили ответ GPT. Ответ: Твоя анкета:
Имя: Егор
Возраст: 17 лет
Пол: Мужской
Уровень физической подготовки: 10/10
Продолжительность занятия: 40 минут
Физические ограничения: Болит колено
Наличие спортивного инвентаря: Нет
Пожелания по упражнениям: Отжимания

Все верно? Если есть что-то, что нужно исправить, напиши, пожалуйста.
2023-11-09 03:07:05,075 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 677
2023-11-09 03:07:05,075 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-09 03:07:06,449 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-09 03:07:06,450 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-09 03:07:06,557 - INFO - Перед составлением программы, получаем заполненую форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-09 03:07:09,110 - INFO - json form {'profile': {'name': 'Егор', 'sex': 'Мужской', 'age': 17, 'level': 10, 'duration': 40, 'issues': 'Болит колено', 'equipment': 'Нет', 'wishes': 'Отжимания'}}
2023-11-09 03:07:09,114 - ERROR - Infinity polling exception: 'schedule'
2023-11-09 03:07:09,118 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 213, in final_check_form
    BotDatabase.insert_json_format(message.from_user.id, json_form)
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 50, in insert_json_format
    for weekday in schedule["schedule"]:
KeyError: 'schedule'

2023-11-09 03:08:05,230 - ERROR - Infinity polling: polling exited
2023-11-09 03:08:05,233 - ERROR - Break infinity polling
2023-11-09 03:21:50,832 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-09 03:21:50,846 - ERROR - Infinity polling exception: 2 values for 1 columns
2023-11-09 03:21:50,849 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 6801, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 51, in main
    BotDatabase.add_user(message.from_user.id)
  File "/Users/ekondrashov/PycharmProjects/openai/database.py", line 14, in add_user
    self.cur.execute("INSERT INTO `users` (`user_id`) VALUES (?, ?)", (user_id,))
sqlite3.OperationalError: 2 values for 1 columns

2023-11-09 03:22:00,023 - ERROR - Infinity polling: polling exited
2023-11-09 03:22:00,024 - ERROR - Break infinity polling
2023-11-09 03:22:03,791 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-09 03:22:04,037 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 03:22:04,037 - INFO - Задаем system на промпт 1
2023-11-09 03:22:07,853 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 03:22:08,126 - INFO - Сообщение пользователя (user_id: 802693897): Я Егор, мне 17, хочу отжимания, инвентаря нет, болит колено, хочу тратить 40 минут в день, уровень физической подготовки 10
2023-11-09 03:22:08,126 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-09 03:22:11,200 - INFO - Получили ответ GPT. Ответ: Твоя анкета:
Имя: Егор
Возраст: 17
Уровень физической подготовки: 10
Продолжительность занятия: 40 минут
Физические ограничения: болит колено
Наличие спортивного инвентаря: нет
Пожелания по упражнениям: отжимания

Все верно? Если есть что-то, что нужно исправить, напиши.
2023-11-09 03:22:11,200 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 656
2023-11-09 03:22:11,200 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-09 03:22:15,270 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-09 03:22:15,271 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-09 03:22:15,362 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-09 03:22:17,757 - INFO - json form {'profile': {'name': 'Егор', 'sex': 'мужской', 'age': 17, 'level': 10, 'duration': 40, 'issues': 'болит колено', 'equipment': 'нет', 'wishes': 'отжимания'}}
2023-11-09 03:22:17,759 - INFO - Получили форму пользователя (user_id: 802693897), форма: {
  "profile": {
    "name": "Егор",
    "sex": "мужской",
    "age": 17,
    "level": 10,
    "duration": 40,
    "issues": "болит колено",
    "equipment": "нет",
    "wishes": "отжимания"
  }
}, передаем ее во 2 промпт
2023-11-09 03:22:17,759 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 1462
2023-11-09 03:22:17,759 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-09 03:22:30,247 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки:

**Разминка (5-10 минут):**
1. Маршировка на месте - 2 минуты.
2. Подъемы рук вверх с глубоким вдохом и опускание с выдохом - 15 повторений.
3. Разведение рук в стороны с поворотами туловища - 20 повторений.
4. Наклоны туловища в стороны - 20 повторений.

**Основная часть:**
1. Отжимания (учитывая, что у тебя болит колено, делай отжимания на кулаках, чтобы уменьшить нагрузку на запястья и не приседай глубоко, чтобы избежать давления на колени) - 4 подхода по 20 повторений.
2. Планка (не делай классическую планку на прямых руках, чтобы не нагружать колени, выбери вариант на предплечьях) - 4 подхода по 1 минуте.
3. Обратные отжимания от стула (для тренировки трицепсов и спины, следи за положением колен, чтобы не вызвать боль) - 4 подхода по 15 повторений.
4. Приседания на одной ноге (пистолетики) - 3 подхода по 10 повторений на каждую ногу (если ощущаешь боль в колене, прекрати выполнение).

**Заминка (5-10 минут):**
1. Потягивание в положении сидя, ноги прямо, тянемся руками к носкам - 30 секунд.
2. Растяжка икроножных мышц - по 30 секунд на каждую ногу.
3. Растяжка бедра в положении стоя, сгибаем одну ногу и тянем пятку к ягодицам - по 30 секунд на каждую ногу.
4. Глубокое дыхание с расслаблением мышц - 2 минуты.

Подходит ли тебе эта программа или есть пункты, которые ты хотел бы изменить?
2023-11-09 03:22:30,247 - INFO - Считаем текущие токены пользователя (user_id: 802693897): итого prompt_2=1180
2023-11-09 03:22:35,862 - INFO - from check_program Да
2023-11-09 03:22:35,976 - INFO - Сохраняем программу для пользователя 802693897
2023-11-09 03:22:49,191 - INFO - json prog: {
  "training": {
    "Разминка": [
      {
        "Упражнение 1": "Растяжка грудных мышц",
        "Подходы": 1,
        "Повторения/Время": "15-20 секунд"
      },
      {
        "Упражнение 2": "Разминка шеи",
        "Подходы": 1,
        "Повторения/Время": "10-15 секунд"
      },
      {
        "Упражнение 3": "Разминка плеч",
        "Подходы": 1,
        "Повторения/Время": "10-15 секунд"
      },
      {
        "Упражнение 4": "Разминка спины",
        "Подходы": 1,
        "Повторения/Время": "10-15 секунд"
      }
    ],
    "Основная часть": [
      {
        "Упражнение 1": "Приседания",
        "Подходы": 3,
        "Повторения/Время": "12-15 повторений"
      },
      {
        "Упражнение 2": "Отжимания",
        "Подходы": 3,
        "Повторения/Время": "10-12 повторений"
      },
      {
        "Упражнение 3": "Планка",
        "Подходы": 3,
        "Повторения/Время": "30-45 секунд"
      },
      {
        "Упражнение 4": "Пресс",
        "Подходы": 3,
        "Повторения/Время": "15-20 повторений"
      }
    ],
    "Заминка": [
      {
        "Упражнение 1": "Растяжка ног",
        "Подходы": 1,
        "Повторения/Время": "15-20 секунд"
      },
      {
        "Упражнение 2": "Растяжка спины",
        "Подходы": 1,
        "Повторения/Время": "15-20 секунд"
      },
      {
        "Упражнение 3": "Растяжка плеч",
        "Подходы": 1,
        "Повторения/Время": "15-20 секунд"
      },
      {
        "Упражнение 4": "Растяжка шеи",
        "Подходы": 1,
        "Повторения/Время": "15-20 секунд"
      }
    ]
  }
}
2023-11-09 03:22:59,699 - ERROR - Infinity polling: polling exited
2023-11-09 03:22:59,699 - ERROR - Break infinity polling
2023-11-09 15:22:33,824 - ERROR - Infinity polling: polling exited
2023-11-09 15:22:33,825 - ERROR - Break infinity polling
2023-11-09 15:23:37,506 - INFO - Новый пользователь с user_id: 940032081, добавляем его в базу данных и начинаем диалог
2023-11-09 15:23:37,888 - INFO - Для пользователя user_id: 940032081 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 15:23:37,888 - INFO - Задаем system на промпт 1
2023-11-09 15:24:32,818 - INFO - Пользователь отправил голосовое сообщение. Вызываем whisper и конвертируем в текст
2023-11-09 15:24:33,661 - INFO - Получили голосовое сообщение от пользователя (user_id: 940032081),  file_info: {'file_id': 'AwACAgIAAxkBAAINbmVMz4BJzNKmxTshBlvKLKCNfcwqAALaOgACW5poSkywY5-PSb6pMwQ', 'file_unique_id': 'AgAD2joAAluaaEo', 'file_size': 34125, 'file_path': 'voice/file_134.oga'}, передаем полученный файл в whisper
2023-11-09 15:24:33,662 - INFO - Записваем полученное голосовое сообщение
2023-11-09 15:24:33,663 - INFO - Голосовое успешно записано
2023-11-09 15:24:34,989 - INFO - Получили распознанный текст из голосового сообщения пользователя с user_id: 940032081, сообщение: Артём, мне 17 лет, у меня есть турник и коврик для йоги.
2023-11-09 15:24:34,989 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 940032081)
2023-11-09 15:24:38,891 - INFO - Получили ответ от GPT. Ответ: Привет, Артём! Какой уровень физической подготовки у тебя? Какая продолжительность одного занятия для тебя оптимальна? Есть ли у тебя какие-либо физические ограничения? И наконец, есть ли у тебя какие-либо пожелания по упражнениям?
2023-11-09 15:24:38,891 - INFO - Cчитаем токены для пользователя (user_id: 940032081), итого prompt_1 = 606
2023-11-09 15:24:38,891 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-09 15:25:18,633 - INFO - Ответ пользователя (check_form): Уровень плохой, 1 час где то
2023-11-09 15:25:18,634 - INFO - Добавляем ответ пользователя в контекст
2023-11-09 15:25:20,907 - INFO - Ответ от GPT получен. Ответ: Понял, спасибо за ответы. У тебя есть какие-либо физические ограничения? И есть ли у тебя пожелания по упражнениям?
2023-11-09 15:25:20,907 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1 = 1292
2023-11-09 15:25:20,907 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-09 15:25:20,907 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-09 15:25:58,100 - INFO - Ответ пользователя (check_form): Нету, хочу накачать попу
2023-11-09 15:25:58,100 - INFO - Добавляем ответ пользователя в контекст
2023-11-09 15:26:04,602 - INFO - Ответ от GPT получен. Ответ: Твоя анкета:
Имя: Артём
Пол: Мужской
Возраст: 17 лет
Уровень физической подготовки: 1 (плохой)
Продолжительность занятия: 1 час
Физические ограничения: Отсутствуют
Наличие спортивного инвентаря: Турник и коврик для йоги
Пожелания по упражнениям: Накачать попу

Все верно? Если есть что-то, что нужно исправить или добавить, пожалуйста, напиши.
2023-11-09 15:26:04,602 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1 = 2115
2023-11-09 15:26:04,602 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-09 15:26:04,602 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-09 15:26:20,294 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-09 15:26:20,294 - INFO - Пользователь (user_id: 940032081) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-09 15:26:20,457 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-09 15:26:23,982 - INFO - json form {'profile': {'name': 'Артём', 'sex': 'мужской', 'age': 17, 'level': 1, 'duration': '1 час', 'issues': '', 'equipment': 'турник, коврик для йоги', 'wishes': 'накачать попу'}}
2023-11-09 15:26:23,986 - INFO - Получили форму пользователя (user_id: 940032081), форма: {
  "profile": {
    "name": "Артём",
    "sex": "мужской",
    "age": 17,
    "level": 1,
    "duration": "1 час",
    "issues": "",
    "equipment": "турник, коврик для йоги",
    "wishes": "накачать попу"
  }
}, передаем ее во 2 промпт
2023-11-09 15:26:23,986 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1 = 2920
2023-11-09 15:26:23,986 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-09 15:26:36,477 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки:

**Разминка (10 минут)**:
1. Ходьба на месте – 2 минуты.
2. Махи ногами вперед-назад – 10 повторений на каждую ногу.
3. Повороты туловища – 10 повторений в каждую сторону.
4. Подъемы на носки стоя – 15 повторений.

**Основная часть (45 минут)**:
1. Приседания – 2 подхода по 10 повторений.
2. Выпады вперед – 2 подхода по 8 повторений на каждую ногу.
3. Мостик – 2 подхода по 15 секунд в позиции.
4. Подтягивания на турнике (если можешь) – 1 подход по 3 повторения.
5. Подъемы таза лежа на коврике – 2 подхода по 10 повторений.

**Заминка (5 минут)**:
1. Растяжка ягодичных мышц – 30 секунд на каждую сторону.
2. Поза ребенка – 1 минута.
3. Повороты коленей влево и вправо лежа на спине – по 30 секунд в каждую сторону.
4. Глубокое дыхание в положении лежа – 2 минуты.

Учти, что ты только начинаешь, поэтому важно слушать своё тело и не переусердствовать. Если почувствуешь боль во время выполнения упражнений, лучше остановиться. Подходит ли тебе эта программа или есть что-то, что ты хотел бы изменить?
2023-11-09 15:26:36,478 - INFO - Считаем текущие токены пользователя (user_id: 940032081): итого prompt_2=1049
2023-11-09 15:27:17,741 - INFO - from check_program Да
2023-11-09 15:27:18,662 - INFO - Сохраняем программу для пользователя 940032081
2023-11-09 15:27:26,342 - INFO - json prog: {
  "training": {
    "Разминка": [
      "Растяжка шеи - 2 повторения",
      "Растяжка плеч - 2 повторения",
      "Растяжка спины - 2 повторения",
      "Растяжка ног - 2 повторения"
    ],
    "Основная часть": [
      "Приседания - 3 подхода, 10 повторений",
      "Выпады - 3 подхода, 10 повторений",
      "Отжимания - 3 подхода, 10 повторений",
      "Планка - 3 подхода, 30 секунд"
    ],
    "Заминка": [
      "Растяжка бедер - 2 повторения",
      "Растяжка груди - 2 повторения",
      "Растяжка спины - 2 повторения",
      "Растяжка ног - 2 повторения"
    ]
  }
}
2023-11-09 15:30:55,439 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "Понедельник",
      "time": "09:00"
    },
    {
      "dayOfWeek": "Пятница",
      "time": "09:00"
    }
  ]
}
2023-11-09 15:32:29,747 - ERROR - Infinity polling: polling exited
2023-11-09 15:32:29,747 - ERROR - Break infinity polling
2023-11-09 16:12:07,568 - INFO - Новый пользователь с user_id: 940032081, добавляем его в базу данных и начинаем диалог
2023-11-09 16:12:07,906 - INFO - Для пользователя user_id: 940032081 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 16:12:07,906 - INFO - Задаем system на промпт 1
2023-11-09 16:12:41,511 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 16:12:41,723 - INFO - Сообщение пользователя (user_id: 940032081): Саша, 15 лет, турник и гантели
2023-11-09 16:12:41,723 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 940032081)
2023-11-09 16:12:44,777 - INFO - Получили ответ GPT. Ответ: Какой уровень физической подготовки у тебя? Какая продолжительность одного занятия для тебя оптимальна? Есть ли у тебя какие-либо физические ограничения?
2023-11-09 16:12:44,778 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1 = 550
2023-11-09 16:12:44,778 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-09 16:14:25,345 - INFO - Ответ пользователя (check_form): Отличный уровень, 45, правок колено
2023-11-09 16:14:25,346 - INFO - Добавляем ответ пользователя в контекст
2023-11-09 16:14:30,671 - INFO - Ответ от GPT получен. Ответ: Твоя анкета:
Имя: Саша
Пол: Мужской (определен по имени)
Возраст: 15 лет
Уровень физической подготовки: 10
Продолжительность занятия: 45 минут
Физические ограничения: Проблемы с коленом
Наличие спортивного инвентаря: Турник и гантели
Пожелания по упражнениям: Не указано

Все верно? Если есть что-то, что нужно исправить или добавить, пожалуйста, напиши.
2023-11-09 16:14:30,671 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1 = 1292
2023-11-09 16:14:30,671 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-09 16:14:30,672 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-09 16:15:04,440 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-09 16:15:04,440 - INFO - Пользователь (user_id: 940032081) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-09 16:15:04,588 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-09 16:15:07,976 - INFO - json form {'profile': {'name': 'Саша', 'sex': 'мужской', 'age': 15, 'level': 10, 'duration': 45, 'issues': 'правок колено', 'equipment': 'турник и гантели', 'wishes': ''}}
2023-11-09 16:15:07,981 - INFO - Получили форму пользователя (user_id: 940032081), форма: {
  "profile": {
    "name": "Саша",
    "sex": "мужской",
    "age": 15,
    "level": 10,
    "duration": 45,
    "issues": "правок колено",
    "equipment": "турник и гантели",
    "wishes": ""
  }
}, передаем ее во 2 промпт
2023-11-09 16:15:07,981 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1 = 2010
2023-11-09 16:15:07,981 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-09 16:15:21,032 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки:

**Разминка (10 минут):**
1. Бег на месте - 3 минуты.
2. Вращение рук вперед-назад - 1 минута.
3. Наклоны тела в стороны - 2 подхода по 10 повторений.
4. Подъемы на носки стоя - 2 подхода по 15 повторений.

**Основная часть (30 минут):**

*Учитывая проблему с правым коленом, будем избегать упражнений с высокой нагрузкой на ноги.*

1. Подтягивания на турнике (широкий хват) - 4 подхода по 10 повторений.
2. Жим гантелей стоя (для плеч) - 4 подхода по 12 повторений.
3. Отжимания от пола (широкая постановка рук) - 4 подхода по 15 повторений.
4. Разведение гантелей в стороны стоя (для дельтовидных мышц) - 3 подхода по 12 повторений.

**Заминка (5 минут):**
1. Потягивание рук вверх стоя - 2 подхода по 30 секунд.
2. Растяжка грудных мышц - 2 подхода по 30 секунд.
3. Растяжка бицепсов - 2 подхода по 30 секунд каждая рука.
4. Растяжка трицепсов - 2 подхода по 30 секунд каждая рука.

Подходит ли тебе эта программа или есть что-то, что ты хотел бы изменить?
2023-11-09 16:15:21,033 - INFO - Считаем текущие токены пользователя (user_id: 940032081): итого prompt_2=1023
2023-11-09 16:15:43,578 - INFO - from check_program Поменяй заминку и растяжку
2023-11-09 16:16:00,576 - INFO - текущие токены пользователя: 940032081 prompt_2=2100
2023-11-09 16:16:08,459 - INFO - from check_program Да
2023-11-09 16:16:08,598 - INFO - Сохраняем программу для пользователя 940032081
2023-11-09 16:16:26,932 - INFO - json prog: {
  "training": {
    "Разминка": [
      {
        "Упражнение 1": "Разминка шеи и плеч",
        "Подходы": 1,
        "Повторения": "10-15 повторений"
      },
      {
        "Упражнение 2": "Разминка рук и запястий",
        "Подходы": 1,
        "Повторения": "10-15 повторений"
      },
      {
        "Упражнение 3": "Разминка туловища",
        "Подходы": 1,
        "Повторения": "10-15 повторений"
      },
      {
        "Упражнение 4": "Разминка ног",
        "Подходы": 1,
        "Повторения": "10-15 повторений"
      }
    ],
    "Основная часть": [
      {
        "Упражнение 1": "Приседания с гантелями",
        "Подходы": 3,
        "Повторения": "8-12 повторений"
      },
      {
        "Упражнение 2": "Отжимания на брусьях",
        "Подходы": 3,
        "Повторения": "8-12 повторений"
      },
      {
        "Упражнение 3": "Подтягивания на турнике",
        "Подходы": 3,
        "Повторения": "8-12 повторений"
      },
      {
        "Упражнение 4": "Жим гантелей лежа",
        "Подходы": 3,
        "Повторения": "8-12 повторений"
      }
    ],
    "Заминка": [
      {
        "Упражнение 1": "Растяжка шеи и плеч",
        "Подходы": 1,
        "Повторения": "15-30 секунд"
      },
      {
        "Упражнение 2": "Растяжка рук и запястий",
        "Подходы": 1,
        "Повторения": "15-30 секунд"
      },
      {
        "Упражнение 3": "Растяжка туловища",
        "Подходы": 1,
        "Повторения": "15-30 секунд"
      },
      {
        "Упражнение 4": "Растяжка ног",
        "Подходы": 1,
        "Повторения": "15-30 секунд"
      }
    ]
  }
}
2023-11-09 16:17:15,310 - INFO - {
  "schedule": [
    {
      "dayOfWeek": "Понедельник",
      "time": "16:30"
    },
    {
      "dayOfWeek": "Среда",
      "time": "17:30"
    },
    {
      "dayOfWeek": "Пятница",
      "time": "08:25"
    }
  ]
}
2023-11-09 16:22:01,389 - ERROR - Infinity polling: polling exited
2023-11-09 16:22:01,389 - ERROR - Break infinity polling
2023-11-09 16:27:22,577 - INFO - Новый пользователь с user_id: 940032081, добавляем его в базу данных и начинаем диалог
2023-11-09 16:27:22,896 - INFO - Для пользователя user_id: 940032081 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 16:27:22,896 - INFO - Задаем system на промпт 1
2023-11-09 16:27:44,975 - INFO - Пользователь отправил голосовое сообщение. Вызываем whisper и конвертируем в текст
2023-11-09 16:27:45,523 - INFO - Получили голосовое сообщение от пользователя (user_id: 940032081),  file_info: {'file_id': 'AwACAgIAAxkBAAINmmVM3lDYI6775BBIdiUPerXD3UP8AAJ4OwACW5poSs7wba34sS_WMwQ', 'file_unique_id': 'AgADeDsAAluaaEo', 'file_size': 59672, 'file_path': 'voice/file_135.oga'}, передаем полученный файл в whisper
2023-11-09 16:27:45,526 - INFO - Записваем полученное голосовое сообщение
2023-11-09 16:27:45,526 - INFO - Голосовое успешно записано
2023-11-09 16:27:47,369 - INFO - Получили распознанный текст из голосового сообщения пользователя с user_id: 940032081, сообщение: Приветствую, меня зовут Николай, я люблю играть в шахматы, но не считаю это подвижным видом спорта, поэтому хочу заниматься йогой. У меня есть дома валик для йоги.
2023-11-09 16:27:47,369 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 940032081)
2023-11-09 16:27:49,559 - INFO - Получили ответ от GPT. Ответ: Привет, Николай! Сколько тебе лет? И какая продолжительность одного занятия для тебя оптимальна?
2023-11-09 16:27:49,560 - INFO - Cчитаем токены для пользователя (user_id: 940032081), итого prompt_1 = 588
2023-11-09 16:27:49,560 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-09 16:28:16,552 - INFO - Ответ пользователя (check_form): 17, 45 минут
2023-11-09 16:28:16,554 - INFO - Добавляем ответ пользователя в контекст
2023-11-09 16:28:18,600 - INFO - Ответ от GPT получен. Ответ: Понятно. А какой уровень физической подготовки у тебя на данный момент? И есть ли у тебя какие-либо физические ограничения?
2023-11-09 16:28:18,600 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1 = 1247
2023-11-09 16:28:18,600 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-09 16:28:18,601 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-09 16:28:43,293 - INFO - Ответ пользователя (check_form): Хреновый, левый локоть
2023-11-09 16:28:43,294 - INFO - Добавляем ответ пользователя в контекст
2023-11-09 16:28:46,144 - INFO - Ответ от GPT получен. Ответ: Извини, но я не могу продолжить анкету, так как ты указал неподходящие данные. Если у тебя есть другие данные или пожелания, пожалуйста, уточни их.
2023-11-09 16:28:46,145 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1 = 1933
2023-11-09 16:28:46,145 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-09 16:28:46,145 - INFO - Слово тригер НЕ в ответе от GPT, продолжаем задавать вопросы пользователю
2023-11-09 16:29:06,830 - INFO - Ответ пользователя (check_form): Нет, пожеланий
2023-11-09 16:29:06,831 - INFO - Добавляем ответ пользователя в контекст
2023-11-09 16:29:11,644 - INFO - Ответ от GPT получен. Ответ: Твоя анкета:
Имя: Николай
Пол: Мужской
Возраст: 17 лет
Уровень физической подготовки: Не указан
Продолжительность занятия: 45 минут
Физические ограничения: Хреновый, левый локоть
Наличие спортивного инвентаря: Валик для йоги

Все верно? Если есть что-то, что нужно исправить или добавить, пожалуйста, напиши.
2023-11-09 16:29:11,644 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1 = 2718
2023-11-09 16:29:11,644 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-09 16:29:11,645 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-09 16:29:33,352 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-09 16:29:33,354 - INFO - Пользователь (user_id: 940032081) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-09 16:29:33,612 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-09 16:29:36,526 - INFO - json form {'profile': {'name': 'Николай', 'sex': 'мужской', 'age': 17, 'level': 0, 'duration': 45, 'issues': 'левый локоть', 'equipment': 'валик для йоги', 'wishes': ''}}
2023-11-09 16:29:36,530 - INFO - Получили форму пользователя (user_id: 940032081), форма: {
  "profile": {
    "name": "Николай",
    "sex": "мужской",
    "age": 17,
    "level": 0,
    "duration": 45,
    "issues": "левый локоть",
    "equipment": "валик для йоги",
    "wishes": ""
  }
}, передаем ее во 2 промпт
2023-11-09 16:29:36,530 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1 = 3500
2023-11-09 16:29:36,530 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-09 16:29:51,273 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки:

**Разминка (10 минут)**:
1. Ходьба на месте – 2 минуты.
2. Вращение плечами – 10 вперед и 10 назад (2 подхода).
3. Наклоны тела в стороны – 10 повторений в каждую сторону (1 подход).
4. Растяжка икры – по 30 секунд на каждую ногу (1 подход).

**Основная часть (30 минут)**:
1. Приседания – 10 повторений (3 подхода).
2. Отжимания от стены – избегай нагрузки на левый локоть, если почувствуешь дискомфорт, прекрати выполнение – 8 повторений (2 подхода).
3. Планка на предплечьях – удерживай позицию 20 секунд (3 подхода).
4. Подъемы таза лежа на спине – 10 повторений (3 подхода).

**Заминка (5 минут)**:
1. Растяжка четырехглавых мышц – по 30 секунд на каждую ногу (1 подход).
2. Растяжка мышц спины – использовать валик для йоги, лежа на нем вдоль позвоночника – 2 минуты.
3. Дыхательные упражнения – глубокое диафрагмальное дыхание в положении лежа – 2 минуты.

Подходит ли тебе эта программа или есть что-то, что хотелось бы изменить?
2023-11-09 16:29:51,274 - INFO - Считаем текущие токены пользователя (user_id: 940032081): итого prompt_2=1025
2023-11-09 16:30:56,705 - INFO - from check_program Дай побольше подтягиваний и приседаний
2023-11-09 16:31:29,167 - INFO - текущие токены пользователя: 940032081 prompt_2=2173
2023-11-09 16:32:07,207 - INFO - from check_program Да
2023-11-09 16:32:07,537 - INFO - Сохраняем программу для пользователя 940032081
2023-11-09 16:32:25,282 - INFO - json prog: {
  "training": {
    "Разминка": [
      {
        "Упражнение 1": "Разминка шеи и плеч",
        "Количество подходов": 1,
        "Количество повторений": "10-15 повторений"
      },
      {
        "Упражнение 2": "Разминка рук и запястий",
        "Количество подходов": 1,
        "Количество повторений": "10-15 повторений"
      },
      {
        "Упражнение 3": "Разминка торса и спины",
        "Количество подходов": 1,
        "Количество повторений": "10-15 повторений"
      },
      {
        "Упражнение 4": "Разминка ног и коленей",
        "Количество подходов": 1,
        "Количество повторений": "10-15 повторений"
      }
    ],
    "Основная часть": [
      {
        "Упражнение 1": "Подтягивания",
        "Количество подходов": 3,
        "Количество повторений": "6-8 повторений"
      },
      {
        "Упражнение 2": "Приседания",
        "Количество подходов": 3,
        "Количество повторений": "10-12 повторений"
      }
    ],
    "Заминка": [
      {
        "Упражнение 1": "Растяжка шеи и плеч",
        "Количество подходов": 1,
        "Количество повторений": "10-15 повторений"
      },
      {
        "Упражнение 2": "Растяжка рук и запястий",
        "Количество подходов": 1,
        "Количество повторений": "10-15 повторений"
      },
      {
        "Упражнение 3": "Растяжка торса и спины",
        "Количество подходов": 1,
        "Количество повторений": "10-15 повторений"
      },
      {
        "Упражнение 4": "Растяжка ног и коленей",
        "Количество подходов": 1,
        "Количество повторений": "10-15 повторений"
      }
    ]
  }
}
2023-11-09 16:39:28,442 - ERROR - Infinity polling: polling exited
2023-11-09 16:39:28,443 - ERROR - Break infinity polling
2023-11-09 16:39:33,281 - ERROR - Infinity polling: polling exited
2023-11-09 16:39:33,281 - ERROR - Break infinity polling
2023-11-09 16:39:34,358 - ERROR - Infinity polling: polling exited
2023-11-09 16:39:34,358 - ERROR - Break infinity polling
2023-11-09 16:39:54,357 - ERROR - Infinity polling: polling exited
2023-11-09 16:39:54,357 - ERROR - Break infinity polling
2023-11-09 16:40:38,950 - INFO - Новый пользователь с user_id: 940032081, добавляем его в базу данных и начинаем диалог
2023-11-09 16:40:39,272 - INFO - Для пользователя user_id: 940032081 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 16:40:39,272 - INFO - Задаем system на промпт 1
2023-11-09 16:40:54,850 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 16:40:55,366 - INFO - Сообщение пользователя (user_id: 940032081): Саша, 15 лет, турник и гантели
2023-11-09 16:40:55,366 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 940032081)
2023-11-09 16:40:58,107 - INFO - Получили ответ GPT. Ответ: Какой уровень физической подготовки у тебя? Какая продолжительность одного занятия для тебя оптимальна? Есть ли у тебя физические ограничения?
2023-11-09 16:40:58,107 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1 = 544
2023-11-09 16:40:58,107 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-09 16:41:20,308 - INFO - Ответ пользователя (check_form): Средний, 30 минут, нету
2023-11-09 16:41:20,308 - INFO - Добавляем ответ пользователя в контекст
2023-11-09 16:41:26,197 - INFO - Ответ от GPT получен. Ответ: Твоя анкета:
Имя: Саша
Пол: Мужской
Возраст: 15 лет
Уровень физической подготовки: Средний (5 из 10)
Продолжительность занятия: 30 минут
Физические ограничения: Отсутствуют
Наличие спортивного инвентаря: Турник и гантели
Пожелания по упражнениям: Не указаны

Все верно? Если есть что-то, что нужно исправить, напиши.
2023-11-09 16:41:26,198 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1 = 1267
2023-11-09 16:41:26,198 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-09 16:41:26,198 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-09 16:41:36,000 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-09 16:41:36,001 - INFO - Пользователь (user_id: 940032081) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-09 16:41:36,133 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-09 16:41:39,188 - INFO - json form {'profile': {'name': 'Саша', 'sex': 'мужской', 'age': 15, 'level': 5, 'duration': '30 минут', 'issues': 'нету', 'equipment': 'турник и гантели', 'wishes': ''}}
2023-11-09 16:41:39,191 - INFO - Получили форму пользователя (user_id: 940032081), форма: {
  "profile": {
    "name": "Саша",
    "sex": "мужской",
    "age": 15,
    "level": 5,
    "duration": "30 минут",
    "issues": "нету",
    "equipment": "турник и гантели",
    "wishes": ""
  }
}, передаем ее во 2 промпт
2023-11-09 16:41:39,191 - INFO - Считаем токены для пользователя (user_id: 940032081): 940032081, итого prompt_1 = 1978
2023-11-09 16:41:39,192 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-09 16:41:54,192 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки включает в себя разминку, основную часть и заминку. Учитывая, что у тебя есть турник и гантели, а уровень физической подготовки средний, программа будет следующей:

**Разминка (5-10 минут):**
1. Пробежка на месте – 3 минуты.
2. Круговые вращения плечами – 15 раз в каждую сторону.
3. Вращения тазом – 15 раз в каждую сторону.
4. Наклоны тела в стороны – 15 повторений на каждую сторону.

**Основная часть (15-20 минут):**
1. Подтягивания на турнике – 3 подхода по 8 повторений.
2. Приседания с гантелями – 3 подхода по 15 повторений.
3. Отжимания от пола – 3 подхода по 12 повторений.
4. Тяга гантели в наклоне (для каждой руки) – 3 подхода по 10 повторений.
5. Планка – 3 подхода по 30 секунд в позиции.

**Заминка (5 минут):**
1. Потягивание – 1 минута.
2. Растяжка грудных мышц – 30 секунд на каждую сторону.
3. Растяжка бицепсов – 30 секунд на каждую руку.
4. Растяжка квадрицепсов – 30 секунд на каждую ногу.

Подходит ли тебе такая программа или есть пожелания/изменения, которые ты бы хотел внести?
2023-11-09 16:41:54,192 - INFO - Считаем текущие токены пользователя (user_id: 940032081): итого prompt_2=1032
2023-11-09 16:42:33,210 - INFO - from check_program Да
2023-11-09 16:42:33,571 - INFO - Сохраняем программу для пользователя 940032081
2023-11-09 16:42:34,233 - INFO - error_code=None error_message='{\'role\': \'assistant\', \'content\': \'Переделай этот текст в json формат, где "training" - массив внутри которого есть массивы "Разминка" , "Основная часть", "Заминка" внутри которых есть "Упражнение 1", "Упражнение 2", "Упражнение 3" и так далее. Не давай никаких комментариев.\'} is not of type \'array\' - \'messages\'' error_param=None error_type=invalid_request_error message='OpenAI API error received' stream_error=False
2023-11-09 16:42:34,239 - ERROR - Infinity polling exception: {'role': 'assistant', 'content': 'Переделай этот текст в json формат, где "training" - массив внутри которого есть массивы "Разминка" , "Основная часть", "Заминка" внутри которых есть "Упражнение 1", "Упражнение 2", "Упражнение 3" и так далее. Не давай никаких комментариев.'} is not of type 'array' - 'messages'
2023-11-09 16:42:34,242 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 269, in check_program
    get_program = openai.ChatCompletion.create( # prompt 2.5
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/chat_completion.py", line 25, in create
    return super().create(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/abstract/engine_api_resource.py", line 155, in create
    response, _, api_key = requestor.request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 299, in request
    resp, got_stream = self._interpret_response(result, stream)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 710, in _interpret_response
    self._interpret_response_line(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 775, in _interpret_response_line
    raise self.handle_error_response(
openai.error.InvalidRequestError: {'role': 'assistant', 'content': 'Переделай этот текст в json формат, где "training" - массив внутри которого есть массивы "Разминка" , "Основная часть", "Заминка" внутри которых есть "Упражнение 1", "Упражнение 2", "Упражнение 3" и так далее. Не давай никаких комментариев.'} is not of type 'array' - 'messages'

2023-11-09 17:33:05,853 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=25)
2023-11-09 17:33:05,854 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 537, in _make_request
    response = conn.getresponse()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 461, in getresponse
    httplib_response = super().getresponse()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/http/client.py", line 1374, in getresponse
    response.begin()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/http/client.py", line 318, in begin
    version, status, reason = self._read_status()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/http/client.py", line 279, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 705, in readinto
    return self._sock.recv_into(b)
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/ssl.py", line 1274, in recv_into
    return self.read(nbytes, buffer)
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/ssl.py", line 1130, in read
    return self._sslobj.read(len, buffer)
TimeoutError: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 470, in increment
    raise reraise(type(error), error, _stacktrace)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/util.py", line 39, in reraise
    raise value
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 539, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 371, in _raise_timeout
    raise ReadTimeoutError(
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=25)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 532, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=25)

2023-11-09 17:33:08,866 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105c5d8a0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 17:33:08,866 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x105c5d8a0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105c5d8a0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105c5d8a0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 17:33:11,872 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105c5d7e0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 17:33:11,873 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x105c5d7e0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105c5d7e0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105c5d7e0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 17:33:14,881 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105c5ea10>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 17:33:14,882 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x105c5ea10>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105c5ea10>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105c5ea10>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 17:33:17,895 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105c5fb80>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 17:33:17,896 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x105c5fb80>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105c5fb80>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105c5fb80>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 17:33:20,907 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105c5f670>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 17:33:20,908 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x105c5f670>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105c5f670>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105c5f670>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 17:33:23,921 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105c5cbe0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 17:33:23,922 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x105c5cbe0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105c5cbe0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105c5cbe0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 17:33:26,936 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105d58d30>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 17:33:26,937 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x105d58d30>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105d58d30>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105d58d30>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 17:33:29,947 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105c5cee0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 17:33:29,948 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x105c5cee0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105c5cee0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105c5cee0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 17:33:32,956 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105d58b50>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 17:33:32,957 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x105d58b50>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105d58b50>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105d58b50>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 17:33:35,971 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105d5a200>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 17:33:35,972 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x105d5a200>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105d5a200>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105d5a200>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 17:33:38,985 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105d59e70>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 17:33:38,987 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x105d59e70>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105d59e70>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105d59e70>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 17:33:42,000 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105d58d30>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 17:33:42,001 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x105d58d30>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105d58d30>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105d58d30>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 17:33:45,015 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105d5b700>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 17:33:45,017 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x105d5b700>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105d5b700>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105d5b700>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 17:33:48,027 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105d5a290>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 17:33:48,027 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x105d5a290>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105d5a290>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223631&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x105d5a290>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 17:34:10,565 - ERROR - Infinity polling: polling exited
2023-11-09 17:34:10,565 - ERROR - Break infinity polling
2023-11-09 17:34:47,874 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-09 17:34:48,225 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 17:34:48,225 - INFO - Задаем system на промпт 1
2023-11-09 17:34:58,079 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 17:34:58,412 - INFO - Сообщение пользователя (user_id: 802693897): Я Егор, мне 17, хочу отжимания, инвентаря нет, болит колено, хочу тратить 40 минут в день, уровень физической подготовки 10
2023-11-09 17:34:58,412 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-09 17:35:00,442 - INFO - Получили ответ GPT. Ответ: Какая продолжительность одного занятия для тебя оптимальна? Есть ли еще какие-то физические ограничения?
2023-11-09 17:35:00,443 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 569
2023-11-09 17:35:00,443 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-09 17:35:15,561 - INFO - Ответ пользователя (check_form): 40 минут, болит коленка
2023-11-09 17:35:15,563 - INFO - Добавляем ответ пользователя в контекст
2023-11-09 17:35:21,190 - INFO - Ответ от GPT получен. Ответ: Твоя анкета:
Имя: Егор
Пол: Мужской
Возраст: 17 лет
Уровень физической подготовки: 10/10
Продолжительность занятия: 40 минут
Физические ограничения: Болит колено
Наличие спортивного инвентаря: Отсутствует
Пожелания по упражнениям: Хочу заниматься отжиманиями

Все верно? Если есть что-то, что нужно исправить, пожалуйста, напиши.
2023-11-09 17:35:21,190 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 1321
2023-11-09 17:35:21,190 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-09 17:35:21,190 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-09 17:35:43,227 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-09 17:35:43,228 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-09 17:35:43,468 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-09 17:35:46,273 - INFO - json form {'profile': {'name': 'Егор', 'sex': 'мужской', 'age': 17, 'level': 10, 'duration': 40, 'issues': 'болит колено', 'equipment': 'нет', 'wishes': 'отжимания'}}
2023-11-09 17:35:46,275 - INFO - Получили форму пользователя (user_id: 802693897), форма: {
  "profile": {
    "name": "Егор",
    "sex": "мужской",
    "age": 17,
    "level": 10,
    "duration": 40,
    "issues": "болит колено",
    "equipment": "нет",
    "wishes": "отжимания"
  }
}, передаем ее во 2 промпт
2023-11-09 17:35:46,275 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 2054
2023-11-09 17:35:46,275 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-09 17:36:06,635 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки:

**Разминка (5-10 минут):**
1. Ходьба на месте – 2 минуты.
2. Махи руками – 20 повторений в каждую сторону.
3. Повороты туловища – 15 повторений в каждую сторону.
4. Наклоны головы – 10 повторений в каждую сторону.

**Основная часть (25-30 минут):**
1. Отжимания – 5 подходов по 20 повторений (если есть боли в колене, делай отжимания на коленях или облегченные отжимания у стены).
2. Планка – 4 подхода по 1 минуте (не нагружай колени, распределяй вес на предплечья и пальцы ног).
3. Приседания без веса – 4 подхода по 15 повторений (если ощущаешь боль в колене, уменьши амплитуду движения).
4. Берпи – 4 подхода по 10 повторений (выполняй аккуратно, избегая резких движений, если чувствуешь дискомфорт в колене).

**Заминка (5 минут):**
1. Растяжка икроножных мышц – по 30 секунд на каждую ногу.
2. Растяжка бедер – по 30 секунд на каждую ногу.
3. Растяжка грудных мышц – 30 секунд.
4. Дыхательные упражнения – 2 минуты.

Эта программа подходит тебе? Если что-то не так, дай знать, что можно изменить.
2023-11-09 17:36:06,636 - INFO - Считаем текущие токены пользователя (user_id: 802693897): итого prompt_2=1040
2023-11-09 17:36:08,968 - INFO - from check_program Да
2023-11-09 17:36:09,129 - INFO - Сохраняем программу для пользователя 802693897
2023-11-09 17:36:09,642 - INFO - error_code=None error_message='\'Переделай этот текст в json формат, где "training" - массив внутри которого есть массивы "Разминка" , "Основная часть", "Заминка" внутри которых есть "Упражнение 1", "Упражнение 2", "Упражнение 3" и так далее. Не давай никаких комментариев.\' is not of type \'array\' - \'messages\'' error_param=None error_type=invalid_request_error message='OpenAI API error received' stream_error=False
2023-11-09 17:36:09,647 - ERROR - Infinity polling exception: 'Переделай этот текст в json формат, где "training" - массив внутри которого есть массивы "Разминка" , "Основная часть", "Заминка" внутри которых есть "Упражнение 1", "Упражнение 2", "Упражнение 3" и так далее. Не давай никаких комментариев.' is not of type 'array' - 'messages'
2023-11-09 17:36:09,651 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 271, in check_program
    get_program = openai.ChatCompletion.create( # prompt 2.5
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/chat_completion.py", line 25, in create
    return super().create(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/abstract/engine_api_resource.py", line 155, in create
    response, _, api_key = requestor.request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 299, in request
    resp, got_stream = self._interpret_response(result, stream)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 710, in _interpret_response
    self._interpret_response_line(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 775, in _interpret_response_line
    raise self.handle_error_response(
openai.error.InvalidRequestError: 'Переделай этот текст в json формат, где "training" - массив внутри которого есть массивы "Разминка" , "Основная часть", "Заминка" внутри которых есть "Упражнение 1", "Упражнение 2", "Упражнение 3" и так далее. Не давай никаких комментариев.' is not of type 'array' - 'messages'

2023-11-09 17:36:22,802 - ERROR - Infinity polling: polling exited
2023-11-09 17:36:22,802 - ERROR - Break infinity polling
2023-11-09 17:37:06,577 - ERROR - Infinity polling: polling exited
2023-11-09 17:37:06,578 - ERROR - Break infinity polling
2023-11-09 17:37:14,309 - INFO - Пользователь с user_id: 802693897 уже существует
2023-11-09 17:37:24,114 - ERROR - Infinity polling: polling exited
2023-11-09 17:37:24,114 - ERROR - Break infinity polling
2023-11-09 17:37:31,267 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-09 17:37:31,666 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 17:37:31,666 - INFO - Задаем system на промпт 1
2023-11-09 17:37:38,035 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 17:37:38,208 - INFO - Сообщение пользователя (user_id: 802693897): Я Егор, мне 17, хочу отжимания, инвентаря нет, болит колено, хочу тратить 40 минут в день, уровень физической подготовки 10
2023-11-09 17:37:38,210 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-09 17:37:40,357 - INFO - Получили ответ GPT. Ответ: Какая продолжительность одного занятия для тебя оптимальна? Есть ли у тебя еще какие-либо физические ограничения?
2023-11-09 17:37:40,358 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 575
2023-11-09 17:37:40,358 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-09 17:37:55,326 - INFO - Ответ пользователя (check_form): 40 минут, болит коленка
2023-11-09 17:37:55,326 - INFO - Добавляем ответ пользователя в контекст
2023-11-09 17:38:00,637 - INFO - Ответ от GPT получен. Ответ: Твоя анкета:
Имя: Егор
Пол: Мужской
Возраст: 17 лет
Уровень физической подготовки: 10/10
Продолжительность занятия: 40 минут
Физические ограничения: Болит колено
Наличие спортивного инвентаря: Нет
Пожелания по упражнениям: Хочу делать отжимания

Все верно? Если есть что-то, что нужно исправить, напиши, пожалуйста.
2023-11-09 17:38:00,637 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 1326
2023-11-09 17:38:00,638 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-09 17:38:00,638 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-09 17:38:04,901 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-09 17:38:04,902 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-09 17:38:05,252 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-09 17:38:08,300 - INFO - json form {'profile': {'name': 'Егор', 'sex': 'мужской', 'age': 17, 'level': 10, 'duration': 40, 'issues': 'болит колено', 'equipment': 'нет', 'wishes': 'отжимания'}}
2023-11-09 17:38:08,302 - INFO - Получили форму пользователя (user_id: 802693897), форма: {
  "profile": {
    "name": "Егор",
    "sex": "мужской",
    "age": 17,
    "level": 10,
    "duration": 40,
    "issues": "болит колено",
    "equipment": "нет",
    "wishes": "отжимания"
  }
}, передаем ее во 2 промпт
2023-11-09 17:38:08,302 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 2065
2023-11-09 17:38:08,303 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-09 17:38:23,669 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки:

**Разминка (10 минут)**:
1. Бег на месте — 3 минуты.
2. Махи руками — 20 махов вперед и 20 махов назад.
3. Разминка шеи — наклоны головы вперед и назад, влево и вправо по 10 повторений.
4. Разминка коленей (осторожно, учитывая боли в колене) — круговые движения в коленном суставе по 10 в каждую сторону.

**Основная часть (25 минут)**:
1. Отжимания — 5 подходов по 20 повторений (если ощущаешь боль в колене, делай отжимания с колен).
2. Планка — 4 подхода по 1 минуте.
3. Приседания (без резких движений, избегай боли в колене) — 4 подхода по 15 повторений.
4. "Берпи" без прыжка вверх — 3 подхода по 10 повторений.

**Заминка (5 минут)**:
1. Растяжка грудных мышц — 2 подхода по 30 секунд.
2. Растяжка бицепсов и трицепсов — по 30 секунд на каждую руку.
3. Растяжка квадрицепсов стоя (поддерживайся рукой о стену, если есть нестабильность из-за боли в колене) — по 30 секунд на каждую ногу.
4. Наклоны туловища вперед с прямыми ногами — 1 подход на 1 минуту.

Подходит ли тебе эта программа или есть что-то, что ты хотел бы изменить?
2023-11-09 17:38:23,670 - INFO - Считаем текущие токены пользователя (user_id: 802693897): итого prompt_2=1070
2023-11-09 17:38:28,998 - INFO - from check_program Да
2023-11-09 17:38:29,242 - INFO - Сохраняем программу для пользователя 802693897
2023-11-09 17:38:29,831 - INFO - error_code=None error_message='\'Твоя программа тренировки:\\n\\n**Разминка (10 минут)**:\\n1. Бег на месте — 3 минуты.\\n2. Махи руками — 20 махов вперед и 20 махов назад.\\n3. Разминка шеи — наклоны головы вперед и назад, влево и вправо по 10 повторений.\\n4. Разминка коленей (осторожно, учитывая боли в колене) — круговые движения в коленном суставе по 10 в каждую сторону.\\n\\n**Основная часть (25 минут)**:\\n1. Отжимания — 5 подходов по 20 повторений (если ощущаешь боль в колене, делай отжимания с колен).\\n2. Планка — 4 подхода по 1 минуте.\\n3. Приседания (без резких движений, избегай боли в колене) — 4 подхода по 15 повторений.\\n4. "Берпи" без прыжка вверх — 3 подхода по 10 повторений.\\n\\n**Заминка (5 минут)**:\\n1. Растяжка грудных мышц — 2 подхода по 30 секунд.\\n2. Растяжка бицепсов и трицепсов — по 30 секунд на каждую руку.\\n3. Растяжка квадрицепсов стоя (поддерживайся рукой о стену, если есть нестабильность из-за боли в колене) — по 30 секунд на каждую ногу.\\n4. Наклоны туловища вперед с прямыми ногами — 1 подход на 1 минуту.\\n\\nПодходит ли тебе эта программа или есть что-то, что ты хотел бы изменить?\' is not of type \'array\' - \'messages\'' error_param=None error_type=invalid_request_error message='OpenAI API error received' stream_error=False
2023-11-09 17:38:29,834 - ERROR - Infinity polling exception: 'Твоя программа тренировки:\n\n**Разминка (10 минут)**:\n1. Бег на месте — 3 минуты.\n2. Махи руками — 20 махов вперед и 20 махов назад.\n3. Разминка шеи — наклоны головы вперед и назад, влево и вправо по 10 повторений.\n4. Разминка коленей (осторожно, учитывая боли в колене) — круговые движения в коленном суставе по 10 в каждую сторону.\n\n**Основная часть (25 минут)**:\n1. Отжимания — 5 подходов по 20 повторений (если ощущаешь боль в колене, делай отжимания с колен).\n2. Планка — 4 подхода по 1 минуте.\n3. Приседания (без резких движений, избегай боли в колене) — 4 подхода по 15 повторений.\n4. "Берпи" без прыжка вверх — 3 подхода по 10 повторений.\n\n**Заминка (5 минут)**:\n1. Растяжка грудных мышц — 2 подхода по 30 секунд.\n2. Растяжка бицепсов и трицепсов — по 30 секунд на каждую руку.\n3. Растяжка квадрицепсов стоя (поддерживайся рукой о стену, если есть нестабильность из-за боли в колене) — по 30 секунд на каждую ногу.\n4. Наклоны туловища вперед с прямыми ногами — 1 подход на 1 минуту.\n\nПодходит ли тебе эта программа или есть что-то, что ты хотел бы изменить?' is not of type 'array' - 'messages'
2023-11-09 17:38:29,836 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 271, in check_program
    get_program = openai.ChatCompletion.create( # prompt 2.5
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/chat_completion.py", line 25, in create
    return super().create(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/abstract/engine_api_resource.py", line 155, in create
    response, _, api_key = requestor.request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 299, in request
    resp, got_stream = self._interpret_response(result, stream)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 710, in _interpret_response
    self._interpret_response_line(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 775, in _interpret_response_line
    raise self.handle_error_response(
openai.error.InvalidRequestError: 'Твоя программа тренировки:\n\n**Разминка (10 минут)**:\n1. Бег на месте — 3 минуты.\n2. Махи руками — 20 махов вперед и 20 махов назад.\n3. Разминка шеи — наклоны головы вперед и назад, влево и вправо по 10 повторений.\n4. Разминка коленей (осторожно, учитывая боли в колене) — круговые движения в коленном суставе по 10 в каждую сторону.\n\n**Основная часть (25 минут)**:\n1. Отжимания — 5 подходов по 20 повторений (если ощущаешь боль в колене, делай отжимания с колен).\n2. Планка — 4 подхода по 1 минуте.\n3. Приседания (без резких движений, избегай боли в колене) — 4 подхода по 15 повторений.\n4. "Берпи" без прыжка вверх — 3 подхода по 10 повторений.\n\n**Заминка (5 минут)**:\n1. Растяжка грудных мышц — 2 подхода по 30 секунд.\n2. Растяжка бицепсов и трицепсов — по 30 секунд на каждую руку.\n3. Растяжка квадрицепсов стоя (поддерживайся рукой о стену, если есть нестабильность из-за боли в колене) — по 30 секунд на каждую ногу.\n4. Наклоны туловища вперед с прямыми ногами — 1 подход на 1 минуту.\n\nПодходит ли тебе эта программа или есть что-то, что ты хотел бы изменить?' is not of type 'array' - 'messages'

2023-11-09 17:39:20,180 - ERROR - Infinity polling: polling exited
2023-11-09 17:39:20,181 - ERROR - Break infinity polling
2023-11-09 17:40:39,334 - ERROR - Infinity polling: polling exited
2023-11-09 17:40:39,334 - ERROR - Break infinity polling
2023-11-09 17:41:16,179 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-09 17:41:16,550 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 17:41:16,550 - INFO - Задаем system на промпт 1
2023-11-09 17:41:17,777 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 17:41:18,241 - INFO - Сообщение пользователя (user_id: 802693897): Я Егор, мне 17, хочу отжимания, инвентаря нет, болит колено, хочу тратить 40 минут в день, уровень физической подготовки 10
2023-11-09 17:41:18,242 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-09 17:41:23,074 - INFO - Получили ответ GPT. Ответ: Твоя анкета:
Имя: Егор
Возраст: 17 лет
Уровень физической подготовки: 10/10
Продолжительность занятия: 40 минут в день
Физические ограничения: Болит колено
Наличие спортивного инвентаря: Нет
Пожелания по упражнениям: Хочу заниматься отжиманиями.

Все верно? Если есть что-то, что нужно исправить или добавить, напиши.
2023-11-09 17:41:23,074 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 676
2023-11-09 17:41:23,075 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-09 17:41:25,361 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-09 17:41:25,361 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-09 17:41:25,499 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-09 17:41:28,910 - INFO - json form {'profile': {'name': 'Егор', 'sex': 'мужской', 'age': 17, 'level': 10, 'duration': '40 минут', 'issues': 'болит колено', 'equipment': 'нет', 'wishes': 'хочу заниматься отжиманиями'}}
2023-11-09 17:41:28,913 - INFO - Получили форму пользователя (user_id: 802693897), форма: {
  "profile": {
    "name": "Егор",
    "sex": "мужской",
    "age": 17,
    "level": 10,
    "duration": "40 минут",
    "issues": "болит колено",
    "equipment": "нет",
    "wishes": "хочу заниматься отжиманиями"
  }
}, передаем ее во 2 промпт
2023-11-09 17:41:28,913 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 1512
2023-11-09 17:41:28,913 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-09 17:41:43,876 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки включает в себя разминку, основную часть и заминку. Учитывая, что у тебя высокий уровень физической подготовки, но есть проблема с коленом, будем аккуратны с упражнениями на ноги.

**Разминка (5-7 минут):**
1. Бег на месте — 2 минуты.
2. Выпады вперед — 2 подхода по 10 повторений на каждую ногу (аккуратно, если чувствуешь дискомфорт в колене, прекрати выполнение).
3. Махи руками — 2 подхода по 15 повторений.
4. Круговые движения в плечевых суставах — 1 минута.

**Основная часть (около 30 минут):**
1. Отжимания — 5 подходов по 20 повторений (если есть дискомфорт в колене, делай отжимания на коленях).
2. Планка — 4 подхода по 1 минуте.
3. Отжимания на трицепс (на полу, руки узко) — 4 подхода по 15 повторений.
4. Подъемы ног в висе на турнике (если нет турника, можно лежа на полу) — 4 подхода по 15 повторений.

**Заминка (3-5 минут):**
1. Растяжка грудных мышц — 30 секунд.
2. Растяжка трицепса — по 30 секунд на каждую руку.
3. Растяжка пресса — лежа на животе, подняться на предплечьях, затем на прямых руках, держать позицию 30 секунд.
4. Растяжка бедер — по 30 секунд на каждую ногу (если чувствуешь дискомфорт в колене, не делай слишком глубокую растяжку).

Подходит ли тебе такая программа или есть пункты, которые ты бы хотел изменить?
2023-11-09 17:41:43,877 - INFO - Считаем текущие токены пользователя (user_id: 802693897): итого prompt_2=1174
2023-11-09 17:41:49,913 - INFO - from check_program Да
2023-11-09 17:41:50,046 - INFO - Сохраняем программу для пользователя 802693897
2023-11-09 17:41:50,046 - INFO - Твоя программа тренировки включает в себя разминку, основную часть и заминку. Учитывая, что у тебя высокий уровень физической подготовки, но есть проблема с коленом, будем аккуратны с упражнениями на ноги.

**Разминка (5-7 минут):**
1. Бег на месте — 2 минуты.
2. Выпады вперед — 2 подхода по 10 повторений на каждую ногу (аккуратно, если чувствуешь дискомфорт в колене, прекрати выполнение).
3. Махи руками — 2 подхода по 15 повторений.
4. Круговые движения в плечевых суставах — 1 минута.

**Основная часть (около 30 минут):**
1. Отжимания — 5 подходов по 20 повторений (если есть дискомфорт в колене, делай отжимания на коленях).
2. Планка — 4 подхода по 1 минуте.
3. Отжимания на трицепс (на полу, руки узко) — 4 подхода по 15 повторений.
4. Подъемы ног в висе на турнике (если нет турника, можно лежа на полу) — 4 подхода по 15 повторений.

**Заминка (3-5 минут):**
1. Растяжка грудных мышц — 30 секунд.
2. Растяжка трицепса — по 30 секунд на каждую руку.
3. Растяжка пресса — лежа на животе, подняться на предплечьях, затем на прямых руках, держать позицию 30 секунд.
4. Растяжка бедер — по 30 секунд на каждую ногу (если чувствуешь дискомфорт в колене, не делай слишком глубокую растяжку).

Подходит ли тебе такая программа или есть пункты, которые ты бы хотел изменить?
2023-11-09 17:41:50,643 - INFO - error_code=None error_message="'Твоя программа тренировки включает в себя разминку, основную часть и заминку. Учитывая, что у тебя высокий уровень физической подготовки, но есть проблема с коленом, будем аккуратны с упражнениями на ноги.\\n\\n**Разминка (5-7 минут):**\\n1. Бег на месте — 2 минуты.\\n2. Выпады вперед — 2 подхода по 10 повторений на каждую ногу (аккуратно, если чувствуешь дискомфорт в колене, прекрати выполнение).\\n3. Махи руками — 2 подхода по 15 повторений.\\n4. Круговые движения в плечевых суставах — 1 минута.\\n\\n**Основная часть (около 30 минут):**\\n1. Отжимания — 5 подходов по 20 повторений (если есть дискомфорт в колене, делай отжимания на коленях).\\n2. Планка — 4 подхода по 1 минуте.\\n3. Отжимания на трицепс (на полу, руки узко) — 4 подхода по 15 повторений.\\n4. Подъемы ног в висе на турнике (если нет турника, можно лежа на полу) — 4 подхода по 15 повторений.\\n\\n**Заминка (3-5 минут):**\\n1. Растяжка грудных мышц — 30 секунд.\\n2. Растяжка трицепса — по 30 секунд на каждую руку.\\n3. Растяжка пресса — лежа на животе, подняться на предплечьях, затем на прямых руках, держать позицию 30 секунд.\\n4. Растяжка бедер — по 30 секунд на каждую ногу (если чувствуешь дискомфорт в колене, не делай слишком глубокую растяжку).\\n\\nПодходит ли тебе такая программа или есть пункты, которые ты бы хотел изменить?' is not of type 'array' - 'messages'" error_param=None error_type=invalid_request_error message='OpenAI API error received' stream_error=False
2023-11-09 17:41:50,649 - ERROR - Infinity polling exception: 'Твоя программа тренировки включает в себя разминку, основную часть и заминку. Учитывая, что у тебя высокий уровень физической подготовки, но есть проблема с коленом, будем аккуратны с упражнениями на ноги.\n\n**Разминка (5-7 минут):**\n1. Бег на месте — 2 минуты.\n2. Выпады вперед — 2 подхода по 10 повторений на каждую ногу (аккуратно, если чувствуешь дискомфорт в колене, прекрати выполнение).\n3. Махи руками — 2 подхода по 15 повторений.\n4. Круговые движения в плечевых суставах — 1 минута.\n\n**Основная часть (около 30 минут):**\n1. Отжимания — 5 подходов по 20 повторений (если есть дискомфорт в колене, делай отжимания на коленях).\n2. Планка — 4 подхода по 1 минуте.\n3. Отжимания на трицепс (на полу, руки узко) — 4 подхода по 15 повторений.\n4. Подъемы ног в висе на турнике (если нет турника, можно лежа на полу) — 4 подхода по 15 повторений.\n\n**Заминка (3-5 минут):**\n1. Растяжка грудных мышц — 30 секунд.\n2. Растяжка трицепса — по 30 секунд на каждую руку.\n3. Растяжка пресса — лежа на животе, подняться на предплечьях, затем на прямых руках, держать позицию 30 секунд.\n4. Растяжка бедер — по 30 секунд на каждую ногу (если чувствуешь дискомфорт в колене, не делай слишком глубокую растяжку).\n\nПодходит ли тебе такая программа или есть пункты, которые ты бы хотел изменить?' is not of type 'array' - 'messages'
2023-11-09 17:41:50,653 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 271, in check_program
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/chat_completion.py", line 25, in create
    return super().create(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/abstract/engine_api_resource.py", line 155, in create
    response, _, api_key = requestor.request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 299, in request
    resp, got_stream = self._interpret_response(result, stream)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 710, in _interpret_response
    self._interpret_response_line(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 775, in _interpret_response_line
    raise self.handle_error_response(
openai.error.InvalidRequestError: 'Твоя программа тренировки включает в себя разминку, основную часть и заминку. Учитывая, что у тебя высокий уровень физической подготовки, но есть проблема с коленом, будем аккуратны с упражнениями на ноги.\n\n**Разминка (5-7 минут):**\n1. Бег на месте — 2 минуты.\n2. Выпады вперед — 2 подхода по 10 повторений на каждую ногу (аккуратно, если чувствуешь дискомфорт в колене, прекрати выполнение).\n3. Махи руками — 2 подхода по 15 повторений.\n4. Круговые движения в плечевых суставах — 1 минута.\n\n**Основная часть (около 30 минут):**\n1. Отжимания — 5 подходов по 20 повторений (если есть дискомфорт в колене, делай отжимания на коленях).\n2. Планка — 4 подхода по 1 минуте.\n3. Отжимания на трицепс (на полу, руки узко) — 4 подхода по 15 повторений.\n4. Подъемы ног в висе на турнике (если нет турника, можно лежа на полу) — 4 подхода по 15 повторений.\n\n**Заминка (3-5 минут):**\n1. Растяжка грудных мышц — 30 секунд.\n2. Растяжка трицепса — по 30 секунд на каждую руку.\n3. Растяжка пресса — лежа на животе, подняться на предплечьях, затем на прямых руках, держать позицию 30 секунд.\n4. Растяжка бедер — по 30 секунд на каждую ногу (если чувствуешь дискомфорт в колене, не делай слишком глубокую растяжку).\n\nПодходит ли тебе такая программа или есть пункты, которые ты бы хотел изменить?' is not of type 'array' - 'messages'

2023-11-09 17:42:34,938 - ERROR - Infinity polling: polling exited
2023-11-09 17:42:34,938 - ERROR - Break infinity polling
2023-11-09 17:44:04,325 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-09 17:44:04,749 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 17:44:04,749 - INFO - Задаем system на промпт 1
2023-11-09 17:44:08,762 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 17:44:08,972 - INFO - Сообщение пользователя (user_id: 802693897): Я Егор, мне 17, хочу отжимания, инвентаря нет, болит колено, хочу тратить 40 минут в день, уровень физической подготовки 10
2023-11-09 17:44:08,972 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-09 17:46:16,787 - ERROR - Infinity polling: polling exited
2023-11-09 17:46:16,787 - ERROR - Break infinity polling
2023-11-09 17:46:28,268 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-09 17:46:28,677 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 17:46:28,677 - INFO - Задаем system на промпт 1
2023-11-09 17:46:33,035 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 17:46:33,401 - INFO - Сообщение пользователя (user_id: 802693897): Я Егор, мне 17, хочу отжимания, инвентаря нет, болит колено, хочу тратить 40 минут в день, уровень физической подготовки 10
2023-11-09 17:46:33,402 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-09 17:46:38,903 - INFO - Получили ответ GPT. Ответ: Твоя анкета:
Имя: Егор
Возраст: 17 лет
Пол: Мужской
Уровень физической подготовки: 10/10
Продолжительность занятия: 40 минут
Физические ограничения: Боль в колене
Наличие спортивного инвентаря: Нет
Пожелания по упражнениям: Отжимания

Все верно? Если есть что-то, что нужно исправить или добавить, пожалуйста, напиши.
2023-11-09 17:46:38,903 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 681
2023-11-09 17:46:38,903 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-09 17:46:42,388 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-09 17:46:42,388 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-09 17:46:42,540 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-09 17:46:45,634 - INFO - json form {'profile': {'name': 'Егор', 'sex': 'Мужской', 'age': 17, 'level': 10, 'duration': 40, 'issues': 'Боль в колене', 'equipment': 'Нет', 'wishes': 'Отжимания'}}
2023-11-09 17:46:45,638 - INFO - Получили форму пользователя (user_id: 802693897), форма: {
  "profile": {
    "name": "Егор",
    "sex": "Мужской",
    "age": 17,
    "level": 10,
    "duration": 40,
    "issues": "Боль в колене",
    "equipment": "Нет",
    "wishes": "Отжимания"
  }
}, передаем ее во 2 промпт
2023-11-09 17:46:45,638 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 1513
2023-11-09 17:46:45,638 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-09 17:46:57,838 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки:

**Разминка (10 минут):**
1. Ходьба на месте – 2 минуты.
2. Махи руками вперед-назад – 3 минуты.
3. Повороты корпуса – 2 минуты (по 1 минуте в каждую сторону).
4. Растяжка икры – 30 секунд на каждую ногу.
5. Растяжка бедра, не нагружая колени – 30 секунд на каждую ногу.

**Основная часть (25 минут):**
1. Отжимания – 5 подходов по 20 повторений (если ощущения в колене позволяют, выполняй в положении на носках, если нет – на коленях).
2. Планка – 4 подхода по 1 минуте.
3. Приседания без веса с акцентом на технику, чтобы не нагружать колени – 4 подхода по 15 повторений.
4. Подтягивания на перекладине (если есть возможность) – 4 подхода по 10 повторений.

**Заминка (5 минут):**
1. Растяжка грудных мышц – 1 минута.
2. Растяжка трицепса – 30 секунд на каждую руку.
3. Растяжка бедер и ягодиц, избегая нагрузки на колени – 2 минуты.
4. Дыхательные упражнения – 1 минута.

Подходит ли тебе эта программа или есть пункты, которые ты бы хотел изменить?
2023-11-09 17:46:57,839 - INFO - Считаем текущие токены пользователя (user_id: 802693897): итого prompt_2=1015
2023-11-09 17:47:06,549 - INFO - from check_program Да
2023-11-09 17:47:06,695 - INFO - Сохраняем программу для пользователя 802693897
2023-11-09 17:47:08,242 - INFO - error_code=None error_message="'Твоя программа тренировки:\\n\\n**Разминка (10 минут):**\\n1. Ходьба на месте – 2 минуты.\\n2. Махи руками вперед-назад – 3 минуты.\\n3. Повороты корпуса – 2 минуты (по 1 минуте в каждую сторону).\\n4. Растяжка икры – 30 секунд на каждую ногу.\\n5. Растяжка бедра, не нагружая колени – 30 секунд на каждую ногу.\\n\\n**Основная часть (25 минут):**\\n1. Отжимания – 5 подходов по 20 повторений (если ощущения в колене позволяют, выполняй в положении на носках, если нет – на коленях).\\n2. Планка – 4 подхода по 1 минуте.\\n3. Приседания без веса с акцентом на технику, чтобы не нагружать колени – 4 подхода по 15 повторений.\\n4. Подтягивания на перекладине (если есть возможность) – 4 подхода по 10 повторений.\\n\\n**Заминка (5 минут):**\\n1. Растяжка грудных мышц – 1 минута.\\n2. Растяжка трицепса – 30 секунд на каждую руку.\\n3. Растяжка бедер и ягодиц, избегая нагрузки на колени – 2 минуты.\\n4. Дыхательные упражнения – 1 минута.\\n\\nПодходит ли тебе эта программа или есть пункты, которые ты бы хотел изменить?' is not of type 'object' - 'messages.0'" error_param=None error_type=invalid_request_error message='OpenAI API error received' stream_error=False
2023-11-09 17:47:08,245 - ERROR - Infinity polling exception: 'Твоя программа тренировки:\n\n**Разминка (10 минут):**\n1. Ходьба на месте – 2 минуты.\n2. Махи руками вперед-назад – 3 минуты.\n3. Повороты корпуса – 2 минуты (по 1 минуте в каждую сторону).\n4. Растяжка икры – 30 секунд на каждую ногу.\n5. Растяжка бедра, не нагружая колени – 30 секунд на каждую ногу.\n\n**Основная часть (25 минут):**\n1. Отжимания – 5 подходов по 20 повторений (если ощущения в колене позволяют, выполняй в положении на носках, если нет – на коленях).\n2. Планка – 4 подхода по 1 минуте.\n3. Приседания без веса с акцентом на технику, чтобы не нагружать колени – 4 подхода по 15 повторений.\n4. Подтягивания на перекладине (если есть возможность) – 4 подхода по 10 повторений.\n\n**Заминка (5 минут):**\n1. Растяжка грудных мышц – 1 минута.\n2. Растяжка трицепса – 30 секунд на каждую руку.\n3. Растяжка бедер и ягодиц, избегая нагрузки на колени – 2 минуты.\n4. Дыхательные упражнения – 1 минута.\n\nПодходит ли тебе эта программа или есть пункты, которые ты бы хотел изменить?' is not of type 'object' - 'messages.0'
2023-11-09 17:47:08,248 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 271, in check_program
    get_program = openai.ChatCompletion.create( # prompt 2.5
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/chat_completion.py", line 25, in create
    return super().create(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/abstract/engine_api_resource.py", line 155, in create
    response, _, api_key = requestor.request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 299, in request
    resp, got_stream = self._interpret_response(result, stream)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 710, in _interpret_response
    self._interpret_response_line(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 775, in _interpret_response_line
    raise self.handle_error_response(
openai.error.InvalidRequestError: 'Твоя программа тренировки:\n\n**Разминка (10 минут):**\n1. Ходьба на месте – 2 минуты.\n2. Махи руками вперед-назад – 3 минуты.\n3. Повороты корпуса – 2 минуты (по 1 минуте в каждую сторону).\n4. Растяжка икры – 30 секунд на каждую ногу.\n5. Растяжка бедра, не нагружая колени – 30 секунд на каждую ногу.\n\n**Основная часть (25 минут):**\n1. Отжимания – 5 подходов по 20 повторений (если ощущения в колене позволяют, выполняй в положении на носках, если нет – на коленях).\n2. Планка – 4 подхода по 1 минуте.\n3. Приседания без веса с акцентом на технику, чтобы не нагружать колени – 4 подхода по 15 повторений.\n4. Подтягивания на перекладине (если есть возможность) – 4 подхода по 10 повторений.\n\n**Заминка (5 минут):**\n1. Растяжка грудных мышц – 1 минута.\n2. Растяжка трицепса – 30 секунд на каждую руку.\n3. Растяжка бедер и ягодиц, избегая нагрузки на колени – 2 минуты.\n4. Дыхательные упражнения – 1 минута.\n\nПодходит ли тебе эта программа или есть пункты, которые ты бы хотел изменить?' is not of type 'object' - 'messages.0'

2023-11-09 18:00:47,275 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=25)
2023-11-09 18:00:47,276 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 537, in _make_request
    response = conn.getresponse()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 461, in getresponse
    httplib_response = super().getresponse()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/http/client.py", line 1374, in getresponse
    response.begin()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/http/client.py", line 318, in begin
    version, status, reason = self._read_status()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/http/client.py", line 279, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 705, in readinto
    return self._sock.recv_into(b)
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/ssl.py", line 1274, in recv_into
    return self.read(nbytes, buffer)
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/ssl.py", line 1130, in read
    return self._sslobj.read(len, buffer)
TimeoutError: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 470, in increment
    raise reraise(type(error), error, _stacktrace)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/util.py", line 39, in reraise
    raise value
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 539, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 371, in _raise_timeout
    raise ReadTimeoutError(
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=25)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 532, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=25)

2023-11-09 18:00:50,285 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223652&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1045d5360>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:00:50,285 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x1045d5360>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223652&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1045d5360>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223652&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1045d5360>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:00:53,294 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223652&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1045d64d0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:00:53,295 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x1045d64d0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223652&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1045d64d0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223652&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1045d64d0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:00:56,304 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223652&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1045d43d0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:00:56,304 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x1045d43d0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223652&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1045d43d0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223652&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1045d43d0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:00:59,310 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223652&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1045d7640>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:00:59,311 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x1045d7640>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223652&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1045d7640>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223652&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1045d7640>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:01:02,321 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223652&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1045d7610>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:01:02,321 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x1045d7610>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223652&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1045d7610>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223652&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1045d7610>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:01:05,331 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223652&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1045d4190>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:01:05,332 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x1045d4190>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223652&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1045d4190>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223652&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1045d4190>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:02:09,514 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-09 18:02:09,852 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 18:02:09,852 - INFO - Задаем system на промпт 1
2023-11-09 18:02:15,181 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 18:02:15,820 - INFO - Сообщение пользователя (user_id: 802693897): Я Егор, мне 17, хочу отжимания, инвентаря нет, болит колено, хочу тратить 40 минут в день, уровень физической подготовки 10
2023-11-09 18:02:15,820 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-09 18:02:21,301 - INFO - Получили ответ GPT. Ответ: Твоя анкета:
Имя: Егор
Возраст: 17 лет
Пол: Мужской
Уровень физической подготовки: 10/10
Продолжительность занятия: 40 минут в день
Физические ограничения: Болит колено
Наличие спортивного инвентаря: Отсутствует
Пожелания по упражнениям: Отжимания

Все верно? Если есть что-то, что нужно исправить, напиши, пожалуйста.
2023-11-09 18:02:21,301 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 684
2023-11-09 18:02:21,301 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-09 18:02:27,309 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-09 18:02:27,319 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-09 18:02:27,490 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-09 18:02:30,528 - INFO - json form {'profile': {'name': 'Егор', 'sex': 'Мужской', 'age': 17, 'level': 10, 'duration': 40, 'issues': 'Болит колено', 'equipment': 'Отсутствует', 'wishes': 'Отжимания'}}
2023-11-09 18:02:30,531 - INFO - Получили форму пользователя (user_id: 802693897), форма: {
  "profile": {
    "name": "Егор",
    "sex": "Мужской",
    "age": 17,
    "level": 10,
    "duration": 40,
    "issues": "Болит колено",
    "equipment": "Отсутствует",
    "wishes": "Отжимания"
  }
}, передаем ее во 2 промпт
2023-11-09 18:02:30,531 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 1521
2023-11-09 18:02:30,531 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-09 18:02:55,413 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки:

**Разминка (5-10 минут):**
1. Ходьба на месте – 2 минуты.
2. Подъемы коленей на грудь – 2 подхода по 15 повторений на каждую ногу.
3. Махи руками вперед-назад – 2 подхода по 20 повторений.
4. Повороты туловища – 2 подхода по 15 повторений.

**Основная часть (20-25 минут):**
1. Отжимания – 5 подходов по 20 повторений. *(Если болит колено, делай отжимания на коленях или стоя, упираясь руками о стену)*
2. Планка – 4 подхода по 1 минуте в позиции.
3. Приседания без нагрузки – 4 подхода по 25 повторений. *(Будь осторожен с коленом, если чувствуешь боль, уменьши амплитуду движения)*
4. Берпи – 4 подхода по 15 повторений. *(Если колено беспокоит, исключи прыжок в конце упражнения)*

**Заминка (5-10 минут):**
1. Растяжка квадрицепсов – 2 подхода по 30 секунд на каждую ногу. *(Не допускай сильного напряжения в колене)*
2. Растяжка икроножных мышц – 2 подхода по 30 секунд на каждую ногу.
3. Поза ребенка – 2 подхода по 1 минуте.
4. Глубокое дыхание – 3 минуты.

Подходит ли тебе эта программа или есть что-то, что ты бы хотел изменить?
2023-11-09 18:02:55,415 - INFO - Считаем текущие токены пользователя (user_id: 802693897): итого prompt_2=1073
2023-11-09 18:02:57,659 - INFO - from check_program Да
2023-11-09 18:02:57,905 - INFO - Сохраняем программу для пользователя 802693897
2023-11-09 18:02:58,254 - INFO - error_code=None error_message="'Твоя программа тренировки:\\n\\n**Разминка (5-10 минут):**\\n1. Ходьба на месте – 2 минуты.\\n2. Подъемы коленей на грудь – 2 подхода по 15 повторений на каждую ногу.\\n3. Махи руками вперед-назад – 2 подхода по 20 повторений.\\n4. Повороты туловища – 2 подхода по 15 повторений.\\n\\n**Основная часть (20-25 минут):**\\n1. Отжимания – 5 подходов по 20 повторений. *(Если болит колено, делай отжимания на коленях или стоя, упираясь руками о стену)*\\n2. Планка – 4 подхода по 1 минуте в позиции.\\n3. Приседания без нагрузки – 4 подхода по 25 повторений. *(Будь осторожен с коленом, если чувствуешь боль, уменьши амплитуду движения)*\\n4. Берпи – 4 подхода по 15 повторений. *(Если колено беспокоит, исключи прыжок в конце упражнения)*\\n\\n**Заминка (5-10 минут):**\\n1. Растяжка квадрицепсов – 2 подхода по 30 секунд на каждую ногу. *(Не допускай сильного напряжения в колене)*\\n2. Растяжка икроножных мышц – 2 подхода по 30 секунд на каждую ногу.\\n3. Поза ребенка – 2 подхода по 1 минуте.\\n4. Глубокое дыхание – 3 минуты.\\n\\nПодходит ли тебе эта программа или есть что-то, что ты бы хотел изменить?' is not of type 'object' - 'messages.0'" error_param=None error_type=invalid_request_error message='OpenAI API error received' stream_error=False
2023-11-09 18:02:58,259 - ERROR - Infinity polling exception: 'Твоя программа тренировки:\n\n**Разминка (5-10 минут):**\n1. Ходьба на месте – 2 минуты.\n2. Подъемы коленей на грудь – 2 подхода по 15 повторений на каждую ногу.\n3. Махи руками вперед-назад – 2 подхода по 20 повторений.\n4. Повороты туловища – 2 подхода по 15 повторений.\n\n**Основная часть (20-25 минут):**\n1. Отжимания – 5 подходов по 20 повторений. *(Если болит колено, делай отжимания на коленях или стоя, упираясь руками о стену)*\n2. Планка – 4 подхода по 1 минуте в позиции.\n3. Приседания без нагрузки – 4 подхода по 25 повторений. *(Будь осторожен с коленом, если чувствуешь боль, уменьши амплитуду движения)*\n4. Берпи – 4 подхода по 15 повторений. *(Если колено беспокоит, исключи прыжок в конце упражнения)*\n\n**Заминка (5-10 минут):**\n1. Растяжка квадрицепсов – 2 подхода по 30 секунд на каждую ногу. *(Не допускай сильного напряжения в колене)*\n2. Растяжка икроножных мышц – 2 подхода по 30 секунд на каждую ногу.\n3. Поза ребенка – 2 подхода по 1 минуте.\n4. Глубокое дыхание – 3 минуты.\n\nПодходит ли тебе эта программа или есть что-то, что ты бы хотел изменить?' is not of type 'object' - 'messages.0'
2023-11-09 18:02:58,263 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 273, in check_program
    get_program = openai.ChatCompletion.create( # prompt 2.5
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/chat_completion.py", line 25, in create
    return super().create(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/abstract/engine_api_resource.py", line 155, in create
    response, _, api_key = requestor.request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 299, in request
    resp, got_stream = self._interpret_response(result, stream)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 710, in _interpret_response
    self._interpret_response_line(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 775, in _interpret_response_line
    raise self.handle_error_response(
openai.error.InvalidRequestError: 'Твоя программа тренировки:\n\n**Разминка (5-10 минут):**\n1. Ходьба на месте – 2 минуты.\n2. Подъемы коленей на грудь – 2 подхода по 15 повторений на каждую ногу.\n3. Махи руками вперед-назад – 2 подхода по 20 повторений.\n4. Повороты туловища – 2 подхода по 15 повторений.\n\n**Основная часть (20-25 минут):**\n1. Отжимания – 5 подходов по 20 повторений. *(Если болит колено, делай отжимания на коленях или стоя, упираясь руками о стену)*\n2. Планка – 4 подхода по 1 минуте в позиции.\n3. Приседания без нагрузки – 4 подхода по 25 повторений. *(Будь осторожен с коленом, если чувствуешь боль, уменьши амплитуду движения)*\n4. Берпи – 4 подхода по 15 повторений. *(Если колено беспокоит, исключи прыжок в конце упражнения)*\n\n**Заминка (5-10 минут):**\n1. Растяжка квадрицепсов – 2 подхода по 30 секунд на каждую ногу. *(Не допускай сильного напряжения в колене)*\n2. Растяжка икроножных мышц – 2 подхода по 30 секунд на каждую ногу.\n3. Поза ребенка – 2 подхода по 1 минуте.\n4. Глубокое дыхание – 3 минуты.\n\nПодходит ли тебе эта программа или есть что-то, что ты бы хотел изменить?' is not of type 'object' - 'messages.0'

2023-11-09 18:10:04,037 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=25)
2023-11-09 18:10:04,038 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 537, in _make_request
    response = conn.getresponse()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 461, in getresponse
    httplib_response = super().getresponse()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/http/client.py", line 1374, in getresponse
    response.begin()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/http/client.py", line 318, in begin
    version, status, reason = self._read_status()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/http/client.py", line 279, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 705, in readinto
    return self._sock.recv_into(b)
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/ssl.py", line 1274, in recv_into
    return self.read(nbytes, buffer)
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/ssl.py", line 1130, in read
    return self._sslobj.read(len, buffer)
TimeoutError: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 470, in increment
    raise reraise(type(error), error, _stacktrace)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/util.py", line 39, in reraise
    raise value
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 539, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 371, in _raise_timeout
    raise ReadTimeoutError(
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=25)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 532, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=25)

2023-11-09 18:10:07,051 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102555840>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:10:07,052 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x102555840>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102555840>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102555840>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:10:10,060 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102555900>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:10:10,060 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x102555900>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102555900>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102555900>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:10:13,067 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1025569e0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:10:13,067 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x1025569e0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1025569e0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1025569e0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:10:16,075 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102557b50>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:10:16,075 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x102557b50>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102557b50>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102557b50>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:10:19,089 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102557490>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:10:19,089 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x102557490>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102557490>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102557490>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:10:22,108 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102554cd0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:10:22,108 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x102554cd0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102554cd0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102554cd0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:10:25,119 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102648d00>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:10:25,120 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x102648d00>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102648d00>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102648d00>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:10:28,129 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102554fa0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:10:28,130 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x102554fa0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102554fa0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102554fa0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:10:31,140 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102557160>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:10:31,142 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x102557160>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102557160>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102557160>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:10:34,155 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102649e70>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:10:34,156 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x102649e70>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102649e70>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102649e70>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:10:37,162 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1025548b0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:10:37,162 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x1025548b0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1025548b0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1025548b0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:10:40,186 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1026486d0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:10:40,188 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x1026486d0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1026486d0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1026486d0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:10:43,195 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10264b340>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:10:43,196 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x10264b340>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10264b340>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10264b340>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:10:46,201 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10264b0d0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:10:46,202 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x10264b0d0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10264b0d0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10264b0d0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:10:49,209 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102649e10>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:10:49,210 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x102649e10>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102649e10>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x102649e10>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:10:52,221 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10265c850>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:10:52,222 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x10265c850>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10265c850>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10265c850>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:10:55,231 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10264abc0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:10:55,232 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x10264abc0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10264abc0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10264abc0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:10:58,243 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10265d9c0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:10:58,244 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x10265d9c0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10265d9c0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10265d9c0>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:11:01,258 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10264b430>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))
2023-11-09 18:11:01,259 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 203, in _new_conn
    sock = connection.create_connection(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 492, in _make_request
    raise new_e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 468, in _make_request
    self._validate_conn(conn)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1097, in _validate_conn
    conn.connect()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 611, in connect
    self.sock = sock = self._new_conn()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 210, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x10264b430>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 515, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10264b430>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 519, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5575707129:AAHAdYUkY3DQnfwTTY27K4tj8gbrw18CkOU/getUpdates?offset=592223656&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10264b430>: Failed to resolve 'api.telegram.org' ([Errno 8] nodename nor servname provided, or not known)"))

2023-11-09 18:11:24,206 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-09 18:11:24,532 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 18:11:24,532 - INFO - Задаем system на промпт 1
2023-11-09 18:11:29,003 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 18:11:29,259 - INFO - Сообщение пользователя (user_id: 802693897): Я Егор, мне 17, хочу отжимания, инвентаря нет, болит колено, хочу тратить 40 минут в день, уровень физической подготовки 10
2023-11-09 18:11:29,260 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-09 18:11:31,857 - INFO - Получили ответ GPT. Ответ: Какая продолжительность одного занятия для тебя оптимальна? Есть ли у тебя еще какие-либо физические ограничения, кроме боли в колене?
2023-11-09 18:11:31,857 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 587
2023-11-09 18:11:31,857 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-09 18:11:54,583 - INFO - Ответ пользователя (check_form): 40 минут, болит коленка
2023-11-09 18:11:54,584 - INFO - Добавляем ответ пользователя в контекст
2023-11-09 18:12:01,095 - INFO - Ответ от GPT получен. Ответ: Твоя анкета:
Имя: Егор
Пол: Мужской
Возраст: 17 лет
Уровень физической подготовки: 10/10
Продолжительность занятия: 40 минут
Физические ограничения: Боль в колене
Наличие спортивного инвентаря: Отсутствует
Пожелания по упражнениям: Отжимания

Все верно? Если есть что-то, что нужно изменить или добавить, пожалуйста, напиши.
2023-11-09 18:12:01,095 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 1352
2023-11-09 18:12:01,095 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-09 18:12:01,096 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-09 18:12:21,607 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-09 18:12:21,608 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-09 18:12:21,765 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-09 18:12:24,936 - INFO - json form {'profile': {'name': 'Егор', 'sex': 'мужской', 'age': 17, 'level': 10, 'duration': 40, 'issues': 'болит колено', 'equipment': 'нет', 'wishes': 'отжимания'}}
2023-11-09 18:12:24,939 - INFO - Получили форму пользователя (user_id: 802693897), форма: {
  "profile": {
    "name": "Егор",
    "sex": "мужской",
    "age": 17,
    "level": 10,
    "duration": 40,
    "issues": "болит колено",
    "equipment": "нет",
    "wishes": "отжимания"
  }
}, передаем ее во 2 промпт
2023-11-09 18:12:24,939 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 2103
2023-11-09 18:12:24,939 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-09 18:12:40,920 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки:

**Разминка (10 минут):**

1. Бег на месте - 3 минуты.
2. Махи руками - 2 минуты (1 минута вперед, 1 минута назад).
3. Разгибания в стороны (наклоны туловища) - 20 повторений (10 в каждую сторону).
4. Повороты туловища - 20 повторений (10 в каждую сторону).

**Основная часть (25 минут):**

1. Отжимания - 5 подходов по 20 повторений. (Учитывая желание и высокий уровень подготовки, но будь осторожен с коленом, если чувствуешь дискомфорт, уменьши нагрузку).
2. Приседания без веса - 4 подхода по 25 повторений (если колено начнет болеть, прекрати выполнение упражнения).
3. Планка - 4 подхода по 1 минуте (держи корпус ровно, не напрягай колени).
4. Берпи без прыжка - 4 подхода по 15 повторений (исключи прыжок в конце, чтобы избежать лишней нагрузки на колено).

**Заминка (5 минут):**

1. Растяжка икроножных мышц - по 30 секунд на каждую ногу.
2. Растяжка бедер - по 30 секунд на каждую ногу.
3. Растяжка грудных мышц - 1 минута.
4. Дыхательные упражнения - 2 минуты (глубокие вдохи и медленные выдохи).

Подходит ли тебе эта программа или есть пункты, которые ты бы хотел изменить?
2023-11-09 18:12:40,921 - INFO - Считаем текущие токены пользователя (user_id: 802693897): итого prompt_2=1081
2023-11-09 18:12:44,656 - INFO - from check_program Да
2023-11-09 18:12:44,789 - INFO - Сохраняем программу для пользователя 802693897
2023-11-09 18:12:55,656 - INFO - json prog: Программа тренировки выглядит хорошо, но я бы хотел добавить некоторые упражнения для ног и корпуса. Вот мои предложения:

**Основная часть (25 минут):**

1. Отжимания - 5 подходов по 20 повторений.
2. Приседания без веса - 4 подхода по 25 повторений.
3. Планка - 4 подхода по 1 минуте.
4. Берпи без прыжка - 4 подхода по 15 повторений.
5. Выпады - 3 подхода по 12 повторений на каждую ногу.
6. Подъемы на носки - 3 подхода по 15 повторений.
7. Подъемы таза - 3 подхода по 15 повторений.

**Заминка (5 минут):**

1. Растяжка икроножных мышц - по 30 секунд на каждую ногу.
2. Растяжка бедер - по 30 секунд на каждую ногу.
3. Растяжка грудных мышц - 1 минута.
4. Растяжка спины - 1 минута.
5. Дыхательные упражнения - 2 минуты.

Как тебе такой вариант?
2023-11-09 18:14:48,488 - ERROR - Infinity polling: polling exited
2023-11-09 18:14:48,489 - ERROR - Break infinity polling
2023-11-09 18:15:05,816 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-09 18:15:06,370 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 18:15:06,370 - INFO - Задаем system на промпт 1
2023-11-09 18:15:10,915 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 18:15:11,358 - INFO - Сообщение пользователя (user_id: 802693897): Я Егор, мне 17, хочу отжимания, инвентаря нет, болит колено, хочу тратить 40 минут в день, уровень физической подготовки 10
2023-11-09 18:15:11,358 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-09 18:15:13,992 - INFO - Получили ответ GPT. Ответ: Какая продолжительность одного занятия для тебя оптимальна? Есть ли у тебя еще какие-либо физические ограничения, кроме боли в колене?
2023-11-09 18:15:13,992 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 587
2023-11-09 18:15:13,992 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-09 18:15:16,031 - INFO - Ответ пользователя (check_form): 40 минут, болит коленка
2023-11-09 18:15:16,032 - INFO - Добавляем ответ пользователя в контекст
2023-11-09 18:15:21,110 - INFO - Ответ от GPT получен. Ответ: Твоя анкета:
Имя: Егор
Пол: Мужской
Возраст: 17 лет
Уровень физической подготовки: 10/10
Продолжительность занятия: 40 минут
Физические ограничения: Боль в колене
Наличие спортивного инвентаря: Отсутствует
Пожелания по упражнениям: Отжимания

Все верно? Если есть что-то, что нужно исправить или добавить, пожалуйста, напиши.
2023-11-09 18:15:21,110 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 1353
2023-11-09 18:15:21,110 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-09 18:15:21,110 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-09 18:15:25,298 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-09 18:15:25,299 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-09 18:15:25,549 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-09 18:15:28,911 - INFO - json form {'profile': {'name': 'Егор', 'sex': 'мужской', 'age': 17, 'level': 10, 'duration': 40, 'issues': 'болит колено', 'equipment': 'нет', 'wishes': 'отжимания'}}
2023-11-09 18:15:28,913 - INFO - Получили форму пользователя (user_id: 802693897), форма: {
  "profile": {
    "name": "Егор",
    "sex": "мужской",
    "age": 17,
    "level": 10,
    "duration": 40,
    "issues": "болит колено",
    "equipment": "нет",
    "wishes": "отжимания"
  }
}, передаем ее во 2 промпт
2023-11-09 18:15:28,913 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 2104
2023-11-09 18:15:28,913 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-09 18:15:45,043 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки:

**Разминка (5-10 минут):**
1. Бег на месте - 2 минуты
2. Махи руками в стороны и вперед-назад - 1 минута
3. Круговые движения в плечевых суставах - 20 поворотов в каждую сторону
4. Подъемы на носки стоя - 3 подхода по 20 повторений

**Основная часть (25-30 минут):**
1. Отжимания - 5 подходов по 20 повторений (Так как у тебя болит колено, старайся не переносить вес на ноги, делай упражнение на коленях, если есть дискомфорт)
2. Планка - 4 подхода по 1 минуте (Не напрягай колени, вес тела должен быть равномерно распределен между предплечьями и пальцами ног)
3. "Берпи" без прыжка - 4 подхода по 15 повторений (Исключи прыжок в конце, чтобы снизить нагрузку на колени)
4. Отжимания "алмаз" (руки вместе, формируя алмаз между пальцами) - 4 подхода по 15 повторений

**Заминка (5 минут):**
1. Растяжка грудных мышц - 30 секунд
2. Растяжка трицепсов - по 30 секунд на каждую руку
3. Растяжка плечевого пояса - по 30 секунд на каждую сторону
4. Поза "ребенка" для расслабления спины - 1 минута

Подходит ли тебе эта программа или есть пункты, которые ты хотел бы изменить?
2023-11-09 18:15:45,044 - INFO - Считаем текущие токены пользователя (user_id: 802693897): итого prompt_2=1083
2023-11-09 18:15:48,045 - INFO - from check_program Да
2023-11-09 18:15:48,215 - INFO - Сохраняем программу для пользователя 802693897
2023-11-09 18:15:48,531 - INFO - error_code=None error_message='{\'role\': \'assistant\', \'content\': \'Твоя программа тренировки:\\n\\n**Разминка (5-10 минут):**\\n1. Бег на месте - 2 минуты\\n2. Махи руками в стороны и вперед-назад - 1 минута\\n3. Круговые движения в плечевых суставах - 20 поворотов в каждую сторону\\n4. Подъемы на носки стоя - 3 подхода по 20 повторений\\n\\n**Основная часть (25-30 минут):**\\n1. Отжимания - 5 подходов по 20 повторений (Так как у тебя болит колено, старайся не переносить вес на ноги, делай упражнение на коленях, если есть дискомфорт)\\n2. Планка - 4 подхода по 1 минуте (Не напрягай колени, вес тела должен быть равномерно распределен между предплечьями и пальцами ног)\\n3. "Берпи" без прыжка - 4 подхода по 15 повторений (Исключи прыжок в конце, чтобы снизить нагрузку на колени)\\n4. Отжимания "алмаз" (руки вместе, формируя алмаз между пальцами) - 4 подхода по 15 повторений\\n\\n**Заминка (5 минут):**\\n1. Растяжка грудных мышц - 30 секунд\\n2. Растяжка трицепсов - по 30 секунд на каждую руку\\n3. Растяжка плечевого пояса - по 30 секунд на каждую сторону\\n4. Поза "ребенка" для расслабления спины - 1 минута\\n\\nПодходит ли тебе эта программа или есть пункты, которые ты хотел бы изменить?\'} is not of type \'array\' - \'messages\'' error_param=None error_type=invalid_request_error message='OpenAI API error received' stream_error=False
2023-11-09 18:15:48,536 - ERROR - Infinity polling exception: {'role': 'assistant', 'content': 'Твоя программа тренировки:\n\n**Разминка (5-10 минут):**\n1. Бег на месте - 2 минуты\n2. Махи руками в стороны и вперед-назад - 1 минута\n3. Круговые движения в плечевых суставах - 20 поворотов в каждую сторону\n4. Подъемы на носки стоя - 3 подхода по 20 повторений\n\n**Основная часть (25-30 минут):**\n1. Отжимания - 5 подходов по 20 повторений (Так как у тебя болит колено, старайся не переносить вес на ноги, делай упражнение на коленях, если есть дискомфорт)\n2. Планка - 4 подхода по 1 минуте (Не напрягай колени, вес тела должен быть равномерно распределен между предплечьями и пальцами ног)\n3. "Берпи" без прыжка - 4 подхода по 15 повторений (Исключи прыжок в конце, чтобы снизить нагрузку на колени)\n4. Отжимания "алмаз" (руки вместе, формируя алмаз между пальцами) - 4 подхода по 15 повторений\n\n**Заминка (5 минут):**\n1. Растяжка грудных мышц - 30 секунд\n2. Растяжка трицепсов - по 30 секунд на каждую руку\n3. Растяжка плечевого пояса - по 30 секунд на каждую сторону\n4. Поза "ребенка" для расслабления спины - 1 минута\n\nПодходит ли тебе эта программа или есть пункты, которые ты хотел бы изменить?'} is not of type 'array' - 'messages'
2023-11-09 18:15:48,540 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 273, in check_program
    get_program = openai.ChatCompletion.create( # prompt 2.5
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/chat_completion.py", line 25, in create
    return super().create(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/abstract/engine_api_resource.py", line 155, in create
    response, _, api_key = requestor.request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 299, in request
    resp, got_stream = self._interpret_response(result, stream)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 710, in _interpret_response
    self._interpret_response_line(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 775, in _interpret_response_line
    raise self.handle_error_response(
openai.error.InvalidRequestError: {'role': 'assistant', 'content': 'Твоя программа тренировки:\n\n**Разминка (5-10 минут):**\n1. Бег на месте - 2 минуты\n2. Махи руками в стороны и вперед-назад - 1 минута\n3. Круговые движения в плечевых суставах - 20 поворотов в каждую сторону\n4. Подъемы на носки стоя - 3 подхода по 20 повторений\n\n**Основная часть (25-30 минут):**\n1. Отжимания - 5 подходов по 20 повторений (Так как у тебя болит колено, старайся не переносить вес на ноги, делай упражнение на коленях, если есть дискомфорт)\n2. Планка - 4 подхода по 1 минуте (Не напрягай колени, вес тела должен быть равномерно распределен между предплечьями и пальцами ног)\n3. "Берпи" без прыжка - 4 подхода по 15 повторений (Исключи прыжок в конце, чтобы снизить нагрузку на колени)\n4. Отжимания "алмаз" (руки вместе, формируя алмаз между пальцами) - 4 подхода по 15 повторений\n\n**Заминка (5 минут):**\n1. Растяжка грудных мышц - 30 секунд\n2. Растяжка трицепсов - по 30 секунд на каждую руку\n3. Растяжка плечевого пояса - по 30 секунд на каждую сторону\n4. Поза "ребенка" для расслабления спины - 1 минута\n\nПодходит ли тебе эта программа или есть пункты, которые ты хотел бы изменить?'} is not of type 'array' - 'messages'

2023-11-09 18:17:41,429 - ERROR - Infinity polling: polling exited
2023-11-09 18:17:41,429 - ERROR - Break infinity polling
2023-11-09 18:17:47,331 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-09 18:17:47,692 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 18:17:47,693 - INFO - Задаем system на промпт 1
2023-11-09 18:17:50,789 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 18:17:51,207 - INFO - Сообщение пользователя (user_id: 802693897): Я Егор, мне 17, хочу отжимания, инвентаря нет, болит колено, хочу тратить 40 минут в день, уровень физической подготовки 10
2023-11-09 18:17:51,208 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-09 18:17:53,815 - INFO - Получили ответ GPT. Ответ: Какая продолжительность одного занятия для тебя оптимальна? Есть ли у тебя еще какие-то ограничения или пожелания по упражнениям?
2023-11-09 18:17:53,815 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 581
2023-11-09 18:17:53,815 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-09 18:17:55,305 - INFO - Ответ пользователя (check_form): 40 минут, болит коленка
2023-11-09 18:17:55,311 - INFO - Добавляем ответ пользователя в контекст
2023-11-09 18:18:00,093 - INFO - Ответ от GPT получен. Ответ: Твоя анкета:
Имя: Егор
Пол: Мужской
Возраст: 17 лет
Уровень физической подготовки: 10/10
Продолжительность занятия: 40 минут
Физические ограничения: Боль в колене
Наличие спортивного инвентаря: Отсутствует
Пожелания по упражнениям: Отжимания

Все верно? Если есть что-то, что нужно исправить или добавить, напиши.
2023-11-09 18:18:00,094 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 1334
2023-11-09 18:18:00,096 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-09 18:18:00,096 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-09 18:18:02,230 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-09 18:18:02,234 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-09 18:18:02,373 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-09 18:18:06,543 - INFO - json form {'profile': {'name': 'Егор', 'sex': 'мужской', 'age': 17, 'level': 10, 'duration': 40, 'issues': 'болит колено', 'equipment': 'нет', 'wishes': 'отжимания'}}
2023-11-09 18:18:06,545 - INFO - Получили форму пользователя (user_id: 802693897), форма: {
  "profile": {
    "name": "Егор",
    "sex": "мужской",
    "age": 17,
    "level": 10,
    "duration": 40,
    "issues": "болит колено",
    "equipment": "нет",
    "wishes": "отжимания"
  }
}, передаем ее во 2 промпт
2023-11-09 18:18:06,545 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 2079
2023-11-09 18:18:06,545 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-09 18:18:23,839 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки:

**Разминка (5-10 минут):**
1. Ходьба на месте – 2 минуты.
2. Подъемы коленей на месте – 30 секунд.
3. Махи руками – 20 повторений.
4. Вращение плечевыми суставами – по 10 вперед и назад.

**Основная часть (20-25 минут):**
1. Отжимания (учитывая твое желание) – 5 подходов по 20 повторений. Если ощущаешь боль в колене, делай отжимания на коленях или от стены, чтобы уменьшить нагрузку.
2. Приседания без веса (будь осторожен из-за боли в колене) – 4 подхода по 15 повторений. Следи за тем, чтобы колено не выходило за линию носков, и не опускайся слишком низко.
3. Планка – 4 подхода по 1 минуте в позиции.
4. "Берпи" (если колено позволяет) – 3 подхода по 10 повторений. Если чувствуешь дискомфорт, замени на выпады в сторону.

**Заминка (5-10 минут):**
1. Растяжка квадрицепса (не допускай сильного напряжения в колене) – по 30 секунд на каждую ногу.
2. Растяжка икроножных мышц – по 30 секунд на каждую ногу.
3. Растяжка грудных мышц у стены – по 30 секунд.
4. Дыхательные упражнения – 2 минуты.

Подходит ли тебе предложенная программа или есть моменты, которые ты бы хотел изменить?
2023-11-09 18:18:23,839 - INFO - Считаем текущие токены пользователя (user_id: 802693897): итого prompt_2=1084
2023-11-09 18:18:27,736 - INFO - from check_program Да
2023-11-09 18:18:27,859 - INFO - Сохраняем программу для пользователя 802693897
2023-11-09 18:18:30,504 - INFO - json prog: Программа тренировки выглядит хорошо, но я бы предпочел заменить отжимания на другое упражнение, так как у меня болят колени. Можете предложить что-то другое?
2023-11-09 18:29:13,601 - ERROR - Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=25)
2023-11-09 18:29:13,602 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 537, in _make_request
    response = conn.getresponse()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connection.py", line 461, in getresponse
    httplib_response = super().getresponse()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/http/client.py", line 1374, in getresponse
    response.begin()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/http/client.py", line 318, in begin
    version, status, reason = self._read_status()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/http/client.py", line 279, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/socket.py", line 705, in readinto
    return self._sock.recv_into(b)
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/ssl.py", line 1274, in recv_into
    return self.read(nbytes, buffer)
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/ssl.py", line 1130, in read
    return self._sslobj.read(len, buffer)
TimeoutError: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 845, in urlopen
    retries = retries.increment(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 470, in increment
    raise reraise(type(error), error, _stacktrace)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/util/util.py", line 39, in reraise
    raise value
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 791, in urlopen
    response = self._make_request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 539, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 371, in _raise_timeout
    raise ReadTimeoutError(
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=25)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1073, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 108, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 649, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 623, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 321, in get_updates
    return _make_request(token, method_url, params=payload)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/apihelper.py", line 156, in _make_request
    result = _get_req_session().request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/requests/adapters.py", line 532, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=25)

2023-11-09 18:33:18,132 - ERROR - Infinity polling: polling exited
2023-11-09 18:33:18,133 - ERROR - Break infinity polling
2023-11-09 18:33:21,791 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-09 18:33:22,205 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 18:33:22,205 - INFO - Задаем system на промпт 1
2023-11-09 18:33:26,275 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 18:33:26,633 - INFO - Сообщение пользователя (user_id: 802693897): Я Егор, мне 17, хочу отжимания, инвентаря нет, болит колено, хочу тратить 40 минут в день, уровень физической подготовки 10
2023-11-09 18:33:26,633 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-09 18:33:31,675 - INFO - Получили ответ GPT. Ответ: Твоя анкета:
Имя: Егор
Пол: Мужской (определен по имени)
Возраст: 17 лет
Уровень физической подготовки: 10/10
Продолжительность занятия: 40 минут в день
Физические ограничения: Болит колено
Наличие спортивного инвентаря: Нет
Пожелания по упражнениям: Хочу делать отжимания

Все верно? Если что-то не так, пожалуйста, напиши исправления.
2023-11-09 18:33:31,675 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 689
2023-11-09 18:33:31,676 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-09 18:33:33,641 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-09 18:33:33,642 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-09 18:33:33,887 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-09 18:33:37,353 - INFO - json form {'profile': {'name': 'Егор', 'sex': 'Мужской', 'age': 17, 'level': 10, 'duration': 40, 'issues': 'Болит колено', 'equipment': 'Нет', 'wishes': 'Хочу делать отжимания'}}
2023-11-09 18:33:37,356 - INFO - Получили форму пользователя (user_id: 802693897), форма: {
  "profile": {
    "name": "Егор",
    "sex": "Мужской",
    "age": 17,
    "level": 10,
    "duration": 40,
    "issues": "Болит колено",
    "equipment": "Нет",
    "wishes": "Хочу делать отжимания"
  }
}, передаем ее во 2 промпт
2023-11-09 18:33:37,356 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 1534
2023-11-09 18:33:37,357 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-09 18:33:59,180 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки:

**Разминка (5-10 минут):**
1. Ходьба на месте – 2 минуты.
2. Махи руками – 20 раз каждой рукой.
3. Повороты туловища – 15 раз в каждую сторону.
4. Растяжка икры – по 30 секунд на каждую ногу.

**Основная часть (25-30 минут):**
1. Отжимания (учитывая твоё желание) – 5 подходов по 20 повторений.
2. Приседания без нагрузки (аккуратно, если колено беспокоит) – 4 подхода по 25 повторений.
3. Планка – 4 подхода по 1 минуте.
4. Берпи (если колено позволяет, выполняй без рывков) – 4 подхода по 15 повторений.

**Заминка (5 минут):**
1. Растяжка квадрицепсов – по 30 секунд на каждую ногу.
2. Растяжка грудных мышц у стены – по 30 секунд на каждую сторону.
3. Поза ребёнка – 1 минута.
4. Глубокое диафрагмальное дыхание – 2 минуты.

Если боли в колене усилятся во время выполнения упражнений, следует их прекратить или заменить на более щадящие. Подходит ли тебе такая программа или есть пожелания по изменениям?
2023-11-09 18:33:59,181 - INFO - Считаем текущие токены пользователя (user_id: 802693897): итого prompt_2=1003
2023-11-09 18:34:14,559 - INFO - from check_program Да
2023-11-09 18:34:14,755 - INFO - Сохраняем программу для пользователя 802693897
2023-11-09 18:34:15,109 - INFO - error_code=None error_message='{\'802693897\': [{\'role\': \'assistant\', \'content\': \'Твоя программа тренировки:\\n\\n**Разминка (5-10 минут):**\\n1. Ходьба на месте – 2 минуты.\\n2. Махи руками – 20 раз каждой рукой.\\n3. Повороты туловища – 15 раз в каждую сторону.\\n4. Растяжка икры – по 30 секунд на каждую ногу.\\n\\n**Основная часть (25-30 минут):**\\n1. Отжимания (учитывая твоё желание) – 5 подходов по 20 повторений.\\n2. Приседания без нагрузки (аккуратно, если колено беспокоит) – 4 подхода по 25 повторений.\\n3. Планка – 4 подхода по 1 минуте.\\n4. Берпи (если колено позволяет, выполняй без рывков) – 4 подхода по 15 повторений.\\n\\n**Заминка (5 минут):**\\n1. Растяжка квадрицепсов – по 30 секунд на каждую ногу.\\n2. Растяжка грудных мышц у стены – по 30 секунд на каждую сторону.\\n3. Поза ребёнка – 1 минута.\\n4. Глубокое диафрагмальное дыхание – 2 минуты.\\n\\nЕсли боли в колене усилятся во время выполнения упражнений, следует их прекратить или заменить на более щадящие. Подходит ли тебе такая программа или есть пожелания по изменениям?\'}, {\'role\': \'assistant\', \'content\': \'Переделай этот текст в json формат, где "training" - массив внутри которого есть массивы "Разминка" , "Основная часть", "Заминка" внутри которых есть "Упражнение 1", "Упражнение 2", "Упражнение 3" и так далее. Не давай никаких комментариев.\'}]} is not of type \'array\' - \'messages\'' error_param=None error_type=invalid_request_error message='OpenAI API error received' stream_error=False
2023-11-09 18:34:15,112 - ERROR - Infinity polling exception: {'802693897': [{'role': 'assistant', 'content': 'Твоя программа тренировки:\n\n**Разминка (5-10 минут):**\n1. Ходьба на месте – 2 минуты.\n2. Махи руками – 20 раз каждой рукой.\n3. Повороты туловища – 15 раз в каждую сторону.\n4. Растяжка икры – по 30 секунд на каждую ногу.\n\n**Основная часть (25-30 минут):**\n1. Отжимания (учитывая твоё желание) – 5 подходов по 20 повторений.\n2. Приседания без нагрузки (аккуратно, если колено беспокоит) – 4 подхода по 25 повторений.\n3. Планка – 4 подхода по 1 минуте.\n4. Берпи (если колено позволяет, выполняй без рывков) – 4 подхода по 15 повторений.\n\n**Заминка (5 минут):**\n1. Растяжка квадрицепсов – по 30 секунд на каждую ногу.\n2. Растяжка грудных мышц у стены – по 30 секунд на каждую сторону.\n3. Поза ребёнка – 1 минута.\n4. Глубокое диафрагмальное дыхание – 2 минуты.\n\nЕсли боли в колене усилятся во время выполнения упражнений, следует их прекратить или заменить на более щадящие. Подходит ли тебе такая программа или есть пожелания по изменениям?'}, {'role': 'assistant', 'content': 'Переделай этот текст в json формат, где "training" - массив внутри которого есть массивы "Разминка" , "Основная часть", "Заминка" внутри которых есть "Упражнение 1", "Упражнение 2", "Упражнение 3" и так далее. Не давай никаких комментариев.'}]} is not of type 'array' - 'messages'
2023-11-09 18:34:15,115 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 955, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1043, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1118, in __threaded_polling
    raise e
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/__init__.py", line 1074, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 147, in raise_exceptions
    raise self.exception_info
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/telebot/util.py", line 90, in run
    task(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/main.py", line 274, in check_program
    get_program = openai.ChatCompletion.create( # prompt 2.5
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/chat_completion.py", line 25, in create
    return super().create(*args, **kwargs)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_resources/abstract/engine_api_resource.py", line 155, in create
    response, _, api_key = requestor.request(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 299, in request
    resp, got_stream = self._interpret_response(result, stream)
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 710, in _interpret_response
    self._interpret_response_line(
  File "/Users/ekondrashov/PycharmProjects/openai/venv/lib/python3.10/site-packages/openai/api_requestor.py", line 775, in _interpret_response_line
    raise self.handle_error_response(
openai.error.InvalidRequestError: {'802693897': [{'role': 'assistant', 'content': 'Твоя программа тренировки:\n\n**Разминка (5-10 минут):**\n1. Ходьба на месте – 2 минуты.\n2. Махи руками – 20 раз каждой рукой.\n3. Повороты туловища – 15 раз в каждую сторону.\n4. Растяжка икры – по 30 секунд на каждую ногу.\n\n**Основная часть (25-30 минут):**\n1. Отжимания (учитывая твоё желание) – 5 подходов по 20 повторений.\n2. Приседания без нагрузки (аккуратно, если колено беспокоит) – 4 подхода по 25 повторений.\n3. Планка – 4 подхода по 1 минуте.\n4. Берпи (если колено позволяет, выполняй без рывков) – 4 подхода по 15 повторений.\n\n**Заминка (5 минут):**\n1. Растяжка квадрицепсов – по 30 секунд на каждую ногу.\n2. Растяжка грудных мышц у стены – по 30 секунд на каждую сторону.\n3. Поза ребёнка – 1 минута.\n4. Глубокое диафрагмальное дыхание – 2 минуты.\n\nЕсли боли в колене усилятся во время выполнения упражнений, следует их прекратить или заменить на более щадящие. Подходит ли тебе такая программа или есть пожелания по изменениям?'}, {'role': 'assistant', 'content': 'Переделай этот текст в json формат, где "training" - массив внутри которого есть массивы "Разминка" , "Основная часть", "Заминка" внутри которых есть "Упражнение 1", "Упражнение 2", "Упражнение 3" и так далее. Не давай никаких комментариев.'}]} is not of type 'array' - 'messages'

2023-11-09 18:34:28,828 - ERROR - Infinity polling: polling exited
2023-11-09 18:34:28,828 - ERROR - Break infinity polling
2023-11-09 18:34:35,785 - INFO - Новый пользователь с user_id: 802693897, добавляем его в базу данных и начинаем диалог
2023-11-09 18:34:36,151 - INFO - Для пользователя user_id: 802693897 нет контекста. Создаем контекст и счетчик токенов
2023-11-09 18:34:36,151 - INFO - Задаем system на промпт 1
2023-11-09 18:34:40,255 - INFO - Пользователь отправил текстоовое сообщение
2023-11-09 18:34:40,601 - INFO - Сообщение пользователя (user_id: 802693897): Я Егор, мне 17, хочу отжимания, инвентаря нет, болит колено, хочу тратить 40 минут в день, уровень физической подготовки 10
2023-11-09 18:34:40,602 - INFO - Добавляем полученный текст в контекст пользователя (user_id: 802693897)
2023-11-09 18:34:43,844 - INFO - Получили ответ GPT. Ответ: Какая продолжительность одного занятия для тебя оптимальна? Есть ли у тебя еще какие-либо физические ограничения, кроме боли в колене?
2023-11-09 18:34:43,844 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 587
2023-11-09 18:34:43,845 - INFO - Переходим к уточняющим вопросам, если они нужны
2023-11-09 18:34:50,504 - INFO - Ответ пользователя (check_form): 40 минут, болит коленка
2023-11-09 18:34:50,505 - INFO - Добавляем ответ пользователя в контекст
2023-11-09 18:34:55,354 - INFO - Ответ от GPT получен. Ответ: Твоя анкета:
Имя: Егор
Пол: Мужской
Возраст: 17 лет
Уровень физической подготовки: 10/10
Продолжительность занятия: 40 минут
Физические ограничения: Боль в колене
Наличие спортивного инвентаря: Отсутствует
Пожелания по упражнениям: Отжимания

Все верно? Если есть что-то, что нужно изменить или добавить, напиши.
2023-11-09 18:34:55,354 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 1345
2023-11-09 18:34:55,354 - INFO - Проверяем, есть ли слово тригер(анкета) в ответе от GPT
2023-11-09 18:34:55,354 - INFO - Слово тригре в ответе от GPT, выдаем клаваиатуру, если ответ пользователя положительный, переходим к промпту 2
2023-11-09 18:34:56,649 - INFO - Переходим к финальной проверке анкеты пользователя. Ответ пользователя на форму: Да
2023-11-09 18:34:56,650 - INFO - Пользователь (user_id: 802693897) подтвердил корректность анкеты, начианем составлять для него программу
2023-11-09 18:34:56,807 - INFO - Перед составлением программы, получаем заполненую json форму пользователя без лишнего текста, для того, чтобы передать ее в промпт 2
2023-11-09 18:34:59,685 - INFO - json form {'profile': {'name': 'Егор', 'sex': 'мужской', 'age': 17, 'level': 10, 'duration': 40, 'issues': 'болит колено', 'equipment': 'нет', 'wishes': 'отжимания'}}
2023-11-09 18:34:59,688 - INFO - Получили форму пользователя (user_id: 802693897), форма: {
  "profile": {
    "name": "Егор",
    "sex": "мужской",
    "age": 17,
    "level": 10,
    "duration": 40,
    "issues": "болит колено",
    "equipment": "нет",
    "wishes": "отжимания"
  }
}, передаем ее во 2 промпт
2023-11-09 18:34:59,688 - INFO - Считаем токены для пользователя (user_id: 802693897): 802693897, итого prompt_1 = 2096
2023-11-09 18:34:59,688 - INFO - Создаем программу на основе полученной формы (анкеты), ждем ответ от GPT
2023-11-09 18:35:26,246 - INFO - Ответ от GPT получен, программа готова: Твоя программа тренировки:

**Разминка (10 минут)**:
1. Приседания без веса - 3 подхода по 15 повторений (будь осторожен с коленом, не приседай слишком низко).
2. Бег на месте - 3 минуты.
3. Прыжки на месте - 3 подхода по 30 секунд.
4. Размахивание руками - 3 подхода по 20 раз каждой рукой.

**Основная часть (25 минут)**:
1. Отжимания - 5 подходов по 20 повторений (выполняй на кулаках, если есть дискомфорт в запястьях).
2. Планка - 4 подхода по 1 минуте.
3. Берпи - 4 подхода по 15 повторений.
4. Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений.

**Заминка (5 минут)**:
1. Растяжка квадрицепсов - по 1 минуте на каждую ногу (не дави на колено, используй руки для поддержки).
2. Растяжка грудных мышц - 2 подхода по 30 секунд.
3. Растяжка трицепсов - по 30 секунд на каждую руку.
4. Дыхательные упражнения - 3 минуты.

Подходит ли тебе эта программа или есть что-то, что ты хотел бы изменить?
2023-11-09 18:35:26,246 - INFO - Считаем текущие токены пользователя (user_id: 802693897): итого prompt_2=990
2023-11-09 18:35:28,092 - INFO - from check_program Да
2023-11-09 18:35:28,276 - INFO - Сохраняем программу для пользователя 802693897
2023-11-09 18:35:38,240 - INFO - json prog: {
  "training": {
    "Разминка": [
      "Приседания без веса - 3 подхода по 15 повторений",
      "Бег на месте - 3 минуты",
      "Прыжки на месте - 3 подхода по 30 секунд",
      "Размахивание руками - 3 подхода по 20 раз каждой рукой"
    ],
    "Основная часть": [
      "Отжимания - 5 подходов по 20 повторений",
      "Планка - 4 подхода по 1 минуте",
      "Берпи - 4 подхода по 15 повторений",
      "Отжимания с узкой постановкой рук (для трицепсов) - 4 подхода по 15 повторений"
    ],
    "Заминка": [
      "Растяжка квадрицепсов - по 1 минуте на каждую ногу",
      "Растяжка грудных мышц - 2 подхода по 30 секунд",
      "Растяжка трицепсов - по 30 секунд на каждую руку",
      "Дыхательные упражнения - 3 минуты"
    ]
  }
}
2023-11-09 18:36:30,276 - ERROR - Infinity polling: polling exited
2023-11-09 18:36:30,277 - ERROR - Break infinity polling
